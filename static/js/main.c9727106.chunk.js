(this["webpackJsonpland-of-nightmares"]=this["webpackJsonpland-of-nightmares"]||[]).push([[0],{226:function(e,a,t){e.exports=t.p+"static/media/app.77594075.mp3"},230:function(e){e.exports=JSON.parse("{}")},231:function(e){e.exports=JSON.parse('{"AllowAudio":{"action":"Allow audio","text":"We need you to allow sounds if you want a better gaming experience. You can still play without sound if you prefer."},"App":{"nowPlaying":"Now playing: {{name}}"},"Drawer":{"titleScreen":"Title screen","settings":"Settings"},"Navigation":{"characters":"Companions","inventory":"Inventory","journal":"Journal","menu":"Menu"},"ProjectName":"Land of Nightmares","Settings":{"title":"Settings","subheader":"Change them at any time without altering the game","goBack":"Go back","text":{"title":"Text settings","subheader":"Concerns reading and theme"},"inGame":{"title":"In game settings","subheader":"Concerns specific game behaviors","resetHistory":{"action":"Delete save","text":"You can reset your save at any time, but you will lose your progress in the game. A save is specific to each machine.","success":"Save deleted!"}},"volume":{"title":"Audio settings","subheader":"Edit volumes of each audio types"},"Inputs":{"Language":{"label":"Language","helperText":"Select your language (default is the one of your browser)","en":"English","fr":"Fran\xe7ais"},"Audio":{"label":"Audio","helperText":"Turn all game sounds on or off"},"DarkMode":{"label":"Dark mode","helperText":"Turn dark mode on or off"},"Hints":{"label":"Hints","helperText":"Activate or deactivate the clues that appear during important choices"},"TableTopMode":{"label":"Table top mode","helperText":"Activate or deactivate the table top mode which displays the results of \xab rolls of dice \xbb and other information regarding decision making."},"SoundVolume":{"label":"Sounds & environment"},"MusicVolume":{"label":"Music & ambience"},"DialogVolume":{"label":"Dialogs"}}},"ScrollToBottom":{"goDown":"Go down"},"TitleScreen":{"subheader":"A narrative adventure through the dark fantasy theme","play":"New game","keepPlaying":"Continue","settings":"Edit settings","credits":"See credits","quit":"Quit the game","mute":"Toggle all audio events","darkMode":"Toggle light/dark theme","sources":"See sources on GitHub"}}')},232:function(e){e.exports=JSON.parse("{}")},233:function(e){e.exports=JSON.parse('{"AllowAudio":{"action":"Autoriser les sons","text":"Nous avons besoin que vous autorisiez les sons si vous voulez une meilleure exp\xe9rience de jeu. Vous pouvez quand m\xeame jouer sans son si vous pr\xe9f\xe9rez."},"App":{"nowPlaying":"Vous \xe9coutez : {{name}}"},"Drawer":{"titleScreen":"\xc9cran d\'acceuil","settings":"Param\xe8tres"},"Navigation":{"characters":"Compagnons","inventory":"Inventaire","journal":"Journal","menu":"Menu"},"ProjectName":"Land of Nightmares","Settings":{"title":"Param\xe8tres","subheader":"Changez-les \xe0 tout moment sans affecter le cours du jeu","goBack":"Retour","text":{"title":"Param\xe8tres de texte","subheader":"Concerne la lecture et le theme"},"inGame":{"title":"Param\xe8tres de jeu","subheader":"Concerne tout ce qui affecte \xe0 la jouabilit\xe9","resetHistory":{"action":"Supprimer sauvegarde","text":"Vous pouvez r\xe9initialiser votre sauvegarde \xe0 tout moment, mais vous perdrez votre progression dans le jeu. Une sauvegarde est propre \xe0 chaque machine.","success":"Sauvegarde supprim\xe9e !"}},"volume":{"title":"Param\xe8tres audio","subheader":"Concerne les volumes des diff\xe9rents type d\'audio"},"Inputs":{"Language":{"label":"Langue","helperText":"S\xe9lectionner votre langue (par d\xe9faut celle de votre navigateur)","en":"English","fr":"Fran\xe7ais"},"Audio":{"label":"Audio","helperText":"Activer ou d\xe9sactiver tous les sons du jeu"},"DarkMode":{"label":"Mode sombre","helperText":"Activer ou d\xe9sactiver le mode sombre"},"Hints":{"label":"Indices","helperText":"Activer ou d\xe9sactiver les indices qui apparaissent lors de choix importants"},"TableTopMode":{"label":"Mode jeu de r\xf4le","helperText":"Activer ou d\xe9sactiver le mode jeu de r\xf4le qui affiche les r\xe9sultats des \xab lanc\xe9s de d\xe9s \xbb et autres informations concernant la prise de d\xe9cision."},"SoundVolume":{"label":"Sons & environnement"},"MusicVolume":{"label":"Musiques & ambiance"},"DialogVolume":{"label":"Dialogues"}}},"ScrollToBottom":{"goDown":"Aller en bas"},"TitleScreen":{"subheader":"Une aventure narrative \xe0 travers le registre dark fantasy","play":"Nouvelle partie","keepPlaying":"Continuer","settings":"Modifier les param\xe8tres","credits":"Voir les cr\xe9dits","quit":"Quitter le jeu","mute":"Activer ou d\xe9sactiver les sons","darkMode":"Activer ou d\xe9sactiver le mode sombre","sources":"Voir le code source sur GitHub"}}')},245:function(e,a,t){e.exports=t(395)},394:function(e,a,t){},395:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(11),o=t.n(l);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=t(234),i=t(9),s=t(199),u=t(450),m=t(467),d=t(55),p=t(34),b=t(13),g=t(33),f=t(58),v=t(36),h=t(65),E=t.n(h),j=t(201),O=t.n(j),y={isLoaded:!1,isPlaying:!1,isPaused:!1,isStopped:!1},k=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"file",r=Object(n.useState)(y),l=Object(p.a)(r,2),o=l[0],c=l[1],i=Object(n.useState)((function(){return new O.a.Sound({source:t,options:e},(function(){c((function(e){return Object(v.a)({},e,{isLoaded:!0})})),E()(a)&&a(u)}))})),s=Object(p.a)(i,1),u=s[0];return Object(n.useEffect)((function(){return function(){return u.stop()}}),[u]),u.on("play",(function(){return c((function(e){return Object(v.a)({},e,{isPlaying:!0,isPaused:!1,isStopped:!1})}))})),u.on("pause",(function(){return c((function(e){return Object(v.a)({},e,{isPlaying:!1,isPaused:!0,isStopped:!1})}))})),u.on("stop",(function(){return c((function(e){return Object(v.a)({},e,{isPlaying:!1,isPaused:!1,isStopped:!0})}))})),[u,o]},w=function(e,a,t){var r=t.isLoaded,l=t.isPlaying;return Object(n.useEffect)((function(){e&&r&&!l&&a.play()}),[e,r,l,a])},x=function(e,a){var t=a.audio,r=a.volume;return Object(n.useEffect)((function(){e.volume=t?r/100:0}),[e,t,r])},T=t(2),N=t(117),S=t(469),C=t(216),P=t.n(C),I=t(164),A=t(461),M=t(459),z=t(32),V=t(69),H=t.n(V),q=t(49),U=t.n(q),W=t(204),L=t.n(W),B=t(109),D=t.n(B),F=t(107),G=t.n(F),R=t(205),J=t.n(R),_=t(441),K=t(442),Q=t(446),Y=t(444),$=t(443),X=t(51),Z=t(470),ee=t(202),ae=t.n(ee),te=t(203),ne=t.n(te),re=t(206),le=t.n(re),oe=Object(I.a)((function(e){return{root:{marginBottom:e.spacing(2)},cardContent:{"&:last-child":{padding:e.spacing(2)}},cardActions:{flexWrap:"wrap",justifyContent:"space-evenly"},hint:{marginTop:e.spacing(1)}}})),ce=Object(n.forwardRef)((function(e,a){var t=oe(),l=e.actions,o=e.children,c=e.className,i=e.hint,s=e.injected,u=e.media,m=e.onEnable,d=e.onTap,b=e.onTimeout,g=e.readOnly,f=e.settings,v=e.text,h=e.typographyProps,E=e.timeout,j=Object(z.a)(e,["actions","children","className","hint","injected","media","onEnable","onTap","onTimeout","readOnly","settings","text","typographyProps","timeout"]),O=Object(n.useRef)(null),y=G()(d,g,s),k=Object(p.a)(y,2),w=k[0],x=k[1],N=ae()(l,s),S=Object(p.a)(N,2),C=S[0],P=S[1],I=ne()(b,E,s,C);Object(n.useImperativeHandle)(a,(function(){return{focus:O.current.focus}})),L()(m,s),D()(O,s),J()(b,E,s);var A=Object(n.useMemo)((function(){return!s.enabled||g||C}),[C,s.enabled,g]);return r.a.createElement(_.a,Object.assign({className:Object(T.a)(t.root,c)},j),r.a.createElement(K.a,{disabled:A,onClick:w,onKeyPress:x,readOnly:g,ref:O},u&&r.a.createElement($.a,u),r.a.createElement(Y.a,{className:t.cardContent},v?r.a.createElement(X.a,Object.assign({align:"center"},h),o):o,f.hints&&!U()(i)?r.a.createElement(Z.a,{variant:"outlined",severity:"info",className:t.hint},i):null)),C&&r.a.createElement(Q.a,{className:t.cardActions,disableSpacing:!0},P),I&&r.a.createElement(le.a,{timeout:E,onTimeout:b,enabled:s.enabled}))}));ce.defaultProps={actions:[],className:"",hint:"",injected:void 0,media:null,onEnable:H.a,onTap:null,onTimeout:H.a,readOnly:!1,text:!1,timeout:0,typographyProps:{}};var ie=Object(b.b)((function(e){return{settings:e.settings}}),{})(ce),se=t(474),ue=t(445),me=t(452),de=t(451),pe=t(402),be=t(453),ge=t(454),fe=t(207),ve=t.n(fe),he=t(209),Ee=t.n(he),je=t(112),Oe=t.n(je),ye=Object(I.a)((function(){return{root:{fontFamily:"ReBucked"}}})),ke=function(e){var a=e.className,t=Object(z.a)(e,["className"]),n=ye(),l=Object(i.b)("UI").t;return r.a.createElement(X.a,Object.assign({className:Object(T.a)(n.root,a)},t),l("ProjectName"))};ke.defaultProps={className:""};var we=ke,xe=t(447),Te=t(449),Ne=t(448),Se=t(476),Ce=t(29);function Pe(e,a){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0;return a.hasOwnProperty(n.type)?a[n.type](t,n):t}}var Ie=function(e){return{type:"UPDATE_SETTINGS",settings:e}},Ae=Pe({audio:!1,darkMode:!0,hints:!0,tableTopMode:!1,dialogVolume:75,musicVolume:30,soundVolume:50},Object(Ce.a)({},"UPDATE_SETTINGS",(function(e,a){var t=a.settings;return Object(v.a)({},e,{},t)}))),Me="Settings.Inputs.Audio",ze=Object(I.a)({switch:{marginRight:10}});function Ve(e){var a=e.dispatch,t=e.displayHelperText,l=e.name,o=e.value,c=ze(),s=Object(i.b)("UI").t,u=Object(n.useCallback)((function(e){a(Ie({audio:e.target.checked}))}),[a]);return r.a.createElement(xe.a,null,r.a.createElement(Ne.a,{control:r.a.createElement(Se.a,{name:l,checked:o,onChange:u,className:c.switch}),label:s("".concat(Me,".label"))}),t&&r.a.createElement(Te.a,null,s("".concat(Me,".helperText"))))}Ve.defaultProps={displayHelperText:!1,name:"audio"};var He=Object(b.b)((function(e){return{value:e.settings.audio}}))(Ve),qe="Settings.Inputs.DarkMode",Ue=Object(I.a)({switch:{marginRight:10}});function We(e){var a=e.dispatch,t=e.displayHelperText,l=e.name,o=e.value,c=Ue(),s=Object(i.b)("UI").t,u=Object(n.useCallback)((function(e){a(Ie({darkMode:e.target.checked}))}),[a]);return r.a.createElement(xe.a,null,r.a.createElement(Ne.a,{control:r.a.createElement(Se.a,{name:l,checked:o,onChange:u,className:c.switch}),label:s("".concat(qe,".label"))}),t&&r.a.createElement(Te.a,null,s("".concat(qe,".helperText"))))}We.defaultProps={displayHelperText:!1,name:"darkMode"};var Le=Object(b.b)((function(e){return{value:e.settings.darkMode}}))(We),Be="Settings.Inputs.Hints",De=Object(I.a)({switch:{marginRight:10}});function Fe(e){var a=e.dispatch,t=e.displayHelperText,l=e.name,o=e.value,c=De(),s=Object(i.b)("UI").t,u=Object(n.useCallback)((function(e){a(Ie({hints:e.target.checked}))}),[a]);return r.a.createElement(xe.a,null,r.a.createElement(Ne.a,{control:r.a.createElement(Se.a,{name:l,checked:o,onChange:u,className:c.switch}),label:s("".concat(Be,".label"))}),t&&r.a.createElement(Te.a,null,s("".concat(Be,".helperText"))))}Fe.defaultProps={displayHelperText:!1,name:"hints"};var Ge=Object(b.b)((function(e){return{value:e.settings.hints}}))(Fe),Re="Settings.Inputs.TableTopMode",Je=Object(I.a)({switch:{marginRight:10}});function _e(e){var a=e.dispatch,t=e.displayHelperText,l=e.name,o=e.value,c=Je(),s=Object(i.b)("UI").t,u=Object(n.useCallback)((function(e){a(Ie({tableTopMode:e.target.checked}))}),[a]);return r.a.createElement(xe.a,null,r.a.createElement(Ne.a,{control:r.a.createElement(Se.a,{name:l,checked:o,onChange:u,className:c.switch}),label:s("".concat(Re,".label"))}),t&&r.a.createElement(Te.a,null,s("".concat(Re,".helperText"))))}_e.defaultProps={displayHelperText:!1,name:"tableTopMode"};var Ke=Object(b.b)((function(e){return{value:e.settings.tableTopMode}}))(_e),Qe=Object(I.a)((function(e){return{toolbar:Object(v.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),list:{width:"auto"},iconButton:{marginLeft:e.spacing(1)}}})),Ye="Drawer";var $e=function(e){var a=e.open,t=e.toggle,n=Object(z.a)(e,["open","toggle"]),l=Qe(),o=Object(i.b)("UI").t;return r.a.createElement(se.a,Object.assign({open:a,onClose:t(!1),onOpen:t(!0)},n),r.a.createElement("div",{className:l.list,role:"presentation"},r.a.createElement("div",{className:l.toolbar},r.a.createElement(we,null),r.a.createElement(ue.a,{onClick:t(!1),className:l.iconButton},r.a.createElement(ve.a,null))),r.a.createElement(de.a,null),r.a.createElement(me.a,null,r.a.createElement(pe.a,{button:!0,component:g.b,to:"/"},r.a.createElement(be.a,null,r.a.createElement(Ee.a,null)),r.a.createElement(ge.a,{primary:o("".concat(Ye,".titleScreen"))})),r.a.createElement(pe.a,{button:!0,component:g.b,to:"/settings?referrer=play"},r.a.createElement(be.a,null,r.a.createElement(Oe.a,null)),r.a.createElement(ge.a,{primary:o("".concat(Ye,".settings"))}))),r.a.createElement(de.a,null),r.a.createElement(me.a,null,r.a.createElement(pe.a,null,r.a.createElement(He,null)),r.a.createElement(pe.a,null,r.a.createElement(Le,null)),r.a.createElement(pe.a,null,r.a.createElement(Ge,null)),r.a.createElement(pe.a,null,r.a.createElement(Ke,null)))))},Xe=t(113),Ze=t.n(Xe),ea=t(455),aa=t(17),ta=t(456),na=t(457),ra=t(211),la=t.n(ra),oa=t(212),ca=t.n(oa),ia=t(213),sa=t.n(ia),ua=t(210),ma=t.n(ua),da="Navigation",pa=Object(I.a)((function(){return{disabled:{opacity:"0.2"}}}));function ba(e){var a=e.icons,t=e.onMenuClick,l=e.paths,o=e.rootPath,c=Object(z.a)(e,["icons","onMenuClick","paths","rootPath"]),s=pa(),u=Object(aa.a)(),m=Object(ea.a)(u.breakpoints.up("sm")),d=Object(i.b)("UI").t,p=Object(f.f)(),b=Object(n.useCallback)((function(e){return d("".concat(da,".").concat(e))}),[d]),v=Object(n.useMemo)((function(){return Ze()(l,(function(e){return!!Object(f.e)(p.pathname,{path:"".concat(o,"/").concat(e)})}))}),[p.pathname,l,o]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ta.a,Object.assign({showLabels:!0,value:v},c),l.map((function(e){var t=b(e),n=a[e],l="journal"!==e;return r.a.createElement(na.a,{className:Object(T.a)(Object(Ce.a)({},s.disabled,l)),disabled:l,component:g.b,key:"".concat(da,".").concat(e),label:t,icon:r.a.createElement(n,null),to:"".concat(o,"/").concat(e)})})),t&&m?r.a.createElement(na.a,{label:d("".concat(da,".menu")),icon:r.a.createElement(ma.a,null),onClick:t}):null))}ba.defaultProps={icons:{characters:la.a,inventory:ca.a,journal:sa.a},onMenuClick:null,paths:["characters","inventory","journal"],rootPath:"/"};var ga=ba,fa=t(458),va=t(468),ha=t(460),Ea=t(161),ja=t(214),Oa=t.n(ja),ya="ScrollToBottom",ka=Object(I.a)((function(e){return{root:{position:"fixed",width:"100vw",zIndex:1,top:e.spacing(2)}}}));var wa=Object(b.b)((function(e){return{history:e.history}}))((function(e){var a=e.targetRef,t=e.history,l=ka(),o=Object(i.b)().t,c=Object(fa.a)({disableHysteresis:!0}),s=Object(fa.a)(),u=c&&!s,m=Object(n.useCallback)((function(e){window.scrollTo({top:a.current.offsetTop+a.current.offsetHeight,behavior:e})}),[a]);return Object(n.useEffect)(m,[t]),r.a.createElement(Ea.a,{appear:!1,direction:"down",in:u},r.a.createElement(va.a,{className:l.root},r.a.createElement(M.a,{maxWidth:"sm"},r.a.createElement(va.a,{display:"flex",justifyContent:"center"},r.a.createElement(ha.a,{color:"secondary","aria-label":o("".concat(ya,".goDown")),onClick:function(){return m("smooth")}},r.a.createElement(Oa.a,null))))))})),xa=t(178),Ta={inherit:void 0,small:2,medium:3,large:4,xl:5},Na=Object(I.a)((function(e){return{root:function(a){var t=a.fontFamily,n=a.fontSize;return{marginBottom:e.spacing(2),fontSize:e.spacing(Ta[n]),"&.useFont":{fontFamily:t}}}}})),Sa=Object(n.forwardRef)((function(e,a){var t=e.children,l=e.className,o=e.fontFamily,c=e.fontSize,i=e.onTap,s=e.readOnly,u=e.injected,m=Object(z.a)(e,["children","className","fontFamily","fontSize","onTap","readOnly","injected"]),d=Na({fontFamily:o,fontSize:c}),b=Object(n.useRef)(null),g=G()(i,s,u),f=Object(p.a)(g,2),v=f[0],h=f[1];return Object(n.useImperativeHandle)(a,(function(){return{focus:b.current.focus}})),D()(b,u),r.a.createElement(xa.a,Object.assign({className:Object(T.a)(d.root,l,{useFont:!U()(o)}),fullWidth:!0,onClick:v,onKeyPress:h,ref:b,variant:"outlined",disabled:!u.enabled},m),t)}));Sa.defaultProps={className:"",fontFamily:"inherit",fontSize:"inherit",injected:void 0,onTap:null,readOnly:!1};var Ca=[["Intro",["Aussi grande soit-elle, chaque civilisation est vou\xe9e \xe0 dispara\xeetre\n  et les ruines laiss\xe9es par nos anc\xeatres cohabitent avec les monuments de notre \xe8re.\n  Mais dans ce vieux monde ab\xeem\xe9 par le poids de la guerre fleuri l'audace des Hommes.\n  Ils forgent le progr\xe8s, et laissent une marque parmi leurs pairs.","Cette aura qui vous entoure me parle,\n  elle me montre le destin qui vous accompagne, vous et votre audace.\n  Que dis-je ? Les destins ! Du plus court au plus long et du plus sombre au plus sacr\xe9...","Saurez-vous saisir les opportunit\xe9s tout en pr\xe9servant votre nature ?\n  Parviendrez-vous \xe0 prot\xe9ger les personnes qui vous sont ch\xe8res ?\n  Assumerez-vous les choix que vous allez prendre ?","Prenez-les sagement, naturellement, \xe9go\xeestement ou peu importe,\n   car rien n'est aussi simple qu'il n'en ait l'air\n   et les cons\xe9quences de vos actions r\xe9pondront \xe0 leur propre myst\xe8re.",{component:Sa,children:"Land of Nightmares",fontFamily:"Rebucked",fontSize:"xl",color:"primary",onTap:function(e){return(0,e.goForward)()}},"Terminons les r\xe9cits du pass\xe9, les Hommes et leur empire,\n  les r\xeaves des explorateurs qui jadis visit\xe8rent ce lieu sans revenir.","Ce vieux temple que vous savez au fond d'une jungle, dense et magique est votre prison depuis une \xe9ternit\xe9.\n  Vous y demeurez actuellement inerte, sommeillant au coeur de la pierre et au pied d'un monde aust\xe8re.",{children:"Au coeur de votre tombeau m\xeame ! Celui de votre ancienne vie, que vous avez volontairement oubli\xe9.\n    Souhaitez vous vraiment vous r\xe9veiller ?",onTimeout:function(e){return(0,e.goForward)(1)},timeout:2e4,actions:[{children:"Se r\xe9veiller",onClick:function(e){return(0,e.goForward)()}},{children:"Rester passive",onClick:function(e){return(0,e.goForward)(1)}}]},{children:"Vous le souhaitez, mais vous ne controllez rien. C'est au final le hasard qui s'en chargera.",onTap:function(e){return(0,e.goForward)(1)}},"Vous avez raison d'\xeatre passive, car m\xeame si la pens\xe9e vous effraie, vous ne controllez rien.","Soudain, vous entendez le craquement du granite qui se d\xe9robe devant vous.\n  Une lumi\xe8re vient alors intens\xe9ment vous \xe9blouir et vous sortir d\xe9finitivement de ce long repos.\n  Vous la sentez aussi sur votre coprs, nu, comme si vous n'aviez jamais go\xfbt\xe9 \xe0 la vie.","L'air vous agresse, il vous fouette,\n  comme s'il se vangeait, lui aussi, de ne jamais avoir pu vous toucher, durant toutes ces ann\xe9es !\n  Ou ces mill\xe9naires, qui sait ?",{children:"Vous n'avez aucune notion du temps, vos rep\xe8res sont inexistants, tout est sombre ou n\xe9ant.\n    Vous \xeates \xe9trang\xe8re \xe0 ce que vous vivez, mais vous le savez dangereux. Par quel hasard \xeates vous ...\n    secourue ou attaqu\xe9e ?",hint:"Mettre en garde ce qui est venu vous chercher est sans doute la meilleure option,\n    mais vous pourriez aussi essayer de puisez dans votre instinct primaire pour des r\xe9sultats plus divers.",actions:[{children:"Mettre en garde",onClick:function(e){return(0,e.goForward)()}},{children:"Puiser dans l'instinct",onClick:function(e){return(0,e.goForward)()}}]},{children:"Pas de suite pour l'instant. Merci les amis pour le beta test !",readOnly:!0}]]],Pa=Object(I.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.background.default}},root:{marginBottom:56},appBar:{top:"auto",bottom:0,backgroundColor:e.palette.background.default},navigation:{width:"100vw"}}}));var Ia=Object(b.b)(P.a)((function(e){var a=e.dispatch,t=e.history,l=Object(n.useRef)(null),o=Pa(),c=Object(n.useState)({open:!1}),i=Object(p.a)(c,2),s=i[0],u=i[1],m=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!s.open;return function(a){(!a||"keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&u({open:e})}}),[s.open]),b=Object(n.useMemo)((function(){return new N.a(Ca)}),[]);return r.a.createElement(d.SnackbarProvider,{maxSnack:3},r.a.createElement("div",{ref:l,className:Object(T.a)("Game",o.root)},r.a.createElement($e,{open:s.open,toggle:m}),r.a.createElement(wa,{targetRef:l}),r.a.createElement(M.a,{maxWidth:"sm"},r.a.createElement(S.a,{dispatch:a,history:t,nodeComponent:ie,tree:b})),r.a.createElement(A.a,{position:"fixed",className:o.appBar,elevation:4},r.a.createElement(ga,{rootPath:"/play",className:o.navigation,onMenuClick:m(!0)}))))})),Aa=t(401),Ma=t(465),za=Pe(!1,Object(Ce.a)({},"ALLOW_AUDIO",(function(){return!0}))),Va=Object(b.b)((function(e){return{isAllowed:e.allowAudio}}))((function(e){var a=e.dispatch,t=e.isAllowed,l=Object(z.a)(e,["dispatch","isAllowed"]),o=Object(i.b)("UI").t,c=Object(n.useCallback)((function(){a(Ie({audio:!0})),a({type:"ALLOW_AUDIO"})}),[a]);return t?null:r.a.createElement(Z.a,Object.assign({severity:"info",variant:"outlined",action:r.a.createElement(xa.a,{color:"inherit",size:"small",onClick:c},o("AllowAudio.action"))},l),o("AllowAudio.text"))})),Ha=t(116),qa=t.n(Ha),Ua=t(475),Wa=t(462),La=t(217),Ba=t.n(La),Da=t(218),Fa=t.n(Da),Ga="Settings.Inputs.Language",Ra=Object(I.a)({fullWidth:{width:"100%"},button:{justifyContent:"space-between"}});function Ja(e){var a=e.className,t=e.displayHelperText,l=e.fullWidth,o=Object(z.a)(e,["className","displayHelperText","fullWidth"]),c=Ra(),s=Object(aa.a)(),u=Object(ea.a)(s.breakpoints.up("sm")),m=Object(i.b)("UI"),d=m.t,b=m.i18n,g=Object(n.useState)(null),f=Object(p.a)(g,2),v=f[0],h=f[1],E=function(){h(null)},j=Object(n.useCallback)((function(e){return function(){b.changeLanguage(e),E()}}),[b]);return r.a.createElement(xe.a,{className:Object(T.a)(Object(Ce.a)({},c.fullWidth,l))},r.a.createElement(xa.a,Object.assign({className:Object(T.a)(c.button,a),variant:"contained",color:"primary","aria-controls":"language-menu","aria-haspopup":"true",onClick:function(e){h(e.currentTarget)},startIcon:u&&r.a.createElement(Ba.a,null),endIcon:r.a.createElement(Fa.a,null)},o),d("".concat(Ga,".").concat(b.language))),r.a.createElement(Ua.a,{anchorEl:v,open:Boolean(v),onClose:E,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(Wa.a,{value:"fr",onClick:j("fr")},d("".concat(Ga,".fr"))),r.a.createElement(Wa.a,{value:"en",onClick:j("en")},d("".concat(Ga,".en")))),t&&r.a.createElement(Te.a,null,d("".concat(Ga,".helperText"))))}Ja.defaultProps={className:"",displayHelperText:!1,fullWidth:!1};var _a=Ja,Ka=t(463),Qa=t(464),Ya=t(477),$a=t(472),Xa=t(56),Za=t.n(Xa),et="Settings.Inputs.MusicVolume",at=Object(I.a)({input:{width:75}});function tt(e){var a=e.dispatch,t=e.name,l=e.value,o=at(),c=Object(i.b)("UI").t,s=Object(n.useCallback)((function(e,t){a(Ie({musicVolume:t}))}),[a]),u=Object(n.useCallback)((function(e){var t=""===e.target.value?"":Number(e.target.value);t<0?t=0:t>100&&(t=100),a(Ie({musicVolume:t}))}),[a]);return r.a.createElement(Ka.a,{fullWidth:!0},r.a.createElement(X.a,{id:t,variant:"body2",gutterBottom:!0},c("".concat(et,".label"))),r.a.createElement(Qa.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(Qa.a,{item:!0},r.a.createElement(Za.a,null)),r.a.createElement(Qa.a,{item:!0,xs:!0},r.a.createElement(Ya.a,{value:l,onChange:s,"aria-labelledby":t})),r.a.createElement(Qa.a,{item:!0},r.a.createElement($a.a,{className:o.input,value:l,margin:"dense",onChange:u,onBlur:u,labelWidth:0,inputProps:{step:5,min:0,max:100,type:"number"}}))))}tt.defaultProps={name:"musicVolume"};var nt=Object(b.b)((function(e){return{value:e.settings.musicVolume}}))(tt),rt="Settings.Inputs.SoundVolume",lt=Object(I.a)({input:{width:75}});function ot(e){var a=e.dispatch,t=e.name,l=e.value,o=lt(),c=Object(i.b)("UI").t,s=Object(n.useCallback)((function(e,t){a(Ie({soundVolume:t}))}),[a]),u=Object(n.useCallback)((function(e){var t=""===e.target.value?"":Number(e.target.value);t<0?t=0:t>100&&(t=100),a(Ie({soundVolume:t}))}),[a]);return r.a.createElement(Ka.a,{fullWidth:!0},r.a.createElement(X.a,{id:t,variant:"body2",gutterBottom:!0},c("".concat(rt,".label"))),r.a.createElement(Qa.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(Qa.a,{item:!0},r.a.createElement(Za.a,null)),r.a.createElement(Qa.a,{item:!0,xs:!0},r.a.createElement(Ya.a,{value:l,onChange:s,"aria-labelledby":t})),r.a.createElement(Qa.a,{item:!0},r.a.createElement($a.a,{className:o.input,value:l,margin:"dense",onChange:u,onBlur:u,labelWidth:0,inputProps:{step:5,min:0,max:100,type:"number"}}))))}ot.defaultProps={name:"soundVolume"};var ct=Object(b.b)((function(e){return{value:e.settings.soundVolume}}))(ot),it="Settings.Inputs.DialogVolume",st=Object(I.a)({input:{width:75}});function ut(e){var a=e.dispatch,t=e.name,l=e.value,o=st(),c=Object(i.b)("UI").t,s=Object(n.useCallback)((function(e,t){a(Ie({dialogVolume:t}))}),[a]),u=Object(n.useCallback)((function(e){var t=""===e.target.value?"":Number(e.target.value);t<0?t=0:t>100&&(t=100),a(Ie({dialogVolume:t}))}),[a]);return r.a.createElement(Ka.a,{fullWidth:!0},r.a.createElement(X.a,{id:t,variant:"body2",gutterBottom:!0},c("".concat(it,".label"))),r.a.createElement(Qa.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(Qa.a,{item:!0},r.a.createElement(Za.a,null)),r.a.createElement(Qa.a,{item:!0,xs:!0},r.a.createElement(Ya.a,{value:l,onChange:s,"aria-labelledby":t})),r.a.createElement(Qa.a,{item:!0},r.a.createElement($a.a,{className:o.input,value:l,margin:"dense",onChange:u,onBlur:u,labelWidth:0,inputProps:{step:5,min:0,max:100,type:"number"}}))))}ut.defaultProps={name:"dialogVolume"};var mt=Object(b.b)((function(e){return{value:e.settings.dialogVolume}}))(ut),dt=Object(I.a)((function(e){return{section:{marginTop:e.spacing(3)},listItem:{paddingBottom:e.spacing(3)},alert:{marginTop:e.spacing(2)}}})),pt="Settings";var bt=Object(b.b)((function(e){return{allowAudio:e.allowAudio}}))((function(e){var a=e.allowAudio,t=e.dispatch,l=dt(),o=Object(f.f)(),c=Object(i.b)("UI").t,s=Object(d.useSnackbar)().enqueueSnackbar,u=Object(n.useMemo)((function(){return new URLSearchParams(o.search).get("referrer")||""}),[o.search]),m=Object(n.useCallback)((function(){t(Object(Ha.resetHistory)()),s(c("".concat(pt,".inGame.resetHistory.success")),{variant:"warning",preventDuplicate:!0})}),[t,s,c]);return r.a.createElement(Aa.a,{in:!0,className:"Settings"},r.a.createElement(M.a,{maxWidth:"sm"},r.a.createElement(X.a,{component:"h1",variant:"h3",color:"textPrimary",align:"center"},c("".concat(pt,".title"))),r.a.createElement(X.a,{variant:"h6",color:"textSecondary",align:"center",gutterBottom:!0},c("".concat(pt,".subheader"))),r.a.createElement(_.a,{className:l.section},r.a.createElement(Ma.a,{title:c("".concat(pt,".text.title")),subheader:c("".concat(pt,".text.subheader"))}),r.a.createElement(me.a,{disablePadding:!0},r.a.createElement(pe.a,{className:l.listItem,divider:!0},r.a.createElement(_a,{displayHelperText:!0,fullWidth:!0})),r.a.createElement(pe.a,{className:l.listItem,divider:!0},r.a.createElement(Le,{displayHelperText:!0})))),r.a.createElement(_.a,{className:l.section},r.a.createElement(Ma.a,{title:c("".concat(pt,".volume.title")),subheader:c("".concat(pt,".volume.subheader"))}),r.a.createElement(me.a,{disablePadding:!0},r.a.createElement(pe.a,{divider:!0},r.a.createElement(nt,null)),r.a.createElement(pe.a,{divider:!0},r.a.createElement(ct,null)),r.a.createElement(pe.a,{divider:!0},r.a.createElement(mt,null)),a?r.a.createElement(pe.a,{className:l.listItem,divider:!0},r.a.createElement(He,{displayHelperText:!0})):r.a.createElement(pe.a,{className:l.listItem,divider:!0},r.a.createElement(Va,{className:l.alert})))),r.a.createElement(_.a,{className:l.section},r.a.createElement(Ma.a,{title:c("".concat(pt,".inGame.title")),subheader:c("".concat(pt,".inGame.subheader"))}),r.a.createElement(me.a,{disablePadding:!0},r.a.createElement(pe.a,{className:l.listItem,divider:!0},r.a.createElement(Ge,{displayHelperText:!0})),r.a.createElement(pe.a,{className:l.listItem,divider:!0},r.a.createElement(Ke,{displayHelperText:!0})),r.a.createElement(pe.a,{className:l.listItem},r.a.createElement(Z.a,{className:l.alert,severity:"warning",variant:"outlined",action:r.a.createElement(xa.a,{color:"inherit",size:"small",onClick:m},c("".concat(pt,".inGame.resetHistory.action")))},c("".concat(pt,".inGame.resetHistory.text")))))),r.a.createElement(xa.a,{className:l.section,component:g.b,to:"/".concat(u),variant:"outlined",color:"default",fullWidth:!0},c("".concat(pt,".goBack")))))}));var gt=function(){return r.a.createElement("div",{className:"Credits"},r.a.createElement(M.a,null,r.a.createElement(X.a,null,"Audio"),r.a.createElement(X.a,null,"Title Screen: Freedom (Epic Fantasy) by lukiaffe https://www.newgrounds.com/audio/listen/785154")))},ft=t(114),vt=t.n(ft),ht=t(466),Et=t(473),jt=t(222),Ot=t.n(jt),yt=t(223),kt=t.n(yt),wt=t(224),xt=t.n(wt),Tt=t(219),Nt=t.n(Tt),St=t(220),Ct=t.n(St),Pt=t(221),It=t.n(Pt),At=t(225),Mt=t.n(At),zt="TitleScreen",Vt=!0,Ht=Object(I.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",minHeight:"calc(100vh - ".concat(2*e.spacing(4),"px)")},card:{marginTop:e.spacing(3)},action:{marginTop:e.spacing(1),marginLeft:e.spacing(1)},language:Object(Ce.a)({marginTop:e.spacing(2),maxWidth:"160px",overflow:"hidden"},e.breakpoints.up("sm"),{maxWidth:"320px"}),playIcon:{backgroundColor:e.palette.primary.main},flexGrow:{flexGrow:1},allowAudio:{marginTop:e.spacing(2)}}}));var qt=Object(b.b)((function(e){return{allowAudio:e.allowAudio,settings:e.settings,currentLocation:vt()(e.history).to}}))((function(e){var a=e.allowAudio,t=e.currentLocation,l=e.dispatch,o=e.settings,c=Ht(),s=Object(aa.a)(),u=Object(ea.a)(s.breakpoints.up("sm")),m=Object(i.b)("UI").t,d=Object(n.useMemo)((function(){return 0===t}),[t]),p=Object(n.useMemo)((function(){return o.audio?r.a.createElement(Za.a,null):r.a.createElement(Nt.a,null)}),[o.audio]),b=Object(n.useMemo)((function(){return o.darkMode?r.a.createElement(Ct.a,null):r.a.createElement(It.a,null)}),[o.darkMode]),f=Object(n.useMemo)((function(){return m("".concat(zt,d?".play":".keepPlaying"))}),[d,m]),v=Object(n.useCallback)((function(e,a){return function(){l(Ie(Object(Ce.a)({},e,!a)))}}),[l]);return r.a.createElement(Aa.a,{in:!0,className:c.root},r.a.createElement("div",{className:"TitleScreen"},r.a.createElement(M.a,{maxWidth:"sm"},r.a.createElement(we,{component:"h1",variant:"h3",color:"textPrimary",align:"center"}),r.a.createElement(X.a,{variant:"h6",color:"textSecondary",align:"center"},m("".concat(zt,".subheader"))),r.a.createElement(Va,{className:c.allowAudio}),r.a.createElement(_.a,{className:c.card},r.a.createElement(me.a,{component:"nav"},r.a.createElement(pe.a,{button:!0,component:g.b,to:"/play"},r.a.createElement(ht.a,null,r.a.createElement(Et.a,{className:c.playIcon},r.a.createElement(Ot.a,null))),r.a.createElement(ge.a,{primary:f})),r.a.createElement(pe.a,{button:!0,component:g.b,to:"/settings"},r.a.createElement(ht.a,null,r.a.createElement(Et.a,null,r.a.createElement(Oe.a,null))),r.a.createElement(ge.a,{primary:m("".concat(zt,".settings"))})),r.a.createElement(pe.a,{button:!0,component:g.b,to:"/credits"},r.a.createElement(ht.a,null,r.a.createElement(Et.a,null,r.a.createElement(kt.a,null))),r.a.createElement(ge.a,{primary:m("".concat(zt,".credits"))})),!Vt&&r.a.createElement(pe.a,{button:!0},r.a.createElement(ht.a,null,r.a.createElement(Et.a,null,r.a.createElement(xt.a,null))),r.a.createElement(ge.a,{primary:m("".concat(zt,".quit"))})))),r.a.createElement(va.a,{display:"flex"},r.a.createElement(_a,{className:c.language,size:"small",variant:"outlined",color:"default"}),r.a.createElement("span",{className:c.flexGrow}),u&&r.a.createElement(ue.a,{className:c.action,component:"a",href:"https://github.com/WaSa42/land-of-nightmares",target:"_blank",rel:"noopener noreferrer","aria-label":m("".concat(zt,".sources"))},r.a.createElement(Mt.a,null)),r.a.createElement(ue.a,{className:c.action,"aria-label":m("".concat(zt,".darkMode")),onClick:v("darkMode",o.darkMode),onKeyPress:v("darkMode",o.darkMode)},b),a&&r.a.createElement(ue.a,{className:c.action,"aria-label":m("".concat(zt,".mute")),onClick:v("audio",o.audio),onKeyPress:v("audio",o.audio)},p)))))}));function Ut(){var e=Object(f.f)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var Wt=t(226),Lt=t.n(Wt),Bt="Freedom (Epic Fantasy) by lukiaffe";var Dt=Object(b.b)((function(e){return{allowAudio:e.allowAudio,settings:e.settings}}))((function(e){var a=e.settings,t=e.allowAudio,l=k({loop:!0,path:Lt.a}),o=Object(p.a)(l,2),c=o[0],s=o[1];x(c,{audio:a.audio,volume:a.musicVolume}),w(t,c,s);var u=Object(i.b)("UI").t,m=Object(d.useSnackbar)().enqueueSnackbar;return Object(n.useEffect)((function(){s.isPlaying&&m(u("App.nowPlaying",{name:Bt}))}),[m,s.isPlaying,u]),r.a.createElement(g.a,null,r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/play"},r.a.createElement(Ia,{music:c})),r.a.createElement(f.a,{path:"/settings"},r.a.createElement(Ut,null),r.a.createElement(bt,null)),r.a.createElement(f.a,{path:"/credits"},r.a.createElement(gt,null)),r.a.createElement(f.a,{path:"/"},r.a.createElement(Ut,null),r.a.createElement(qt,null))))})),Ft=t(103),Gt=t(438),Rt=t(142),Jt=t.n(Rt),_t=t(143),Kt=t.n(_t),Qt={light:{palette:{type:"light",primary:Jt.a,secondary:Kt.a}},dark:{palette:{type:"dark",primary:{main:Jt.a[200]},secondary:Kt.a}}},Yt=Object(I.a)({"@global":{body:{margin:0}},root:function(e){var a=e.theme,t=e.backgroundImage;return{padding:a.spacing(4,0),width:"100%",minHeight:"calc(100vh - ".concat(2*a.spacing(4),"px)"),background:U()(t)?a.palette.background.default:'url("'.concat(t,'")'),backgroundSize:"cover",backgroundAttachment:"fixed",backgroundPosition:"center"}}});function $t(e){var a=e.backgroundImage,t=e.children,l=e.dark,o=Object(ea.a)("(prefers-color-scheme: dark)"),c=Object(n.useMemo)((function(){var e=o;return null!==l&&(e=l),e?"dark":"light"}),[l,o]),i=Object(n.useMemo)((function(){return Object(Ft.a)(Qt[c])}),[c]),s=Yt({theme:i,backgroundImage:a});return r.a.createElement(Gt.a,{theme:i},r.a.createElement("div",{className:s.root},t))}$t.defaultProps={backgroundImage:"",dark:null};var Xt=Object(b.b)((function(e){return Object(v.a)({},e.layout,{dark:e.settings.darkMode})}))($t),Zt=t(42),en=t(144),an=t(227),tn=t(228),nn=t.n(tn),rn=(t(393),t(229)),ln=Pe({backgroundImage:""},Object(Ce.a)({},"UPDATE_LAYOUT",(function(e,a){var t=a.layout;return Object(v.a)({},e,{},t)}))),on=[rn.a];var cn=Object(Zt.c)({allowAudio:za,history:qa.a,layout:ln,settings:Ae}),sn=Object(en.a)({key:"root",storage:nn.a,blacklist:["allowAudio","layout"]},cn),un=Object(Zt.e)(sn,Object(Zt.d)(Zt.a.apply(void 0,on))),mn=Object(en.b)(un),dn=function(e){var a=e.children;return r.a.createElement(b.a,{store:un},r.a.createElement(an.a,{loading:null,persistor:mn},a))},pn=(t(394),{en:{translation:t(230),UI:t(231)},fr:{translation:t(232),UI:t(233)}});c.a.use(s.a).use(i.a).init({resources:pn,debug:!1,defaultNS:"UI",whitelist:["fr","en"],fallbackLng:"en",interpolation:{escapeValue:!1},react:{}}),o.a.render(r.a.createElement(n.Suspense,{fallback:r.a.createElement(u.a,{open:!0},r.a.createElement(m.a,{color:"inherit"}))},r.a.createElement(dn,null,r.a.createElement(Xt,null,r.a.createElement(d.SnackbarProvider,{maxSnack:6,anchorOrigin:{horizontal:"right",vertical:"top"}},r.a.createElement(Dt,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[245,1,2]]]);
//# sourceMappingURL=main.c9727106.chunk.js.map