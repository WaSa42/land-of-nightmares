(this["webpackJsonpland-of-nightmares"]=this["webpackJsonpland-of-nightmares"]||[]).push([[0],{227:function(e,a,t){e.exports=t.p+"static/media/app.77594075.mp3"},242:function(e,a,t){e.exports=t(392)},391:function(e,a,t){},392:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(11),c=t.n(l);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=t(231),i=t(196),u=t(9),s=t(200),m=t(447),d=t(464),p=t(55),b=t(34),g=t(13),f=t(33),v=t(58),E=t(36),h=t(65),j=t.n(h),O=t(202),y=t.n(O),k={isLoaded:!1,isPlaying:!1,isPaused:!1,isStopped:!1},w=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"file",r=Object(n.useState)(k),l=Object(b.a)(r,2),c=l[0],o=l[1],i=Object(n.useState)((function(){return new y.a.Sound({source:t,options:e},(function(){o((function(e){return Object(E.a)({},e,{isLoaded:!0})})),j()(a)&&a(s)}))})),u=Object(b.a)(i,1),s=u[0];return Object(n.useEffect)((function(){return function(){return s.stop()}}),[s]),s.on("play",(function(){return o((function(e){return Object(E.a)({},e,{isPlaying:!0,isPaused:!1,isStopped:!1})}))})),s.on("pause",(function(){return o((function(e){return Object(E.a)({},e,{isPlaying:!1,isPaused:!0,isStopped:!1})}))})),s.on("stop",(function(){return o((function(e){return Object(E.a)({},e,{isPlaying:!1,isPaused:!1,isStopped:!0})}))})),[s,c]},x=function(e,a,t){var r=t.isLoaded,l=t.isPlaying;return Object(n.useEffect)((function(){e&&r&&!l&&a.play()}),[e,r,l,a])},N=function(e,a){var t=a.audio,r=a.volume;return Object(n.useEffect)((function(){e.volume=t?r/100:0}),[e,t,r])},C=t(2),T=t(117),P=t(465),S=t(217),I=t.n(S),A=t(164),M=t(458),z=t(456),H=t(32),V=t(69),W=t.n(V),U=t(49),q=t.n(U),F=t(205),B=t.n(F),L=t(109),R=t.n(L),D=t(107),G=t.n(D),_=t(206),K=t.n(_),J=t(438),Q=t(439),Y=t(443),$=t(441),X=t(440),Z=t(51),ee=t(467),ae=t(203),te=t.n(ae),ne=t(204),re=t.n(ne),le=t(207),ce=t.n(le),oe=Object(A.a)((function(e){return{root:{marginBottom:e.spacing(2)},cardContent:{"&:last-child":{padding:e.spacing(2)}},cardActions:{flexWrap:"wrap",justifyContent:"space-evenly"},hint:{marginTop:e.spacing(1)}}})),ie=Object(n.forwardRef)((function(e,a){var t=oe(),l=e.actions,c=e.children,o=e.className,i=e.hint,u=e.injected,s=e.media,m=e.onEnable,d=e.onTap,p=e.onTimeout,g=e.readOnly,f=e.settings,v=e.text,E=e.typographyProps,h=e.timeout,j=Object(H.a)(e,["actions","children","className","hint","injected","media","onEnable","onTap","onTimeout","readOnly","settings","text","typographyProps","timeout"]),O=Object(n.useRef)(null),y=G()(d,g,u),k=Object(b.a)(y,2),w=k[0],x=k[1],N=te()(l,u),T=Object(b.a)(N,2),P=T[0],S=T[1],I=re()(p,h,u,P);Object(n.useImperativeHandle)(a,(function(){return{focus:O.current.focus}})),B()(m,u),R()(O,u),K()(p,h,u);var A=Object(n.useMemo)((function(){return!u.enabled||g||P}),[P,u.enabled,g]);return r.a.createElement(J.a,Object.assign({className:Object(C.a)(t.root,o)},j),r.a.createElement(Q.a,{disabled:A,onClick:w,onKeyPress:x,readOnly:g,ref:O},s&&r.a.createElement(X.a,s),r.a.createElement($.a,{className:t.cardContent},v?r.a.createElement(Z.a,Object.assign({align:"center"},E),c):c,f.hints&&!q()(i)?r.a.createElement(ee.a,{variant:"outlined",severity:"info",className:t.hint},i):null)),P&&r.a.createElement(Y.a,{className:t.cardActions,disableSpacing:!0},S),I&&r.a.createElement(ce.a,{timeout:h,onTimeout:p,enabled:u.enabled}))}));ie.defaultProps={actions:[],className:"",hint:"",injected:void 0,media:null,onEnable:W.a,onTap:null,onTimeout:W.a,readOnly:!1,text:!1,timeout:0,typographyProps:{}};var ue=Object(g.b)((function(e){return{settings:e.settings}}),{})(ie),se=t(472),me=t(442),de=t(449),pe=t(448),be=t(399),ge=t(450),fe=t(451),ve=t(208),Ee=t.n(ve),he=t(210),je=t.n(he),Oe=t(112),ye=t.n(Oe),ke=Object(A.a)((function(){return{root:{fontFamily:"ReBucked"}}})),we=function(e){var a=e.className,t=Object(H.a)(e,["className"]),n=ke(),l=Object(u.b)("UI").t;return r.a.createElement(Z.a,Object.assign({className:Object(C.a)(n.root,a)},t),l("ProjectName"))};we.defaultProps={className:""};var xe=we,Ne=t(444),Ce=t(446),Te=t(445),Pe=t(474),Se=t(30);function Ie(e,a){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0;return a.hasOwnProperty(n.type)?a[n.type](t,n):t}}var Ae=function(e){return{type:"UPDATE_SETTINGS",settings:e}},Me=Ie({audio:!1,darkMode:!0,hints:!0,tableTopMode:!1,dialogVolume:75,musicVolume:30,soundVolume:50},Object(Se.a)({},"UPDATE_SETTINGS",(function(e,a){var t=a.settings;return Object(E.a)({},e,{},t)}))),ze="Settings.Inputs.Audio",He=Object(A.a)({switch:{marginRight:10}});function Ve(e){var a=e.dispatch,t=e.displayHelperText,l=e.name,c=e.value,o=He(),i=Object(u.b)("UI").t,s=Object(n.useCallback)((function(e){a(Ae({audio:e.target.checked}))}),[a]);return r.a.createElement(Ne.a,null,r.a.createElement(Te.a,{control:r.a.createElement(Pe.a,{name:l,checked:c,onChange:s,className:o.switch}),label:i("".concat(ze,".label"))}),t&&r.a.createElement(Ce.a,null,i("".concat(ze,".helperText"))))}Ve.defaultProps={displayHelperText:!1,name:"audio"};var We=Object(g.b)((function(e){return{value:e.settings.audio}}))(Ve),Ue="Settings.Inputs.DarkMode",qe=Object(A.a)({switch:{marginRight:10}});function Fe(e){var a=e.dispatch,t=e.displayHelperText,l=e.name,c=e.value,o=qe(),i=Object(u.b)("UI").t,s=Object(n.useCallback)((function(e){a(Ae({darkMode:e.target.checked}))}),[a]);return r.a.createElement(Ne.a,null,r.a.createElement(Te.a,{control:r.a.createElement(Pe.a,{name:l,checked:c,onChange:s,className:o.switch}),label:i("".concat(Ue,".label"))}),t&&r.a.createElement(Ce.a,null,i("".concat(Ue,".helperText"))))}Fe.defaultProps={displayHelperText:!1,name:"darkMode"};var Be=Object(g.b)((function(e){return{value:e.settings.darkMode}}))(Fe),Le="Settings.Inputs.Hints",Re=Object(A.a)({switch:{marginRight:10}});function De(e){var a=e.dispatch,t=e.displayHelperText,l=e.name,c=e.value,o=Re(),i=Object(u.b)("UI").t,s=Object(n.useCallback)((function(e){a(Ae({hints:e.target.checked}))}),[a]);return r.a.createElement(Ne.a,null,r.a.createElement(Te.a,{control:r.a.createElement(Pe.a,{name:l,checked:c,onChange:s,className:o.switch}),label:i("".concat(Le,".label"))}),t&&r.a.createElement(Ce.a,null,i("".concat(Le,".helperText"))))}De.defaultProps={displayHelperText:!1,name:"hints"};var Ge=Object(g.b)((function(e){return{value:e.settings.hints}}))(De),_e="Settings.Inputs.TableTopMode",Ke=Object(A.a)({switch:{marginRight:10}});function Je(e){var a=e.dispatch,t=e.displayHelperText,l=e.name,c=e.value,o=Ke(),i=Object(u.b)("UI").t,s=Object(n.useCallback)((function(e){a(Ae({tableTopMode:e.target.checked}))}),[a]);return r.a.createElement(Ne.a,null,r.a.createElement(Te.a,{control:r.a.createElement(Pe.a,{name:l,checked:c,onChange:s,className:o.switch}),label:i("".concat(_e,".label"))}),t&&r.a.createElement(Ce.a,null,i("".concat(_e,".helperText"))))}Je.defaultProps={displayHelperText:!1,name:"tableTopMode"};var Qe=Object(g.b)((function(e){return{value:e.settings.tableTopMode}}))(Je),Ye=Object(A.a)((function(e){return{toolbar:Object(E.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),list:{width:"auto"},iconButton:{marginLeft:e.spacing(1)}}})),$e="Drawer";var Xe=function(e){var a=e.open,t=e.toggle,n=Object(H.a)(e,["open","toggle"]),l=Ye(),c=Object(u.b)("UI").t;return r.a.createElement(se.a,Object.assign({open:a,onClose:t(!1),onOpen:t(!0)},n),r.a.createElement("div",{className:l.list,role:"presentation"},r.a.createElement("div",{className:l.toolbar},r.a.createElement(xe,null),r.a.createElement(me.a,{onClick:t(!1),className:l.iconButton},r.a.createElement(Ee.a,null))),r.a.createElement(pe.a,null),r.a.createElement(de.a,null,r.a.createElement(be.a,{button:!0,component:f.b,to:"/"},r.a.createElement(ge.a,null,r.a.createElement(je.a,null)),r.a.createElement(fe.a,{primary:c("".concat($e,".titleScreen"))})),r.a.createElement(be.a,{button:!0,component:f.b,to:"/settings?referrer=play"},r.a.createElement(ge.a,null,r.a.createElement(ye.a,null)),r.a.createElement(fe.a,{primary:c("".concat($e,".settings"))}))),r.a.createElement(pe.a,null),r.a.createElement(de.a,null,r.a.createElement(be.a,null,r.a.createElement(We,null)),r.a.createElement(be.a,null,r.a.createElement(Be,null)),r.a.createElement(be.a,null,r.a.createElement(Ge,null)),r.a.createElement(be.a,null,r.a.createElement(Qe,null)))))},Ze=t(113),ea=t.n(Ze),aa=t(452),ta=t(17),na=t(453),ra=t(454),la=t(212),ca=t.n(la),oa=t(213),ia=t.n(oa),ua=t(214),sa=t.n(ua),ma=t(211),da=t.n(ma),pa="Navigation",ba=Object(A.a)((function(){return{disabled:{opacity:"0.2"}}}));function ga(e){var a=e.icons,t=e.onMenuClick,l=e.paths,c=e.rootPath,o=Object(H.a)(e,["icons","onMenuClick","paths","rootPath"]),i=ba(),s=Object(ta.a)(),m=Object(aa.a)(s.breakpoints.up("sm")),d=Object(u.b)("UI").t,p=Object(v.f)(),b=Object(n.useCallback)((function(e){return d("".concat(pa,".").concat(e))}),[d]),g=Object(n.useMemo)((function(){return ea()(l,(function(e){return!!Object(v.e)(p.pathname,{path:"".concat(c,"/").concat(e)})}))}),[p.pathname,l,c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(na.a,Object.assign({showLabels:!0,value:g},o),l.map((function(e){var t=b(e),n=a[e],l="journal"!==e;return r.a.createElement(ra.a,{className:Object(C.a)(Object(Se.a)({},i.disabled,l)),disabled:l,component:f.b,key:"".concat(pa,".").concat(e),label:t,icon:r.a.createElement(n,null),to:"".concat(c,"/").concat(e)})})),t&&m?r.a.createElement(ra.a,{label:d("".concat(pa,".menu")),icon:r.a.createElement(da.a,null),onClick:t}):null))}ga.defaultProps={icons:{characters:ca.a,inventory:ia.a,journal:sa.a},onMenuClick:null,paths:["characters","inventory","journal"],rootPath:"/"};var fa=ga,va=t(455),Ea=t(466),ha=t(457),ja=t(161),Oa=t(215),ya=t.n(Oa),ka="ScrollToBottom",wa=Object(A.a)((function(e){return{root:{position:"fixed",width:"100vw",zIndex:1,top:e.spacing(2)}}}));var xa=Object(g.b)((function(e){return{history:e.history}}))((function(e){var a=e.targetRef,t=e.history,l=wa(),c=Object(u.b)().t,o=Object(va.a)({disableHysteresis:!0}),i=Object(va.a)(),s=o&&!i,m=Object(n.useCallback)((function(e){window.scrollTo({top:a.current.offsetTop+a.current.offsetHeight,behavior:e})}),[a]);return Object(n.useEffect)(m,[t]),r.a.createElement(ja.a,{appear:!1,direction:"down",in:s},r.a.createElement(Ea.a,{className:l.root},r.a.createElement(z.a,{maxWidth:"sm"},r.a.createElement(Ea.a,{display:"flex",justifyContent:"center"},r.a.createElement(ha.a,{color:"secondary","aria-label":c("".concat(ka,".goDown")),onClick:function(){return m("smooth")}},r.a.createElement(ya.a,null))))))})),Na=t(178),Ca={inherit:void 0,small:2,medium:3,large:4,xl:5},Ta=Object(A.a)((function(e){return{root:function(a){var t=a.fontFamily,n=a.fontSize;return{marginBottom:e.spacing(2),fontSize:e.spacing(Ca[n]),"&.useFont":{fontFamily:t}}}}})),Pa=Object(n.forwardRef)((function(e,a){var t=e.children,l=e.className,c=e.fontFamily,o=e.fontSize,i=e.onTap,u=e.readOnly,s=e.injected,m=Object(H.a)(e,["children","className","fontFamily","fontSize","onTap","readOnly","injected"]),d=Ta({fontFamily:c,fontSize:o}),p=Object(n.useRef)(null),g=G()(i,u,s),f=Object(b.a)(g,2),v=f[0],E=f[1];return Object(n.useImperativeHandle)(a,(function(){return{focus:p.current.focus}})),R()(p,s),r.a.createElement(Na.a,Object.assign({className:Object(C.a)(d.root,l,{useFont:!q()(c)}),fullWidth:!0,onClick:v,onKeyPress:E,ref:p,variant:"outlined",disabled:!s.enabled},m),t)}));Pa.defaultProps={className:"",fontFamily:"inherit",fontSize:"inherit",injected:void 0,onTap:null,readOnly:!1};var Sa=[["Intro",["Aussi grande soit-elle, chaque civilisation est vou\xe9e \xe0 dispara\xeetre\n  et les ruines laiss\xe9es par nos anc\xeatres cohabitent avec les monuments de notre \xe8re.\n  Mais dans ce vieux monde ab\xeem\xe9 par le poids de la guerre fleuri l'audace des Hommes.\n  Ils forgent le progr\xe8s, et laissent une marque parmi leurs pairs.","Cette aura qui vous entoure me parle,\n  elle me montre le destin qui vous accompagne, vous et votre audace.\n  Que dis-je ? Les destins ! Du plus court au plus long et du plus sombre au plus sacr\xe9...","Saurez-vous saisir les opportunit\xe9s tout en pr\xe9servant votre nature ?\n  Parviendrez-vous \xe0 prot\xe9ger les personnes qui vous sont ch\xe8res ?\n  Assumerez-vous les choix que vous allez prendre ?","Prenez-les sagement, naturellement, \xe9go\xeestement ou peu importe,\n   car rien n'est aussi simple qu'il n'en ait l'air\n   et les cons\xe9quences de vos actions r\xe9pondront \xe0 leur propre myst\xe8re.",{component:Pa,children:"Land of Nightmares",fontFamily:"Rebucked",fontSize:"xl",color:"primary",onTap:function(e){return(0,e.goForward)()}},"Terminons les r\xe9cits du pass\xe9, les Hommes et leur empire,\n  les r\xeaves des explorateurs qui jadis visit\xe8rent ce lieu sans revenir.","Ce vieux temple que vous savez au fond d'une jungle, dense et magique est votre prison depuis une \xe9ternit\xe9.\n  Vous y demeurez actuellement inerte, sommeillant au coeur de la pierre et au pied d'un monde aust\xe8re.",{children:"Au coeur de votre tombeau m\xeame ! Celui de votre ancienne vie, que vous avez volontairement oubli\xe9.\n    Souhaitez vous vraiment vous r\xe9veiller ?",onTimeout:function(e){return(0,e.goForward)(1)},timeout:2e4,actions:[{children:"Se r\xe9veiller",onClick:function(e){return(0,e.goForward)()}},{children:"Rester passive",onClick:function(e){return(0,e.goForward)(1)}}]},{children:"Vous le souhaitez, mais vous ne controllez rien. C'est au final le hasard qui s'en chargera.",onTap:function(e){return(0,e.goForward)(1)}},"Vous avez raison d'\xeatre passive, car m\xeame si la pens\xe9e vous effraie, vous ne controllez rien.","Soudain, vous entendez le craquement du granite qui se d\xe9robe devant vous.\n  Une lumi\xe8re vient alors intens\xe9ment vous \xe9blouir et vous sortir d\xe9finitivement de ce long repos.\n  Vous la sentez aussi sur votre coprs, nu, comme si vous n'aviez jamais go\xfbt\xe9 \xe0 la vie.","L'air vous agresse, il vous fouette,\n  comme s'il se vangeait, lui aussi, de ne jamais avoir pu vous toucher, durant toutes ces ann\xe9es !\n  Ou ces mill\xe9naires, qui sait ?",{children:"Vous n'avez aucune notion du temps, vos rep\xe8res sont inexistants, tout est sombre ou n\xe9ant.\n    Vous \xeates \xe9trang\xe8re \xe0 ce que vous vivez, mais vous le savez dangereux. Par quel hasard \xeates vous ...\n    secourue ou attaqu\xe9e ?",hint:"Mettre en garde ce qui est venu vous chercher est sans doute la meilleure option,\n    mais vous pourriez aussi essayer de puisez dans votre instinct primaire pour des r\xe9sultats plus divers.",actions:[{children:"Mettre en garde",onClick:function(e){return(0,e.goForward)()}},{children:"Puiser dans l'instinct",onClick:function(e){return(0,e.goForward)()}}]},{children:"Pas de suite pour l'instant. Merci les amis pour le beta test !",readOnly:!0}]]],Ia=Object(A.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.background.default}},root:{marginBottom:56},appBar:{top:"auto",bottom:0,backgroundColor:e.palette.background.default},navigation:{width:"100vw"}}}));var Aa=Object(g.b)(I.a)((function(e){var a=e.dispatch,t=e.history,l=Object(n.useRef)(null),c=Ia(),o=Object(n.useState)({open:!1}),i=Object(b.a)(o,2),u=i[0],s=i[1],m=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!u.open;return function(a){(!a||"keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&s({open:e})}}),[u.open]),d=Object(n.useMemo)((function(){return new T.a(Sa)}),[]);return r.a.createElement(p.SnackbarProvider,{maxSnack:3},r.a.createElement("div",{ref:l,className:Object(C.a)("Game",c.root)},r.a.createElement(Xe,{open:u.open,toggle:m}),r.a.createElement(xa,{targetRef:l}),r.a.createElement(z.a,{maxWidth:"sm"},r.a.createElement(P.a,{dispatch:a,history:t,nodeComponent:ue,tree:d})),r.a.createElement(M.a,{position:"fixed",className:c.appBar,elevation:4},r.a.createElement(fa,{rootPath:"/play",className:c.navigation,onMenuClick:m(!0)}))))})),Ma=t(398),za=t(462),Ha=Ie(!1,Object(Se.a)({},"ALLOW_AUDIO",(function(){return!0}))),Va=Object(g.b)((function(e){return{isAllowed:e.allowAudio}}))((function(e){var a=e.dispatch,t=e.isAllowed,l=Object(H.a)(e,["dispatch","isAllowed"]),c=Object(u.b)("UI").t,o=Object(n.useCallback)((function(){a(Ae({audio:!0})),a({type:"ALLOW_AUDIO"})}),[a]);return t?null:r.a.createElement(ee.a,Object.assign({severity:"info",variant:"outlined",action:r.a.createElement(Na.a,{color:"inherit",size:"small",onClick:o},c("AllowAudio.action"))},l),c("AllowAudio.text"))})),Wa=t(116),Ua=t.n(Wa),qa=t(470),Fa=t(459),Ba=t(218),La=t.n(Ba),Ra=t(219),Da=t.n(Ra),Ga="Settings.Inputs.Language",_a=Object(A.a)({fullWidth:{width:"100%"},button:{justifyContent:"space-between"}});function Ka(e){var a=e.className,t=e.displayHelperText,l=e.fullWidth,c=Object(H.a)(e,["className","displayHelperText","fullWidth"]),o=_a(),i=Object(ta.a)(),s=Object(aa.a)(i.breakpoints.up("sm")),m=Object(u.b)("UI"),d=m.t,p=m.i18n,g=Object(n.useState)(null),f=Object(b.a)(g,2),v=f[0],E=f[1],h=function(){E(null)},j=Object(n.useCallback)((function(e){return function(){p.changeLanguage(e),h()}}),[p]);return r.a.createElement(Ne.a,{className:Object(C.a)(Object(Se.a)({},o.fullWidth,l))},r.a.createElement(Na.a,Object.assign({className:Object(C.a)(o.button,a),variant:"contained",color:"primary","aria-controls":"language-menu","aria-haspopup":"true",onClick:function(e){E(e.currentTarget)},startIcon:s&&r.a.createElement(La.a,null),endIcon:r.a.createElement(Da.a,null)},c),d("".concat(Ga,".").concat(p.language))),r.a.createElement(qa.a,{anchorEl:v,open:Boolean(v),onClose:h,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(Fa.a,{value:"fr",onClick:j("fr")},d("".concat(Ga,".fr"))),r.a.createElement(Fa.a,{value:"en",onClick:j("en")},d("".concat(Ga,".en")))),t&&r.a.createElement(Ce.a,null,d("".concat(Ga,".helperText"))))}Ka.defaultProps={className:"",displayHelperText:!1,fullWidth:!1};var Ja=Ka,Qa=t(460),Ya=t(461),$a=t(473),Xa=t(469),Za=t(56),et=t.n(Za),at="Settings.Inputs.MusicVolume",tt=Object(A.a)({input:{width:75}});function nt(e){var a=e.dispatch,t=e.name,l=e.value,c=tt(),o=Object(u.b)("UI").t,i=Object(n.useCallback)((function(e,t){a(Ae({musicVolume:t}))}),[a]),s=Object(n.useCallback)((function(e){var t=""===e.target.value?"":Number(e.target.value);t<0?t=0:t>100&&(t=100),a(Ae({musicVolume:t}))}),[a]);return r.a.createElement(Qa.a,{fullWidth:!0},r.a.createElement(Z.a,{id:t,variant:"body2",gutterBottom:!0},o("".concat(at,".label"))),r.a.createElement(Ya.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(Ya.a,{item:!0},r.a.createElement(et.a,null)),r.a.createElement(Ya.a,{item:!0,xs:!0},r.a.createElement($a.a,{value:l,onChange:i,"aria-labelledby":t})),r.a.createElement(Ya.a,{item:!0},r.a.createElement(Xa.a,{className:c.input,value:l,margin:"dense",onChange:s,onBlur:s,labelWidth:0,inputProps:{step:5,min:0,max:100,type:"number"}}))))}nt.defaultProps={name:"musicVolume"};var rt=Object(g.b)((function(e){return{value:e.settings.musicVolume}}))(nt),lt="Settings.Inputs.SoundVolume",ct=Object(A.a)({input:{width:75}});function ot(e){var a=e.dispatch,t=e.name,l=e.value,c=ct(),o=Object(u.b)("UI").t,i=Object(n.useCallback)((function(e,t){a(Ae({soundVolume:t}))}),[a]),s=Object(n.useCallback)((function(e){var t=""===e.target.value?"":Number(e.target.value);t<0?t=0:t>100&&(t=100),a(Ae({soundVolume:t}))}),[a]);return r.a.createElement(Qa.a,{fullWidth:!0},r.a.createElement(Z.a,{id:t,variant:"body2",gutterBottom:!0},o("".concat(lt,".label"))),r.a.createElement(Ya.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(Ya.a,{item:!0},r.a.createElement(et.a,null)),r.a.createElement(Ya.a,{item:!0,xs:!0},r.a.createElement($a.a,{value:l,onChange:i,"aria-labelledby":t})),r.a.createElement(Ya.a,{item:!0},r.a.createElement(Xa.a,{className:c.input,value:l,margin:"dense",onChange:s,onBlur:s,labelWidth:0,inputProps:{step:5,min:0,max:100,type:"number"}}))))}ot.defaultProps={name:"soundVolume"};var it=Object(g.b)((function(e){return{value:e.settings.soundVolume}}))(ot),ut="Settings.Inputs.DialogVolume",st=Object(A.a)({input:{width:75}});function mt(e){var a=e.dispatch,t=e.name,l=e.value,c=st(),o=Object(u.b)("UI").t,i=Object(n.useCallback)((function(e,t){a(Ae({dialogVolume:t}))}),[a]),s=Object(n.useCallback)((function(e){var t=""===e.target.value?"":Number(e.target.value);t<0?t=0:t>100&&(t=100),a(Ae({dialogVolume:t}))}),[a]);return r.a.createElement(Qa.a,{fullWidth:!0},r.a.createElement(Z.a,{id:t,variant:"body2",gutterBottom:!0},o("".concat(ut,".label"))),r.a.createElement(Ya.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(Ya.a,{item:!0},r.a.createElement(et.a,null)),r.a.createElement(Ya.a,{item:!0,xs:!0},r.a.createElement($a.a,{value:l,onChange:i,"aria-labelledby":t})),r.a.createElement(Ya.a,{item:!0},r.a.createElement(Xa.a,{className:c.input,value:l,margin:"dense",onChange:s,onBlur:s,labelWidth:0,inputProps:{step:5,min:0,max:100,type:"number"}}))))}mt.defaultProps={name:"dialogVolume"};var dt=Object(g.b)((function(e){return{value:e.settings.dialogVolume}}))(mt),pt=Object(A.a)((function(e){return{section:{marginTop:e.spacing(3)},listItem:{paddingBottom:e.spacing(3)},alert:{marginTop:e.spacing(2)}}})),bt="Settings";var gt=Object(g.b)((function(e){return{allowAudio:e.allowAudio}}))((function(e){var a=e.allowAudio,t=e.dispatch,l=pt(),c=Object(v.f)(),o=Object(u.b)("UI").t,i=Object(p.useSnackbar)().enqueueSnackbar,s=Object(n.useMemo)((function(){return new URLSearchParams(c.search).get("referrer")||""}),[c.search]),m=Object(n.useCallback)((function(){t(Object(Wa.resetHistory)()),i(o("".concat(bt,".inGame.resetHistory.success")),{variant:"warning",preventDuplicate:!0})}),[t,i,o]);return r.a.createElement(Ma.a,{in:!0,className:"Settings"},r.a.createElement(z.a,{maxWidth:"sm"},r.a.createElement(Z.a,{component:"h1",variant:"h3",color:"textPrimary",align:"center"},o("".concat(bt,".title"))),r.a.createElement(Z.a,{variant:"h6",color:"textSecondary",align:"center",gutterBottom:!0},o("".concat(bt,".subheader"))),r.a.createElement(J.a,{className:l.section},r.a.createElement(za.a,{title:o("".concat(bt,".text.title")),subheader:o("".concat(bt,".text.subheader"))}),r.a.createElement(de.a,{disablePadding:!0},r.a.createElement(be.a,{className:l.listItem,divider:!0},r.a.createElement(Ja,{displayHelperText:!0,fullWidth:!0})),r.a.createElement(be.a,{className:l.listItem,divider:!0},r.a.createElement(Be,{displayHelperText:!0})))),r.a.createElement(J.a,{className:l.section},r.a.createElement(za.a,{title:o("".concat(bt,".volume.title")),subheader:o("".concat(bt,".volume.subheader"))}),r.a.createElement(de.a,{disablePadding:!0},r.a.createElement(be.a,{divider:!0},r.a.createElement(rt,null)),r.a.createElement(be.a,{divider:!0},r.a.createElement(it,null)),r.a.createElement(be.a,{divider:!0},r.a.createElement(dt,null)),a?r.a.createElement(be.a,{className:l.listItem,divider:!0},r.a.createElement(We,{displayHelperText:!0})):r.a.createElement(be.a,{className:l.listItem,divider:!0},r.a.createElement(Va,{className:l.alert})))),r.a.createElement(J.a,{className:l.section},r.a.createElement(za.a,{title:o("".concat(bt,".inGame.title")),subheader:o("".concat(bt,".inGame.subheader"))}),r.a.createElement(de.a,{disablePadding:!0},r.a.createElement(be.a,{className:l.listItem,divider:!0},r.a.createElement(Ge,{displayHelperText:!0})),r.a.createElement(be.a,{className:l.listItem,divider:!0},r.a.createElement(Qe,{displayHelperText:!0})),r.a.createElement(be.a,{className:l.listItem},r.a.createElement(ee.a,{className:l.alert,severity:"warning",variant:"outlined",action:r.a.createElement(Na.a,{color:"inherit",size:"small",onClick:m},o("".concat(bt,".inGame.resetHistory.action")))},o("".concat(bt,".inGame.resetHistory.text")))))),r.a.createElement(Na.a,{className:l.section,component:f.b,to:"/".concat(s),variant:"outlined",color:"default",fullWidth:!0},o("".concat(bt,".goBack")))))}));var ft=function(){return r.a.createElement("div",{className:"Credits"},r.a.createElement(z.a,null,r.a.createElement(Z.a,null,"Audio"),r.a.createElement(Z.a,null,"Title Screen: Freedom (Epic Fantasy) by lukiaffe https://www.newgrounds.com/audio/listen/785154")))},vt=t(114),Et=t.n(vt),ht=t(463),jt=t(471),Ot=t(223),yt=t.n(Ot),kt=t(224),wt=t.n(kt),xt=t(225),Nt=t.n(xt),Ct=t(220),Tt=t.n(Ct),Pt=t(221),St=t.n(Pt),It=t(222),At=t.n(It),Mt=t(226),zt=t.n(Mt),Ht="TitleScreen",Vt=!0,Wt=Object(A.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",minHeight:"calc(100vh - ".concat(2*e.spacing(4),"px)")},card:{marginTop:e.spacing(3)},action:{marginTop:e.spacing(1),marginLeft:e.spacing(1)},language:Object(Se.a)({marginTop:e.spacing(2),maxWidth:"160px",overflow:"hidden"},e.breakpoints.up("sm"),{maxWidth:"320px"}),playIcon:{backgroundColor:e.palette.primary.main},flexGrow:{flexGrow:1},allowAudio:{marginTop:e.spacing(2)}}}));var Ut=Object(g.b)((function(e){return{allowAudio:e.allowAudio,settings:e.settings,currentLocation:Et()(e.history).to}}))((function(e){var a=e.allowAudio,t=e.currentLocation,l=e.dispatch,c=e.settings,o=Wt(),i=Object(ta.a)(),s=Object(aa.a)(i.breakpoints.up("sm")),m=Object(u.b)("UI").t,d=Object(n.useMemo)((function(){return 0===t}),[t]),p=Object(n.useMemo)((function(){return c.audio?r.a.createElement(et.a,null):r.a.createElement(Tt.a,null)}),[c.audio]),b=Object(n.useMemo)((function(){return c.darkMode?r.a.createElement(St.a,null):r.a.createElement(At.a,null)}),[c.darkMode]),g=Object(n.useMemo)((function(){return m("".concat(Ht,d?".play":".keepPlaying"))}),[d,m]),v=Object(n.useCallback)((function(e,a){return function(){l(Ae(Object(Se.a)({},e,!a)))}}),[l]);return r.a.createElement(Ma.a,{in:!0,className:o.root},r.a.createElement("div",{className:"TitleScreen"},r.a.createElement(z.a,{maxWidth:"sm"},r.a.createElement(xe,{component:"h1",variant:"h3",color:"textPrimary",align:"center"}),r.a.createElement(Z.a,{variant:"h6",color:"textSecondary",align:"center"},m("".concat(Ht,".subheader"))),r.a.createElement(Va,{className:o.allowAudio}),r.a.createElement(J.a,{className:o.card},r.a.createElement(de.a,{component:"nav"},r.a.createElement(be.a,{button:!0,component:f.b,to:"/play"},r.a.createElement(ht.a,null,r.a.createElement(jt.a,{className:o.playIcon},r.a.createElement(yt.a,null))),r.a.createElement(fe.a,{primary:g})),r.a.createElement(be.a,{button:!0,component:f.b,to:"/settings"},r.a.createElement(ht.a,null,r.a.createElement(jt.a,null,r.a.createElement(ye.a,null))),r.a.createElement(fe.a,{primary:m("".concat(Ht,".settings"))})),r.a.createElement(be.a,{button:!0,component:f.b,to:"/credits"},r.a.createElement(ht.a,null,r.a.createElement(jt.a,null,r.a.createElement(wt.a,null))),r.a.createElement(fe.a,{primary:m("".concat(Ht,".credits"))})),!Vt&&r.a.createElement(be.a,{button:!0},r.a.createElement(ht.a,null,r.a.createElement(jt.a,null,r.a.createElement(Nt.a,null))),r.a.createElement(fe.a,{primary:m("".concat(Ht,".quit"))})))),r.a.createElement(Ea.a,{display:"flex"},r.a.createElement(Ja,{className:o.language,size:"small",variant:"outlined",color:"default"}),r.a.createElement("span",{className:o.flexGrow}),s&&r.a.createElement(me.a,{className:o.action,component:"a",href:"https://github.com/WaSa42/land-of-nightmares",target:"_blank",rel:"noopener noreferrer","aria-label":m("".concat(Ht,".sources"))},r.a.createElement(zt.a,null)),r.a.createElement(me.a,{className:o.action,"aria-label":m("".concat(Ht,".darkMode")),onClick:v("darkMode",c.darkMode),onKeyPress:v("darkMode",c.darkMode)},b),a&&r.a.createElement(me.a,{className:o.action,"aria-label":m("".concat(Ht,".mute")),onClick:v("audio",c.audio),onKeyPress:v("audio",c.audio)},p)))))}));function qt(){var e=Object(v.f)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var Ft=t(227),Bt=t.n(Ft),Lt="Freedom (Epic Fantasy) by lukiaffe";var Rt=Object(g.b)((function(e){return{allowAudio:e.allowAudio,settings:e.settings}}))((function(e){var a=e.settings,t=e.allowAudio,l=w({loop:!0,path:Bt.a}),c=Object(b.a)(l,2),o=c[0],i=c[1];N(o,{audio:a.audio,volume:a.musicVolume}),x(t,o,i);var s=Object(u.b)("UI").t,m=Object(p.useSnackbar)().enqueueSnackbar;return Object(n.useEffect)((function(){i.isPlaying&&m(s("App.nowPlaying",{name:Lt}))}),[m,i.isPlaying,s]),r.a.createElement(f.a,null,r.a.createElement(v.c,null,r.a.createElement(v.a,{path:"/play"},r.a.createElement(Aa,{music:o})),r.a.createElement(v.a,{path:"/settings"},r.a.createElement(qt,null),r.a.createElement(gt,null)),r.a.createElement(v.a,{path:"/credits"},r.a.createElement(ft,null)),r.a.createElement(v.a,{path:"/"},r.a.createElement(qt,null),r.a.createElement(Ut,null))))})),Dt=t(103),Gt=t(435),_t=t(142),Kt=t.n(_t),Jt=t(143),Qt=t.n(Jt),Yt={light:{palette:{type:"light",primary:Kt.a,secondary:Qt.a}},dark:{palette:{type:"dark",primary:{main:Kt.a[200]},secondary:Qt.a}}},$t=Object(A.a)({"@global":{body:{margin:0}},root:function(e){var a=e.theme,t=e.backgroundImage;return{padding:a.spacing(4,0),width:"100%",minHeight:"calc(100vh - ".concat(2*a.spacing(4),"px)"),background:q()(t)?a.palette.background.default:'url("'.concat(t,'")'),backgroundSize:"cover",backgroundAttachment:"fixed",backgroundPosition:"center"}}});function Xt(e){var a=e.backgroundImage,t=e.children,l=e.dark,c=Object(aa.a)("(prefers-color-scheme: dark)"),o=Object(n.useMemo)((function(){var e=c;return null!==l&&(e=l),e?"dark":"light"}),[l,c]),i=Object(n.useMemo)((function(){return Object(Dt.a)(Yt[o])}),[o]),u=$t({theme:i,backgroundImage:a});return r.a.createElement(Gt.a,{theme:i},r.a.createElement("div",{className:u.root},t))}Xt.defaultProps={backgroundImage:"",dark:null};var Zt=Object(g.b)((function(e){return Object(E.a)({},e.layout,{dark:e.settings.darkMode})}))(Xt),en=t(42),an=t(144),tn=t(228),nn=t(229),rn=t.n(nn),ln=(t(390),t(230)),cn=Ie({backgroundImage:""},Object(Se.a)({},"UPDATE_LAYOUT",(function(e,a){var t=a.layout;return Object(E.a)({},e,{},t)}))),on=[ln.a];var un=Object(en.c)({allowAudio:Ha,history:Ua.a,layout:cn,settings:Me}),sn=Object(an.a)({key:"root",storage:rn.a,blacklist:["allowAudio","layout"]},un),mn=Object(en.e)(sn,Object(en.d)(en.a.apply(void 0,on))),dn=Object(an.b)(mn),pn=function(e){var a=e.children;return r.a.createElement(g.a,{store:mn},r.a.createElement(tn.a,{loading:null,persistor:dn},a))};t(391);o.a.use(i.a).use(s.a).use(u.a).init({debug:!0,defaultNS:"UI",whitelist:["fr","en"],fallbackLng:"en",interpolation:{escapeValue:!1},react:{}}),c.a.render(r.a.createElement(n.Suspense,{fallback:r.a.createElement(m.a,{open:!0},r.a.createElement(d.a,{color:"inherit"}))},r.a.createElement(pn,null,r.a.createElement(Zt,null,r.a.createElement(p.SnackbarProvider,{maxSnack:6,anchorOrigin:{horizontal:"right",vertical:"top"}},r.a.createElement(Rt,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[242,1,2]]]);
//# sourceMappingURL=main.6c720a50.chunk.js.map