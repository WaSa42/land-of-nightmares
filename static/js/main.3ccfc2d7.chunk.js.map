{"version":3,"sources":["United-Nukkie.mp3","serviceWorker.js","hooks/usePizzicato/index.js","hooks/usePizzicatoPlay/index.js","hooks/useVolume/index.js","hooks/usePizzicatoAutoStop/index.js","hooks/useDialog/index.js","components/Element/Default/index.js","components/ProjectName/index.js","store/createReducer.js","store/settings/index.js","components/Settings/Inputs/Audio/index.js","components/Settings/Inputs/DarkMode/index.js","components/Settings/Inputs/Hints/index.js","components/Settings/Inputs/TableTopMode/index.js","components/Drawer/index.js","components/Navigation/index.js","components/ScrollToBottom/index.js","components/Element/DiceRoll/index.js","tree/index.js","tree/Intro/index.js","components/Play/index.js","store/allowAudio/index.js","components/AllowAudio/index.js","components/Settings/Inputs/Language/index.js","components/Settings/MusicVolume/index.js","components/Settings/Inputs/SoundVolume/index.js","components/Settings/DialogVolume/index.js","components/Settings/index.js","components/Credits/index.js","components/TitleScreen/index.js","components/ScrollToTop/index.js","App.js","components/Layout/theme.js","components/Layout/index.js","store/layout/index.js","store/index.js","locales/resources.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","usePizzicato","options","enabled","onLoaded","source","useState","isLoaded","setIsLoaded","sound","setSound","shouldCreateSound","useMemo","isEmpty","path","Pizzicato","Sound","isFunction","usePizzicatoPlay","pizzicato","allowAudio","autoPlay","isPlaying","setIsPlaying","playWhenLoaded","useCallback","play","stop","useEffect","isBoolean","useVolume","audio","volume","usePizzicatoAutoStop","useDialog","dialog","onTap","onTimeout","timeout","onDialogTap","Navigation","skip","dialogTimeout","getRawSourceNode","buffer","duration","noop","useStyles","makeStyles","theme","root","marginBottom","spacing","cardContent","padding","cardActions","flexWrap","justifyContent","hint","marginTop","DefaultElement","forwardRef","props","ref","classes","t","useTranslation","actions","children","className","injected","media","onEnable","readOnly","settings","text","typographyProps","passThroughProps","isSoundLoaded","onDialogTimeout","dialogVolume","useTap","handleTap","handleKeyPress","useActions","hasActions","Actions","actionRef","hasProgress","useProgress","useEnabled","useTimeout","elementRef","useRef","disabled","useImperativeHandle","focus","current","useFocus","Card","clsx","CardActionArea","onClick","onKeyPress","CardMedia","CardContent","Typography","align","hints","Alert","variant","severity","CardActions","disableSpacing","defaultProps","undefined","connect","state","fontFamily","ProjectName","createReducer","initialState","handlers","action","hasOwnProperty","type","updateSettings","darkMode","tableTopMode","musicVolume","soundVolume","NAME","switch","marginRight","Audio","dispatch","displayHelperText","name","value","handleChange","e","target","checked","FormGroup","FormControlLabel","control","Switch","onChange","label","FormHelperText","DarkMode","Hints","TableTopMode","toolbar","display","alignItems","mixins","list","width","iconButton","marginLeft","Drawer","open","toggle","rest","SwipeableDrawer","onClose","onOpen","role","IconButton","Divider","List","ListItem","button","component","Link","to","ListItemIcon","ListItemText","primary","opacity","icons","onMenuClick","paths","rootPath","useTheme","matches","useMediaQuery","breakpoints","up","useLocation","getLabel","key","findIndex","matchPath","pathname","BottomNavigation","showLabels","map","Icon","BottomNavigationAction","icon","characters","PeopleIcon","inventory","InboxIcon","journal","BookIcon","position","zIndex","top","history","targetRef","scroll","useScrollTrigger","disableHysteresis","scrollDown","scrollUp","scrollToBottom","behavior","scrollTo","offsetTop","offsetHeight","Slide","appear","direction","in","Box","Container","maxWidth","Fab","color","aria-label","SEVERITY_BY_FLAG","success","criticalSuccess","failure","criticalFailure","alertTitle","fontWeight","useAlertStyles","filledSuccess","palette","getContrastText","main","filledError","error","roller","DiceRoller","DiceRollElement","alertClasses","enqueueSnackbar","useSnackbar","query","onCriticalFailure","onCriticalSuccess","onFailure","onSuccess","skill","snapshot","getFlag","roll","results","flatMap","rolls","useInTotal","getRollResults","some","r","modifierFlags","total","handleNext","flag","includes","newRoll","toJSON","newFlag","updateHistorySnapshot","indexInHistory","nav","AlertTitle","output","ownProps","Element","ButtonElement","fontSize","goForward","character","body","backgroundColor","background","default","appBar","bottom","navigation","mapStateToProps","mainMusic","drawerState","setDrawerState","toggleDrawer","event","Tree","tree","Story","defaultElement","AppBar","elevation","isAllowed","handleAllowAudio","size","fullWidth","Language","i18n","anchorEl","setAnchorEl","handleClose","language","changeLanguage","aria-controls","aria-haspopup","currentTarget","startIcon","endIcon","anchorOrigin","vertical","horizontal","transformOrigin","MenuItem","input","MusicVolume","handleSliderChange","handleInputChange","Number","FormControl","id","gutterBottom","Grid","container","item","xs","Slider","aria-labelledby","OutlinedInput","margin","onBlur","labelWidth","inputProps","step","min","max","SoundVolume","DialogVolume","section","listItem","paddingBottom","alert","referrer","URLSearchParams","search","get","handleResetHistory","resetHistory","preventDuplicate","Fade","CardHeader","title","subheader","disablePadding","divider","paper","sectionDivider","textDecoration","Credits","ListItemAvatar","Avatar","alt","src","href","WEB","flexDirection","minHeight","card","overflow","playIcon","flexGrow","currentLocation","last","newGame","muteIcon","darkModeIcon","playLinkText","handleUpdateSettings","setting","oldValue","rel","ScrollToTop","musicInfo","author","loop","musicPath","attack","release","isMainMusicLoaded","light","deepPurple","secondary","teal","lightGreen","red","warning","orange","dark","info","cyan","deepOrange","backgroundImage","backgroundSize","backgroundAttachment","backgroundPosition","useSnackBarStyles","variantInfo","variantSuccess","variantError","variantWarning","Layout","prefersDarkMode","mode","createMuiTheme","themeOptions","snackBarClasses","ThemeProvider","maxSnack","layout","middleWares","thunk","reducers","combineReducers","persistedReducers","persistReducer","storage","blacklist","store","createStore","compose","applyMiddleware","persistor","persistStore","Store","loading","en","translation","UI","fr","use","LanguageDetector","initReactI18next","init","resources","debug","process","defaultNS","whitelist","fallbackLng","interpolation","escapeValue","react","ReactDOM","render","fallback","Backdrop","CircularProgress","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3ccfc2d7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/United-Nukkie.e07fcb28.mp3\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { useMemo, useState } from 'react';\nimport isEmpty from 'lodash/isEmpty';\nimport isFunction from 'lodash/isFunction';\nimport Pizzicato from 'pizzicato';\n\nconst usePizzicato = (options = {}, enabled = true, onLoaded, source = 'file') => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [sound, setSound] = useState(null);\n\n  const shouldCreateSound = useMemo(() => (\n    sound === null && !isEmpty(options.path) && enabled === true\n  ), [enabled, options.path, sound]);\n\n  if (shouldCreateSound) {\n    setSound(new Pizzicato.Sound({ source, options }, () => {\n      setIsLoaded(true);\n      if (isFunction(onLoaded)) { onLoaded(sound); }\n    }));\n  }\n\n  return [sound, isLoaded];\n};\n\nexport default usePizzicato;\n","import { useCallback, useEffect, useState } from 'react';\nimport isBoolean from 'lodash/isBoolean';\n\nconst usePizzicatoPlay = (pizzicato, allowAudio, isLoaded, autoPlay) => {\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  const playWhenLoaded = useCallback(() => {\n    if (pizzicato && allowAudio && isLoaded && !isPlaying) {\n      setIsPlaying(true);\n      pizzicato.play();\n    }\n    return () => pizzicato.stop();\n  }, [allowAudio, isLoaded, isPlaying, pizzicato]);\n\n  useEffect(() => {\n    if (isBoolean(autoPlay)) { playWhenLoaded(isLoaded); }\n  }, [autoPlay, isLoaded, pizzicato, playWhenLoaded]);\n\n  return [isPlaying, playWhenLoaded];\n};\n\nexport default usePizzicatoPlay;\n","import { useEffect } from 'react';\n\nconst useVolume = (sound, { audio, volume }) => useEffect(() => {\n  if (sound !== null) {\n    // Pizzicato works with mutations\n    // eslint-disable-next-line no-param-reassign\n    sound.volume = !audio ? 0 : volume / 100;\n  }\n}, [sound, audio, volume]);\n\nexport default useVolume;\n","import { useEffect } from 'react';\nimport isFunction from 'lodash/isFunction';\n\nconst usePizzicatoAutoStop = (pizzicato, { enabled }) => useEffect(() => {\n  if (pizzicato && isFunction(pizzicato.stop) && enabled === false) {\n    pizzicato.stop();\n  }\n}, [enabled, pizzicato]);\n\nexport default usePizzicatoAutoStop;\n","import { useMemo } from 'react';\nimport isEmpty from 'lodash/isEmpty';\nimport isFunction from 'lodash/isFunction';\nimport noop from 'lodash/noop';\n\nimport Navigation from '@react-story-rich/core/classes/Navigation';\n\nconst useDialog = (pizzicato, allowAudio, isLoaded, { dialog, onTap, onTimeout, timeout }) => {\n  const onDialogTap = useMemo(() => (\n    isEmpty(dialog) || isFunction(onTap) ? onTap : Navigation.skip\n  ), [dialog, onTap]);\n\n  const dialogTimeout = useMemo(() => (\n    (allowAudio && !isEmpty(dialog) && timeout === 0 && pizzicato !== null && isLoaded)\n      ? pizzicato.getRawSourceNode().buffer.duration * 1000\n      : timeout\n  ), [allowAudio, dialog, isLoaded, pizzicato, timeout]);\n\n  const onDialogTimeout = useMemo(() => {\n    if (dialogTimeout === 0) { return !isFunction(onTimeout) ? noop : onTimeout; }\n\n    return isFunction(onTimeout) ? onTimeout : Navigation.skip;\n  }, [dialogTimeout, onTimeout]);\n\n  return [onDialogTap, onDialogTimeout, dialogTimeout];\n};\n\nexport default useDialog;\n","import React, { forwardRef, useImperativeHandle, useMemo, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport clsx from 'clsx';\nimport noop from 'lodash/noop';\nimport isEmpty from 'lodash/isEmpty';\n\nimport { useTranslation } from 'react-i18next';\nimport useEnabled from '@react-story-rich/core/hooks/useEnabled';\nimport useFocus from '@react-story-rich/core/hooks/useFocus';\nimport useTap from '@react-story-rich/core/hooks/useTap';\nimport useTimeout from '@react-story-rich/core/hooks/useTimeout';\nimport useActions from '@react-story-rich/ui/hooks/useActions';\nimport useProgress from '@react-story-rich/ui/hooks/useProgress';\nimport usePizzicato from 'hooks/usePizzicato';\nimport usePizzicatoPlay from 'hooks/usePizzicatoPlay';\nimport useVolume from 'hooks/useVolume';\nimport usePizzicatoAutoStop from 'hooks/usePizzicatoAutoStop';\nimport useDialog from 'hooks/useDialog';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Alert from '@material-ui/lab/Alert';\nimport Progress from '@react-story-rich/ui/components/Progress';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginBottom: theme.spacing(2),\n  },\n  cardContent: {\n    '&:last-child': {\n      padding: theme.spacing(2),\n    },\n  },\n  cardActions: {\n    flexWrap: 'wrap',\n    justifyContent: 'space-evenly',\n  },\n  hint: {\n    marginTop: theme.spacing(1),\n  },\n}));\n\nconst DefaultElement = forwardRef((props, ref) => {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  const {\n    actions,\n    allowAudio,\n    children,\n    className,\n    dialog,\n    hint,\n    injected,\n    media,\n    onEnable,\n    onTap,\n    onTimeout,\n    readOnly,\n    settings,\n    text,\n    typographyProps,\n    timeout,\n    ...passThroughProps\n  } = props;\n\n  // Sound\n  const [sound, isSoundLoaded] = usePizzicato({ path: dialog }, injected.enabled);\n  const [\n    onDialogTap,\n    onDialogTimeout,\n    dialogTimeout,\n  ] = useDialog(sound, allowAudio, isSoundLoaded, props);\n\n  usePizzicatoPlay(sound, allowAudio, isSoundLoaded, true);\n  useVolume(sound, { audio: settings.audio, volume: settings.dialogVolume });\n  usePizzicatoAutoStop(sound, injected);\n\n  // Events\n  const [handleTap, handleKeyPress] = useTap(onDialogTap, readOnly, injected);\n  const [hasActions, Actions, actionRef] = useActions(actions, injected, { t });\n  const hasProgress = useProgress(onDialogTimeout, dialogTimeout, injected, hasActions);\n\n  useEnabled(onEnable, injected);\n  useTimeout(onDialogTimeout, dialogTimeout, injected);\n\n  // Element & refs\n  const elementRef = useRef(null);\n  const disabled = useMemo(() => (\n    !injected.enabled || readOnly || hasActions\n  ), [hasActions, injected.enabled, readOnly]);\n\n  useImperativeHandle(ref, () => ({ focus: elementRef.current.focus }));\n  useFocus(hasActions ? actionRef : elementRef, injected);\n\n  return (\n    <Card className={clsx(classes.root, className)} {...passThroughProps}>\n      <CardActionArea\n        disabled={disabled}\n        onClick={handleTap}\n        onKeyPress={handleKeyPress}\n        readOnly={readOnly}\n        ref={elementRef}\n      >\n        {media && <CardMedia {...media} />}\n        <CardContent className={classes.cardContent}>\n          {text ? <Typography align=\"center\" {...typographyProps}>{children}</Typography> : children}\n          {(settings.hints && !isEmpty(hint)) ? (\n            <Alert variant=\"outlined\" severity=\"info\" className={classes.hint}>{hint}</Alert>\n          ) : null}\n        </CardContent>\n      </CardActionArea>\n      {hasActions && (\n        <CardActions\n          className={classes.cardActions}\n          disableSpacing\n        >\n          {Actions}\n        </CardActions>\n      )}\n      {hasProgress && (\n        <Progress\n          timeout={timeout}\n          onTimeout={onTimeout}\n          enabled={injected.enabled}\n        />\n      )}\n    </Card>\n  );\n});\n\nDefaultElement.propTypes = {\n  /**\n   * Array of Material UI Button props object\n   * @see {@link https://material-ui.com/api/button/#button-api | MUI Button API}\n   */\n  actions: PropTypes.arrayOf(PropTypes.object),\n  /**\n   * @ignore\n   */\n  allowAudio: PropTypes.bool.isRequired,\n  /**\n   * Your own content displayed in a CardContent component\n   * @see {@link https://material-ui.com/components/cards/#card | MUI Card demo}\n   */\n  children: PropTypes.node.isRequired,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * A path of a dialog to play when card is enabled;\n   */\n  dialog: PropTypes.string,\n  /**\n   * A helper text\n   */\n  hint: PropTypes.string,\n  /**\n   * A set of props injected by the Story renderer\n   */\n  injected: PropTypes.shape({\n    /**\n     * If set to false, component will not be focused when being enabled.\n     */\n    autoFocus: PropTypes.bool.isRequired,\n    /**\n     * A Flag for indicating if the Element is currently active\n     */\n    enabled: PropTypes.bool.isRequired,\n    /**\n     * The location of the Element in the story tree\n     */\n    key: PropTypes.number.isRequired,\n    /**\n     * A set of navigation methods\n     * @see Navigation Class description\n     */\n    nav: PropTypes.object.isRequired,\n  }),\n  /**\n   * Object of Material UI CardMedia props\n   * @see {@link https://material-ui.com/api/card-media/#cardmedia-api | MUI CardMedia API}\n   */\n  media: PropTypes.object,\n  /**\n   * Callback triggered when Element is enabled by the Story.\n   */\n  onEnable: PropTypes.func,\n  /**\n   * Callback triggered when Element is enabled and is clicked or key pressed.\n   */\n  onTap: PropTypes.func,\n  /**\n   * Callback triggered when Element is enabled and the timeout delay is reached.\n   */\n  onTimeout: PropTypes.func,\n  /**\n   * If set to true, the enabled Element cannot be \"tapped\" but *onTimeout* can still be called.\n   * Useful if you want to wait for an audio to finish before making tapping possible.\n   *\n   * Note that a component with a noop onTap is considered as readOnly: true\n   */\n  readOnly: PropTypes.bool,\n  /**\n   * @ignore\n   */\n  settings: PropTypes.shape({\n    audio: PropTypes.bool.isRequired,\n    darkMode: PropTypes.bool.isRequired,\n    dialogVolume: PropTypes.number.isRequired,\n    hints: PropTypes.bool.isRequired,\n    musicVolume: PropTypes.number.isRequired,\n    soundVolume: PropTypes.number.isRequired,\n    tableTopMode: PropTypes.bool.isRequired,\n  }).isRequired,\n  /**\n   * If true, will render children directly in a Material UI Typography component\n   */\n  text: PropTypes.bool,\n  /**\n   * The delay *onTimeout* will be waiting before being triggered.\n   */\n  timeout: PropTypes.number,\n  /**\n   * Object of Material UI Typography props\n   * @see {@link https://material-ui.com/api/typography/#typography-api | MUI Typography API}\n   */\n  typographyProps: PropTypes.object,\n};\n\nDefaultElement.defaultProps = {\n  actions: [],\n  className: '',\n  dialog: '',\n  hint: '',\n  injected: undefined,\n  media: null,\n  onEnable: noop,\n  onTap: null,\n  onTimeout: null,\n  readOnly: false,\n  text: false,\n  timeout: 0,\n  typographyProps: {},\n};\n\nexport default connect((state) => ({\n  allowAudio: state.allowAudio,\n  settings: state.settings,\n}), {})(DefaultElement);\n","import React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    fontFamily: 'ReBucked',\n  },\n}));\n\nconst NAME = 'ProjectName';\n\nconst ProjectName = ({ className, ...typographyProps }) => {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  return (\n    <Typography\n      className={clsx(classes.root, className)}\n      {...typographyProps}\n    >\n      {t(NAME)}\n    </Typography>\n  );\n};\n\nProjectName.propTypes = {\n  className: PropTypes.string,\n};\n\nProjectName.defaultProps = {\n  className: '',\n};\n\nexport default ProjectName;\n","export default function createReducer(initialState, handlers) {\n  return function reducer(state = initialState, action) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (handlers.hasOwnProperty(action.type)) {\n      return handlers[action.type](state, action);\n    }\n    return state;\n  };\n}\n","import createReducer from '../createReducer';\n\n// ACTIONS\nexport const UPDATE_SETTINGS = 'UPDATE_SETTINGS';\nexport const updateSettings = (settings) => ({ type: UPDATE_SETTINGS, settings });\n\n// REDUCER\nexport default createReducer({\n  audio: false,\n  darkMode: true,\n  hints: true,\n  tableTopMode: true,\n  dialogVolume: 75,\n  musicVolume: 30,\n  soundVolume: 50,\n}, {\n  [UPDATE_SETTINGS]: (state, { settings }) => ({ ...state, ...settings }),\n});\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\n\nimport { updateSettings } from 'store/settings';\n\nconst NAME = 'Settings.Inputs.Audio';\n\nconst useStyles = makeStyles({\n  switch: {\n    marginRight: 10,\n  },\n});\n\nfunction Audio({ dispatch, displayHelperText, name, value }) {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  const handleChange = useCallback((e) => {\n    dispatch(updateSettings({ audio: e.target.checked }));\n  }, [dispatch]);\n\n  return (\n    <FormGroup>\n      <FormControlLabel\n        control={(\n          <Switch\n            name={name}\n            checked={value}\n            onChange={handleChange}\n            className={classes.switch}\n          />\n        )}\n        label={t(`${NAME}.label`)}\n      />\n      {displayHelperText && <FormHelperText>{t(`${NAME}.helperText`)}</FormHelperText>}\n    </FormGroup>\n  );\n}\n\nAudio.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  displayHelperText: PropTypes.bool,\n  name: PropTypes.string,\n  value: PropTypes.bool.isRequired,\n};\n\nAudio.defaultProps = {\n  displayHelperText: false,\n  name: 'audio',\n};\n\nexport default connect((state) => ({ value: state.settings.audio }))(Audio);\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\n\nimport { updateSettings } from 'store/settings';\n\nconst NAME = 'Settings.Inputs.DarkMode';\n\nconst useStyles = makeStyles({\n  switch: {\n    marginRight: 10,\n  },\n});\n\nfunction DarkMode({ dispatch, displayHelperText, name, value }) {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  const handleChange = useCallback((e) => {\n    dispatch(updateSettings({ darkMode: e.target.checked }));\n  }, [dispatch]);\n\n  return (\n    <FormGroup>\n      <FormControlLabel\n        control={(\n          <Switch\n            name={name}\n            checked={value}\n            onChange={handleChange}\n            className={classes.switch}\n          />\n        )}\n        label={t(`${NAME}.label`)}\n      />\n      {displayHelperText && <FormHelperText>{t(`${NAME}.helperText`)}</FormHelperText>}\n    </FormGroup>\n  );\n}\n\nDarkMode.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  displayHelperText: PropTypes.bool,\n  name: PropTypes.string,\n  value: PropTypes.bool.isRequired,\n};\n\nDarkMode.defaultProps = {\n  displayHelperText: false,\n  name: 'darkMode',\n};\n\nexport default connect((state) => ({ value: state.settings.darkMode }))(DarkMode);\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\n\nimport { updateSettings } from 'store/settings';\n\nconst NAME = 'Settings.Inputs.Hints';\n\nconst useStyles = makeStyles({\n  switch: {\n    marginRight: 10,\n  },\n});\n\nfunction Hints({ dispatch, displayHelperText, name, value }) {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  const handleChange = useCallback((e) => {\n    dispatch(updateSettings({ hints: e.target.checked }));\n  }, [dispatch]);\n\n  return (\n    <FormGroup>\n      <FormControlLabel\n        control={(\n          <Switch\n            name={name}\n            checked={value}\n            onChange={handleChange}\n            className={classes.switch}\n          />\n        )}\n        label={t(`${NAME}.label`)}\n      />\n      {displayHelperText && <FormHelperText>{t(`${NAME}.helperText`)}</FormHelperText>}\n    </FormGroup>\n  );\n}\n\nHints.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  displayHelperText: PropTypes.bool,\n  name: PropTypes.string,\n  value: PropTypes.bool.isRequired,\n};\n\nHints.defaultProps = {\n  displayHelperText: false,\n  name: 'hints',\n};\n\nexport default connect((state) => ({ value: state.settings.hints }))(Hints);\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\n\nimport { updateSettings } from 'store/settings';\n\nconst NAME = 'Settings.Inputs.TableTopMode';\n\nconst useStyles = makeStyles({\n  switch: {\n    marginRight: 10,\n  },\n});\n\nfunction TableTopMode({ dispatch, displayHelperText, name, value }) {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  const handleChange = useCallback((e) => {\n    dispatch(updateSettings({ tableTopMode: e.target.checked }));\n  }, [dispatch]);\n\n  return (\n    <FormGroup>\n      <FormControlLabel\n        control={(\n          <Switch\n            name={name}\n            checked={value}\n            onChange={handleChange}\n            className={classes.switch}\n          />\n        )}\n        label={t(`${NAME}.label`)}\n      />\n      {displayHelperText && <FormHelperText>{t(`${NAME}.helperText`)}</FormHelperText>}\n    </FormGroup>\n  );\n}\n\nTableTopMode.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  displayHelperText: PropTypes.bool,\n  name: PropTypes.string,\n  value: PropTypes.bool.isRequired,\n};\n\nTableTopMode.defaultProps = {\n  displayHelperText: false,\n  name: 'tableTopMode',\n};\n\nexport default connect((state) => ({ value: state.settings.tableTopMode }))(TableTopMode);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport HomeIcon from '@material-ui/icons/Home';\nimport SettingsIcon from '@material-ui/icons/Settings';\n\nimport ProjectName from 'components/ProjectName';\nimport Audio from 'components/Settings/Inputs/Audio';\nimport DarkMode from 'components/Settings/Inputs/DarkMode';\nimport Hints from 'components/Settings/Inputs/Hints';\nimport TableTopMode from 'components/Settings/Inputs/TableTopMode';\n\nconst useStyles = makeStyles((theme) => ({\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar,\n  },\n  list: {\n    width: 'auto',\n  },\n  iconButton: {\n    marginLeft: theme.spacing(1),\n  },\n}));\n\nconst NAME = 'Drawer';\n\nfunction Drawer({ open, toggle, ...rest }) {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  return (\n    <SwipeableDrawer\n      open={open}\n      onClose={toggle(false)}\n      onOpen={toggle(true)}\n      {...rest}\n    >\n      <div className={classes.list} role=\"presentation\">\n        <div className={classes.toolbar}>\n          <ProjectName />\n          <IconButton onClick={toggle(false)} className={classes.iconButton}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <ListItem button component={Link} to=\"/\">\n            <ListItemIcon><HomeIcon /></ListItemIcon>\n            <ListItemText primary={t(`${NAME}.titleScreen`)} />\n          </ListItem>\n          <ListItem button component={Link} to=\"/settings?referrer=play\">\n            <ListItemIcon><SettingsIcon /></ListItemIcon>\n            <ListItemText primary={t(`${NAME}.settings`)} />\n          </ListItem>\n        </List>\n        <Divider />\n        <List>\n          <ListItem><Audio /></ListItem>\n          <ListItem><DarkMode /></ListItem>\n          <ListItem><Hints /></ListItem>\n          <ListItem><TableTopMode /></ListItem>\n        </List>\n      </div>\n    </SwipeableDrawer>\n  );\n}\n\nDrawer.propTypes = {\n  open: PropTypes.bool.isRequired,\n  toggle: PropTypes.func.isRequired,\n};\n\nexport default Drawer;\n","import React, { useCallback, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation, matchPath } from 'react-router-dom';\n\nimport clsx from 'clsx';\nimport findIndex from 'lodash/findIndex';\n\nimport { useTranslation } from 'react-i18next';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\n\nimport PeopleIcon from '@material-ui/icons/People';\nimport InboxIcon from '@material-ui/icons/Inbox';\nimport BookIcon from '@material-ui/icons/Book';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nconst NAME = 'Navigation';\n\nconst useStyles = makeStyles(() => ({\n  disabled: {\n    opacity: '0.2',\n  },\n}));\n\nfunction Navigation({ icons, onMenuClick, paths, rootPath, ...rest }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up('sm'));\n\n  const { t } = useTranslation('UI');\n\n  const location = useLocation();\n\n  const getLabel = useCallback((key) => t(`${NAME}.${key}`), [t]);\n\n  const value = useMemo(() => findIndex(paths, (path) => !!matchPath(location.pathname, {\n    path: `${rootPath}/${path}`,\n  })), [location.pathname, paths, rootPath]);\n\n  return (\n    <>\n      <BottomNavigation showLabels value={value} {...rest}>\n        {paths.map((path) => {\n          const label = getLabel(path);\n          const Icon = icons[path];\n          const disabled = path !== 'journal'; // For the demo\n\n          return (\n            <BottomNavigationAction\n              className={clsx({ [classes.disabled]: disabled })}\n              disabled={disabled}\n              component={Link}\n              key={`${NAME}.${path}`}\n              label={label}\n              icon={<Icon />}\n              to={`${rootPath}/${path}`}\n            />\n          );\n        })}\n        {(onMenuClick && matches) ? (\n          <BottomNavigationAction\n            label={t(`${NAME}.menu`)}\n            icon={<MenuIcon />}\n            onClick={onMenuClick}\n          />\n        ) : null}\n      </BottomNavigation>\n    </>\n  );\n}\n\nNavigation.propTypes = {\n  icons: PropTypes.objectOf(PropTypes.object),\n  onMenuClick: PropTypes.func,\n  paths: PropTypes.arrayOf(PropTypes.string),\n  rootPath: PropTypes.string,\n};\n\nNavigation.defaultProps = {\n  icons: { characters: PeopleIcon, inventory: InboxIcon, journal: BookIcon },\n  onMenuClick: null,\n  paths: ['characters', 'inventory', 'journal'],\n  rootPath: '/',\n};\n\nexport default Navigation;\n","import React, { useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\n\nimport Box from '@material-ui/core/Box';\nimport Container from '@material-ui/core/Container';\nimport Fab from '@material-ui/core/Fab';\nimport Slide from '@material-ui/core/Slide';\n\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\n\nconst NAME = 'ScrollToBottom';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'fixed',\n    width: '100vw',\n    zIndex: 1,\n    top: theme.spacing(2),\n  },\n}));\n\nfunction ScrollToBottom({ targetRef, history }) {\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  const scroll = useScrollTrigger({ disableHysteresis: true });\n  const scrollDown = useScrollTrigger();\n  const scrollUp = scroll && !scrollDown;\n\n  const scrollToBottom = useCallback((behavior) => {\n    window.scrollTo({\n      top: targetRef.current.offsetTop + targetRef.current.offsetHeight,\n      behavior,\n    });\n  }, [targetRef]);\n\n  useEffect(scrollToBottom, [history]);\n\n  return (\n    <Slide appear={false} direction=\"down\" in={scrollUp}>\n      <Box className={classes.root}>\n        <Container maxWidth=\"sm\">\n          <Box display=\"flex\" justifyContent=\"center\">\n            <Fab\n              color=\"secondary\"\n              aria-label={t(`${NAME}.goDown`)}\n              onClick={() => scrollToBottom('smooth')}\n            >\n              <KeyboardArrowDownIcon />\n            </Fab>\n          </Box>\n        </Container>\n      </Box>\n    </Slide>\n  );\n}\n\nScrollToBottom.propTypes = {\n  history: PropTypes.array.isRequired,\n  targetRef: PropTypes.PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) }),\n  ]).isRequired,\n};\n\nexport default connect((state) => ({ history: state.history }))(ScrollToBottom);\n","import React, { forwardRef, useCallback, useEffect, useImperativeHandle, useMemo, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport flatMap from 'lodash/flatMap';\nimport isFunction from 'lodash/isFunction';\nimport noop from 'lodash/noop';\nimport some from 'lodash/some';\nimport { DiceRoller } from 'rpg-dice-roller';\n\nimport { useSnackbar } from 'notistack';\nimport { useTranslation } from 'react-i18next';\nimport useFocus from '@react-story-rich/core/hooks/useFocus';\nimport useTap from '@react-story-rich/core/hooks/useTap';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Alert from '@material-ui/lab/Alert';\nimport AlertTitle from '@material-ui/lab/AlertTitle';\n\nimport { updateHistorySnapshot } from '@react-story-rich/core/reducers/history';\n\nconst SEVERITY_BY_FLAG = {\n  success: 'success',\n  criticalSuccess: 'success',\n  failure: 'error',\n  criticalFailure: 'error',\n};\n\nconst useStyles = makeStyles(() => ({\n  alertTitle: {\n    fontWeight: 'bold',\n  },\n}));\n\nconst useAlertStyles = makeStyles((theme) => ({\n  root: {\n    marginBottom: theme.spacing(2),\n  },\n  filledSuccess: {\n    color: theme.palette.getContrastText(theme.palette.success.main),\n  },\n  filledError: {\n    color: theme.palette.getContrastText(theme.palette.error.main),\n  },\n}));\n\nconst roller = new DiceRoller();\n\nconst getRollResults = (roll) => flatMap(roll.rolls, ({ useInTotal, rolls }) => (\n  useInTotal !== false && rolls\n));\n\nconst DiceRollElement = forwardRef((props, ref) => {\n  const classes = useStyles();\n  const alertClasses = useAlertStyles();\n\n  const { t } = useTranslation('UI');\n  const { enqueueSnackbar } = useSnackbar();\n\n  const {\n    className,\n    dispatch,\n    injected,\n    query,\n    onCriticalFailure,\n    onCriticalSuccess,\n    onFailure,\n    onSuccess,\n    settings,\n    skill,\n    snapshot,\n    ...passThroughProps\n  } = props;\n\n  const getFlag = useCallback((roll) => {\n    if (!roll) { return false; }\n\n    const results = getRollResults(roll);\n\n    if (some(results, (r) => r.modifierFlags === '***')) { return 'criticalSuccess'; }\n    if (some(results, (r) => r.modifierFlags === '__')) { return 'criticalFailure'; }\n\n    return roll.total === 0 ? 'failure' : 'success';\n  }, []);\n\n  const { roll } = snapshot;\n  const { tableTopMode } = settings;\n\n  const handleNext = useCallback((flag) => {\n    if (['success', 'criticalSuccess'].includes(flag)) {\n      return isFunction(onCriticalSuccess) && flag === 'criticalSuccess' ? onCriticalSuccess : onSuccess;\n    }\n\n    if (['failure', 'criticalFailure'].includes(flag)) {\n      return isFunction(onCriticalFailure) && flag === 'criticalFailure' ? onCriticalFailure : onFailure;\n    }\n\n    return noop;\n  }, [onCriticalFailure, onCriticalSuccess, onFailure, onSuccess]);\n\n  const flag = useMemo(() => getFlag(roll), [getFlag, roll]);\n\n  const [handleTap, handleKeyPress] = useTap(handleNext(flag), false, injected);\n\n  useEffect(() => {\n    if (!roll && injected.enabled) {\n      const newRoll = roller.roll(query).toJSON();\n      const newFlag = getFlag(newRoll);\n\n      dispatch(updateHistorySnapshot(injected.indexInHistory, { roll: newRoll }));\n      enqueueSnackbar(t(`Roller.flag.${newFlag}`), { variant: SEVERITY_BY_FLAG[newFlag] });\n\n      if (tableTopMode === false) {\n        handleNext(newFlag)(injected.nav);\n      }\n    }\n  }, [\n    dispatch,\n    enqueueSnackbar,\n    getFlag,\n    handleNext,\n    handleTap,\n    injected.enabled,\n    injected.indexInHistory,\n    injected.nav,\n    query,\n    roll,\n    t,\n    tableTopMode,\n  ]);\n\n  if (tableTopMode === false) {\n    return null;\n  }\n\n  const Action = () => {\n    const elementRef = useRef(null);\n    useImperativeHandle(ref, () => ({ focus: elementRef.current.focus }));\n    useFocus(elementRef, injected);\n\n    return (\n      <Button\n        disabled={!injected.enabled}\n        color=\"inherit\"\n        ref={elementRef}\n        onClick={handleTap}\n        onKeyPress={handleKeyPress}\n      >\n        {t('Roller.next')}\n      </Button>\n    );\n  };\n\n  return roll && (\n    <Alert\n      action={<Action />}\n      classes={alertClasses}\n      severity={SEVERITY_BY_FLAG[flag]}\n      variant=\"filled\"\n      {...passThroughProps}\n    >\n      {skill !== null && <AlertTitle className={classes.alertTitle}>{t(`Roller.skill.${skill}`)}</AlertTitle>}\n      {t(`Roller.youRolled`, { roll: roll.output })}\n      &nbsp;\n      {t(`Roller.flag.${flag}`)}\n    </Alert>\n  );\n});\n\nDiceRollElement.propTypes = {\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * @ignore\n   */\n  dispatch: PropTypes.func.isRequired,\n  /**\n   * @ignore\n   * A set of props injected by the Story renderer\n   */\n  injected: PropTypes.shape({\n    /**\n     * If set to false, component will not be focused when being enabled.\n     */\n    autoFocus: PropTypes.bool.isRequired,\n    /**\n     * A Flag for indicating if the Element is currently active\n     */\n    enabled: PropTypes.bool.isRequired,\n    /**\n     *\n     */\n    indexInHistory: PropTypes.number.isRequired,\n    /**\n     * The location of the Element in the story tree\n     */\n    key: PropTypes.number.isRequired,\n    /**\n     * A set of navigation methods\n     * @see Navigation Class description\n     */\n    nav: PropTypes.object.isRequired,\n  }),\n  /**\n   * Callback triggered when Roll result is critical failure\n   */\n  onCriticalFailure: PropTypes.func,\n  /**\n   * Callback triggered when Roll result is critical success\n   */\n  onCriticalSuccess: PropTypes.func,\n  /**\n   * Callback triggered when Roll result is failure\n   */\n  onFailure: PropTypes.func.isRequired,\n  /**\n   * Callback triggered when Roll result is success\n   */\n  onSuccess: PropTypes.func.isRequired,\n  /**\n   * http://rpg.greenimp.co.uk/dice-roller/?\n   */\n  query: PropTypes.string.isRequired,\n  /**\n   * @ignore\n   */\n  settings: PropTypes.shape({\n    tableTopMode: PropTypes.bool.isRequired,\n  }).isRequired,\n  /**\n   * If set to one of these, the title will say : Roll of {skill}!\n   */\n  skill: PropTypes.oneOf(['INT', 'STR', 'AGI', 'TIN', 'COM', 'CHA', 'FLU']),\n  snapshot: PropTypes.object,\n};\n\nDiceRollElement.defaultProps = {\n  className: '',\n  injected: undefined,\n  onCriticalFailure: null,\n  onCriticalSuccess: null,\n  skill: null,\n  snapshot: {},\n};\n\nexport default connect((state, ownProps) => ({\n  settings: state.settings,\n  snapshot: state.history[ownProps.injected.indexInHistory].snapshot,\n}))(DiceRollElement);\n","import Intro from './Intro';\n\nexport default [Intro];\n","import ButtonElement from '@react-story-rich/ui/components/Element/Button';\nimport Navigation from '@react-story-rich/core/classes/Navigation';\n\nimport DiceRollElement from 'components/Element/DiceRoll';\n\nconst Intro = ['Intro', [\n  `Aussi grande soit-elle, chaque civilisation est vouée à disparaître\n    et les ruines laissées par nos ancêtres cohabitent avec les monuments de notre ère.\n    Mais dans ce vieux monde abîmé par le poids de la guerre fleurit l'audace des Hommes.\n    Ils forgent le progrès et laissent une marque parmi leurs pairs.`,\n\n  `Cette aura qui vous entoure me parle,\n  elle me montre le destin qui vous accompagne, vous et votre audace.\n  Que dis-je ? Les destins ! Du plus court au plus long et du plus sombre au plus sacré...`,\n\n  `Saurez-vous saisir les possibilités tout en préservant votre nature ?\n  Parviendrez-vous à protéger les personnes qui vous sont chères ?\n  Assumerez-vous les choix que vous allez prendre ?`,\n\n  `Prenez-les sagement, naturellement, égoïstement ou peu importe,\n   car rien n'est aussi simple qu'il n'en ait l'air\n   et les conséquences de vos actions répondront à leur propre mystère.`,\n\n  {\n    Element: ButtonElement,\n    children: 'Land of Nightmares',\n    fontFamily: 'Rebucked',\n    fontSize: 'xl',\n    color: 'primary',\n    onTap: Navigation.skip,\n  },\n\n  `Terminons les récits du passé, les Hommes et leur empire,\n  les rêves des explorateurs qui jadis visitèrent ce lieu sans revenir.`,\n\n  `Ce vieux temple que vous savez au fond d'une jungle dense et magique est votre prison depuis une éternité.\n  Vous y demeurez actuellement inerte, sommeillant au coeur de la pierre et au pied d'un monde austère.`,\n\n  `Au coeur de votre tombeau même ! Celui de votre ancienne vie, que vous avez volontairement oubliée.\n   Pemettez moi de vous demandez : souhaitez vous vraiment vous réveiller ?`,\n\n  `Aucune réponse n'est acceptable quand vous n'avez guère le choix.\n  Vous entendez le craquement du granite qui se dérobe devant vous.`,\n\n  `Une lumière vient alors intensément vous éblouir et vous sortir de ce long repos.\n  Vous la sentez aussi sur votre coprs, nu, comme si vous n'aviez jamais goûté à la vie.`,\n\n  `L'air vous agresse, il vous fouette,\n  comme s'il se vangeait, lui aussi, de ne jamais avoir pu vous toucher durant toutes ces années !\n  Ou ces millénaires, qui sait ?`,\n\n  {\n    children: `Vous n'avez aucune notion du temps, vos repères sont inexistants, tout est sombre ou néant.\n    Seul votre instinct vous parle, souhaitez vous en revanche lui faire confiance ?`,\n    hint: `Le silence est une option valable`,\n    timeout: 30000,\n    onTimeout: ({ goForward }) => goForward(4),\n    actions: [\n      { children: `Puiser dans votre instinct`, onClick: Navigation.skip, color: 'secondary' },\n    ],\n  },\n\n  {\n    Element: DiceRollElement,\n    query: '1d20>=10',\n    skill: 'TIN',\n    onFailure: Navigation.skip,\n    onSuccess: ({ goForward }) => goForward(2),\n  },\n\n  `Vous puisez dans votre instinct pour sortir la plus féroce des mises en garde,\n  mais vous n'êtes pas en posture d'effrayer quiconque vous fait-on signifier.`,\n\n  {\n    children: `« Holà féroce demoiselle ! Ca sonne bien, mais ne marche pas.\n    En revanche on apprécie l’effort » vous répond une voix légèrement moqueuse.`,\n    onTap: ({ goForward }) => goForward(1),\n  },\n\n  `Votre instinct vous parle. Il sent la présence de trois personnes qu'il vaudrait mieux ne pas confronter.\n  Vous en êtes certaine, c'est le dialogue qu'il faudra privilégier.`,\n\n  `Allongé sur ce lit de pierre, votre corps se rédécouvre. Il se remémore qui vous êtes,\n  de la cime de vos cheveux infiniment longs jusqu'à la voute de vos pieds doux et fragiles.\n  Vous êtes celle que l'on appelait Empathie, cela vous revient, dernière Naïade de ce temple de l'eau qui fut mis\n  en sommeil avant son invasion.`,\n\n  `Nul n'avait osé jusqu'ici profaner les tombes,\n  ou peut-être nul n'avait réussi à progresser aussi loin dans le temple sans se faire tuer.`,\n\n  `Vous décidez de vous relever, sans un tissu pour combler votre besoin de pudeur.\n  Celle-ci devra attendre, car se tient devant vous trois aventuriers\n  dont les expressions sont, à votre étonnement, aussi perplexes que la votre.`,\n\n  {\n    character: 'worrick',\n    children: `« Et bien Jakker ! C'est le trésor que tu recherchais j'espère... »\n    dit l'un des trois en s'adressant à son accolyte.`,\n    onTap: Navigation.skip,\n  },\n\n  `Ce dernier, un humain vêtu d'une l'armure légère est le plus grand de la bande.\n  Son visage légèrement carré s'habille d'une petite barbe taillée et ses cheveux, bruns et ondulés\n  sont d'une propreté rare en ce monde. Encore moins communes sont les lunettes rondes qui trahissent sa classe.\n  Il est manifestement l'érudit, vous présumez.`,\n\n  `Son interlocuteur est quant à lui le plus petit des trois.\n  Sur son visage se dessinent des traits durs et renfermés.\n  Une voluptueuse barbe grise vient parfaire l'observation : c'est un nain !\n  Son armure solide, mais loin d'être massive se complete d'un large bouclier ovoïde.\n  Aucune arme n'occupe étonnament son attirail pourvu de sacoches de toutes tailles.`,\n\n  `Le dernier se tient plus en retrait. Il s'agit en fait d'une femme, dont les oreilles longues et pointues\n  la qualifie certainement d'elfe. Vous la distinguez très clairement prête à vous attaquer.\n  Son arc bandé au maximum, vous sentez toute la tension dans ses muscles. Un simple mouvement de doigts\n  pourrait vous valoir une flèche fatale à votre situation sans défense.`,\n\n  {\n    character: 'Jakker',\n    children: `« Pam, je ne crois pas qu'elle présente un danger. Tempérons la situation »\n    ordonne calmement le nain, d'une voix roque et sage.`,\n    onTap: Navigation.skip,\n  },\n\n  `L'archère s'exécute sans dire un mot. Vous êtes témoin de l'ordre et de la rigueur de ceux qui estiment que vous\n  ne leur êtes pas une menace.`,\n\n  {\n    children: `Toujours muette, l'elfe sort une tenue qu'elle jette en votre direction`,\n    timeout: 30000,\n    onTimeout: ({ goForward }) => goForward(1),\n    actions: [\n      { children: `Vous l'équipez`, onClick: ({ goForward }) => goForward(2) },\n      { children: `Vous le refusez`, onClick: Navigation.skip },\n    ],\n  },\n\n  {\n    character: 'Pam',\n    children: `« Ce n'est pas optionel » dit-elle pour agacée.`,\n    onTap: ({ goForward }) => goForward(1),\n  },\n\n  {\n    character: 'Pam',\n    children: `« C'est une de mes tenues de rechange »\n    dit-elle pour vous rassurer.`,\n    onTap: Navigation.skip,\n  },\n\n  `Vous enfilez le grossier tissu qu'elle vous a poliement donné.`,\n\n  {\n    children: `De quelle nature sont les premiers mots que vous souhaitez leur adresser ?`,\n    hint: `Choisir la nature \"Opportune\" déclenchera un test d'habilité.`,\n    actions: [\n      { children: `Amicale`, onClick: ({ goForward }) => goForward(4) },\n      { children: `Neutre`, onClick: ({ goForward }) => goForward(3) },\n      { children: `Hostile`, onClick: ({ goForward }) => goForward(2) },\n      { children: `Opportune`, onClick: Navigation.skip, color: 'secondary' },\n    ],\n  },\n\n  {\n    Element: DiceRollElement,\n    query: '1d20>=10',\n    skill: 'INT',\n    onFailure: ({ goForward }) => goForward(1),\n    onSuccess: Navigation.skip,\n  },\n\n  {\n    character: 'Empathie',\n    children: `Avec une imprésionnant sagesse, vous leur dîtes : \n    « Vous ignorez peut-être tout de ces lieux, ou vous en savez tous les recoins.\n    Une chose est sûre, il n'est profitable à aucun d'entre-nous de s'éterniser ici.\n    Il me parait inconcevable d'être la seule à m'être réveillez dans ce rafus. \n    Allons-nous en avant que plus fort ne nous trouve...»`,\n    onTap: Navigation.skip,\n  },\n\n  {\n    character: 'Empathie',\n    children: `« Vous n'avez aucune honte de venir profanez ce lieu sacré ! »\n    lancez-vous abruptement.`,\n    onTap: Navigation.skip,\n  },\n\n  {\n    character: 'Empathie',\n    children: `« Je n'ai aucune raison de vous faire confiance, mais je n'ai pas vraiment le choix. »`,\n    onTap: Navigation.skip,\n  },\n\n  {\n    character: 'Empathie',\n    children: `« Merci pour les vêtements » vous leur dîtes.\n    « Je souhaite collaborer. Tout me parait nouveau et mes sens sont saturés.\n    Aidez-moi et peut-être que je pourrais un jour vous rendre l'appareil... »`,\n    onTap: Navigation.skip,\n  },\n\n  {\n    children: `Pas de suite pour l'instant. Merci les amis pour le beta test !`,\n    readOnly: true,\n  },\n]];\n\nexport default Intro;\n","import React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport clsx from 'clsx';\n\nimport { Story, Tree } from '@react-story-rich/core';\nimport mapStateToProps from '@react-story-rich/core/reducers/mapStateToProps';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Container from '@material-ui/core//Container';\n\nimport DefaultElement from 'components/Element/Default';\nimport Drawer from 'components/Drawer';\nimport Navigation from 'components/Navigation';\nimport ScrollToBottom from 'components/ScrollToBottom';\n\nimport tree from 'tree';\n\nconst useStyles = makeStyles((theme) => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.background.default,\n    },\n  },\n  root: {\n    marginBottom: 56, // Navigation height\n  },\n  appBar: {\n    top: 'auto',\n    bottom: 0,\n    backgroundColor: theme.palette.background.default,\n  },\n  navigation: {\n    width: '100vw',\n  },\n}));\n\nfunction Play({ dispatch, history, mainMusic }) {\n  const ref = useRef(null);\n  const classes = useStyles();\n\n  const [drawerState, setDrawerState] = useState({ open: false });\n  const toggleDrawer = useCallback((open = !drawerState.open) => (event) => {\n    if (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) { return; }\n    setDrawerState({ open });\n  }, [drawerState.open]);\n\n  const root = useMemo(() => new Tree(tree), []);\n\n  useEffect(() => {\n    mainMusic.stop();\n    return () => mainMusic.play();\n  });\n\n  return (\n    <div ref={ref} className={clsx('Game', classes.root)}>\n      <Drawer open={drawerState.open} toggle={toggleDrawer} />\n      <ScrollToBottom targetRef={ref} />\n      <Container maxWidth=\"sm\">\n        <Story\n          defaultElement={DefaultElement}\n          dispatch={dispatch}\n          history={history}\n          tree={root}\n        />\n      </Container>\n      <AppBar position=\"fixed\" className={classes.appBar} elevation={4}>\n        <Navigation rootPath=\"/play\" className={classes.navigation} onMenuClick={toggleDrawer(true)} />\n      </AppBar>\n    </div>\n  );\n}\n\nPlay.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  history: PropTypes.array.isRequired,\n  mainMusic: PropTypes.object.isRequired,\n};\n\nexport default connect(mapStateToProps)(Play);\n","import createReducer from '../createReducer';\n\n// ACTIONS\nexport const ALLOW_AUDIO = 'ALLOW_AUDIO';\nexport const allowAudio = () => ({ type: ALLOW_AUDIO });\n\n// REDUCER\nexport default createReducer(false, {\n  [ALLOW_AUDIO]: () => true,\n});\n","import React, { useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport { useTranslation } from 'react-i18next';\n\nimport Alert from '@material-ui/lab/Alert';\nimport Button from '@material-ui/core/Button';\n\nimport { allowAudio } from 'store/allowAudio';\nimport { updateSettings } from 'store/settings';\n\nconst AllowAudio = ({ dispatch, isAllowed, ...passThroughProps }) => {\n  const { t } = useTranslation('UI');\n\n  const handleAllowAudio = useCallback(() => {\n    dispatch(updateSettings({ audio: true }));\n    dispatch(allowAudio());\n  }, [dispatch]);\n\n  return !isAllowed ? (\n    <Alert\n      severity=\"info\"\n      variant=\"outlined\"\n      action={(\n        <Button color=\"inherit\" size=\"small\" onClick={handleAllowAudio}>\n          {t('AllowAudio.action')}\n        </Button>\n      )}\n      {...passThroughProps}\n    >\n      {t('AllowAudio.text')}\n    </Alert>\n  ) : null;\n};\n\nAllowAudio.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  isAllowed: PropTypes.bool.isRequired,\n};\n\nexport default connect((state) => ({ isAllowed: state.allowAudio }))(AllowAudio);\n","import React, { useCallback, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport clsx from 'clsx';\n\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport TranslateIcon from '@material-ui/icons/Translate';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport { useMediaQuery } from '@material-ui/core';\n\nconst NAME = 'Settings.Inputs.Language';\n\nconst useStyles = makeStyles({\n  fullWidth: {\n    width: '100%',\n  },\n  button: {\n    justifyContent: 'space-between',\n  },\n});\n\nfunction Language({ className, displayHelperText, fullWidth, ...rest }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up('sm'));\n\n  const { t, i18n } = useTranslation('UI');\n\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleChange = useCallback((language) => () => {\n    i18n.changeLanguage(language);\n    handleClose();\n  }, [i18n]);\n\n  return (\n    <FormGroup className={clsx({ [classes.fullWidth]: fullWidth })}>\n      <Button\n        className={clsx(classes.button, className)}\n        variant=\"contained\"\n        color=\"primary\"\n        aria-controls=\"language-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n        startIcon={matches && <TranslateIcon />}\n        endIcon={<ArrowDropDownIcon />}\n        {...rest}\n      >\n        {t(`${NAME}.${i18n.language}`)}\n      </Button>\n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n      >\n        <MenuItem value=\"fr\" onClick={handleChange('fr')}>{t(`${NAME}.fr`)}</MenuItem>\n        <MenuItem value=\"en\" onClick={handleChange('en')}>{t(`${NAME}.en`)}</MenuItem>\n      </Menu>\n      {displayHelperText && <FormHelperText>{t(`${NAME}.helperText`)}</FormHelperText>}\n    </FormGroup>\n  );\n}\n\nLanguage.propTypes = {\n  className: PropTypes.string,\n  displayHelperText: PropTypes.bool,\n  fullWidth: PropTypes.bool,\n};\n\nLanguage.defaultProps = {\n  className: '',\n  displayHelperText: false,\n  fullWidth: false,\n};\n\nexport default Language;\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport Slider from '@material-ui/core/Slider';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport Typography from '@material-ui/core/Typography';\n\nimport VolumeUpIcon from '@material-ui/icons/VolumeUp';\n\nimport { updateSettings } from 'store/settings';\n\nconst NAME = 'Settings.Inputs.MusicVolume';\n\nconst useStyles = makeStyles({\n  input: {\n    width: 75,\n  },\n});\n\nfunction MusicVolume({ dispatch, name, value }) {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  const handleSliderChange = useCallback((e, musicVolume) => {\n    dispatch(updateSettings({ musicVolume }));\n  }, [dispatch]);\n\n  const handleInputChange = useCallback((e) => {\n    let musicVolume = e.target.value === '' ? '' : Number(e.target.value);\n    if (musicVolume < 0) { musicVolume = 0; } else if (musicVolume > 100) { musicVolume = 100; }\n\n    dispatch(updateSettings({ musicVolume }));\n  }, [dispatch]);\n\n  return (\n    <FormControl fullWidth>\n      <Typography id={name} variant=\"body2\" gutterBottom>{t(`${NAME}.label`)}</Typography>\n      <Grid container spacing={2} alignItems=\"center\">\n        <Grid item>\n          <VolumeUpIcon />\n        </Grid>\n        <Grid item xs>\n          <Slider\n            value={value}\n            onChange={handleSliderChange}\n            aria-labelledby={name}\n          />\n        </Grid>\n        <Grid item>\n          <OutlinedInput\n            className={classes.input}\n            value={value}\n            margin=\"dense\"\n            onChange={handleInputChange}\n            onBlur={handleInputChange}\n            labelWidth={0}\n            inputProps={{\n              step: 5,\n              min: 0,\n              max: 100,\n              type: 'number',\n            }}\n          />\n        </Grid>\n      </Grid>\n    </FormControl>\n  );\n}\n\nMusicVolume.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  name: PropTypes.string,\n  value: PropTypes.number.isRequired,\n};\n\nMusicVolume.defaultProps = {\n  name: 'musicVolume',\n};\n\nexport default connect((state) => ({ value: state.settings.musicVolume }))(MusicVolume);\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport Slider from '@material-ui/core/Slider';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport Typography from '@material-ui/core/Typography';\n\nimport VolumeUpIcon from '@material-ui/icons/VolumeUp';\n\nimport { updateSettings } from 'store/settings';\n\nconst NAME = 'Settings.Inputs.SoundVolume';\n\nconst useStyles = makeStyles({\n  input: {\n    width: 75,\n  },\n});\n\nfunction SoundVolume({ dispatch, name, value }) {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  const handleSliderChange = useCallback((e, soundVolume) => {\n    dispatch(updateSettings({ soundVolume }));\n  }, [dispatch]);\n\n  const handleInputChange = useCallback((e) => {\n    let soundVolume = e.target.value === '' ? '' : Number(e.target.value);\n    if (soundVolume < 0) { soundVolume = 0; } else if (soundVolume > 100) { soundVolume = 100; }\n\n    dispatch(updateSettings({ soundVolume }));\n  }, [dispatch]);\n\n  return (\n    <FormControl fullWidth>\n      <Typography id={name} variant=\"body2\" gutterBottom>{t(`${NAME}.label`)}</Typography>\n      <Grid container spacing={2} alignItems=\"center\">\n        <Grid item>\n          <VolumeUpIcon />\n        </Grid>\n        <Grid item xs>\n          <Slider\n            value={value}\n            onChange={handleSliderChange}\n            aria-labelledby={name}\n          />\n        </Grid>\n        <Grid item>\n          <OutlinedInput\n            className={classes.input}\n            value={value}\n            margin=\"dense\"\n            onChange={handleInputChange}\n            onBlur={handleInputChange}\n            labelWidth={0}\n            inputProps={{\n              step: 5,\n              min: 0,\n              max: 100,\n              type: 'number',\n            }}\n          />\n        </Grid>\n      </Grid>\n    </FormControl>\n  );\n}\n\nSoundVolume.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  name: PropTypes.string,\n  value: PropTypes.number.isRequired,\n};\n\nSoundVolume.defaultProps = {\n  name: 'soundVolume',\n};\n\nexport default connect((state) => ({ value: state.settings.soundVolume }))(SoundVolume);\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport Slider from '@material-ui/core/Slider';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport Typography from '@material-ui/core/Typography';\n\nimport VolumeUpIcon from '@material-ui/icons/VolumeUp';\n\nimport { updateSettings } from 'store/settings';\n\nconst NAME = 'Settings.Inputs.DialogVolume';\n\nconst useStyles = makeStyles({\n  input: {\n    width: 75,\n  },\n});\n\nfunction DialogVolume({ dispatch, name, value }) {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  const handleSliderChange = useCallback((e, dialogVolume) => {\n    dispatch(updateSettings({ dialogVolume }));\n  }, [dispatch]);\n\n  const handleInputChange = useCallback((e) => {\n    let dialogVolume = e.target.value === '' ? '' : Number(e.target.value);\n    if (dialogVolume < 0) { dialogVolume = 0; } else if (dialogVolume > 100) { dialogVolume = 100; }\n\n    dispatch(updateSettings({ dialogVolume }));\n  }, [dispatch]);\n\n  return (\n    <FormControl fullWidth>\n      <Typography id={name} variant=\"body2\" gutterBottom>{t(`${NAME}.label`)}</Typography>\n      <Grid container spacing={2} alignItems=\"center\">\n        <Grid item>\n          <VolumeUpIcon />\n        </Grid>\n        <Grid item xs>\n          <Slider\n            value={value}\n            onChange={handleSliderChange}\n            aria-labelledby={name}\n          />\n        </Grid>\n        <Grid item>\n          <OutlinedInput\n            className={classes.input}\n            value={value}\n            margin=\"dense\"\n            onChange={handleInputChange}\n            onBlur={handleInputChange}\n            labelWidth={0}\n            inputProps={{\n              step: 5,\n              min: 0,\n              max: 100,\n              type: 'number',\n            }}\n          />\n        </Grid>\n      </Grid>\n    </FormControl>\n  );\n}\n\nDialogVolume.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  name: PropTypes.string,\n  value: PropTypes.number.isRequired,\n};\n\nDialogVolume.defaultProps = {\n  name: 'dialogVolume',\n};\n\nexport default connect((state) => ({ value: state.settings.dialogVolume }))(DialogVolume);\n","import React, { useCallback, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useSnackbar } from 'notistack';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Alert from '@material-ui/lab/Alert';\nimport Fade from '@material-ui/core/Fade';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Button from '@material-ui/core/Button';\n\nimport AllowAudio from 'components/AllowAudio';\n\nimport { resetHistory } from '@react-story-rich/core/reducers/history';\n\nimport Language from './Inputs/Language';\nimport Audio from './Inputs/Audio';\nimport DarkMode from './Inputs/DarkMode';\nimport Hints from './Inputs/Hints';\nimport TableTopMode from './Inputs/TableTopMode';\nimport MusicVolume from './MusicVolume';\nimport SoundVolume from './Inputs/SoundVolume';\nimport DialogVolume from './DialogVolume';\n\nconst useStyles = makeStyles((theme) => ({\n  section: {\n    marginTop: theme.spacing(3),\n  },\n  listItem: {\n    paddingBottom: theme.spacing(3),\n  },\n  alert: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nconst NAME = 'Settings';\nfunction Settings({ allowAudio, dispatch }) {\n  const classes = useStyles();\n  const location = useLocation();\n  const { t } = useTranslation('UI');\n  const { enqueueSnackbar } = useSnackbar();\n\n  const referrer = useMemo(\n    () => new URLSearchParams(location.search).get('referrer') || '',\n    [location.search],\n  );\n\n  const handleResetHistory = useCallback(() => {\n    dispatch(resetHistory());\n    enqueueSnackbar(t(`${NAME}.inGame.resetHistory.success`), { variant: 'warning', preventDuplicate: true });\n  }, [dispatch, enqueueSnackbar, t]);\n\n  return (\n    <Fade in className=\"Settings\">\n      <Container maxWidth=\"sm\">\n        <Typography\n          component=\"h1\"\n          variant=\"h3\"\n          color=\"textPrimary\"\n          align=\"center\"\n        >\n          {t(`${NAME}.title`)}\n        </Typography>\n        <Typography\n          variant=\"h6\"\n          color=\"textSecondary\"\n          align=\"center\"\n          gutterBottom\n        >\n          {t(`${NAME}.subheader`)}\n        </Typography>\n        <Card className={classes.section}>\n          <CardHeader title={t(`${NAME}.text.title`)} subheader={t(`${NAME}.text.subheader`)} />\n          <List disablePadding>\n            <ListItem className={classes.listItem} divider>\n              <Language displayHelperText fullWidth />\n            </ListItem>\n            <ListItem className={classes.listItem} divider><DarkMode displayHelperText /></ListItem>\n          </List>\n        </Card>\n        <Card className={classes.section}>\n          <CardHeader title={t(`${NAME}.volume.title`)} subheader={t(`${NAME}.volume.subheader`)} />\n          <List disablePadding>\n            <ListItem divider><MusicVolume /></ListItem>\n            <ListItem divider><SoundVolume /></ListItem>\n            <ListItem divider><DialogVolume /></ListItem>\n            {allowAudio ? (\n              <ListItem className={classes.listItem} divider><Audio displayHelperText /></ListItem>\n            ) : (\n              <ListItem className={classes.listItem} divider>\n                <AllowAudio className={classes.alert} />\n              </ListItem>\n            )}\n          </List>\n        </Card>\n        <Card className={classes.section}>\n          <CardHeader title={t(`${NAME}.inGame.title`)} subheader={t(`${NAME}.inGame.subheader`)} />\n          <List disablePadding>\n            <ListItem className={classes.listItem} divider><Hints displayHelperText /></ListItem>\n            <ListItem className={classes.listItem} divider>\n              <TableTopMode displayHelperText />\n            </ListItem>\n            <ListItem className={classes.listItem}>\n              <Alert\n                className={classes.alert}\n                severity=\"warning\"\n                variant=\"outlined\"\n                action={(\n                  <Button color=\"inherit\" size=\"small\" onClick={handleResetHistory}>\n                    {t(`${NAME}.inGame.resetHistory.action`)}\n                  </Button>\n                )}\n              >\n                {t(`${NAME}.inGame.resetHistory.text`)}\n              </Alert>\n            </ListItem>\n          </List>\n        </Card>\n        <Button\n          className={classes.section}\n          component={Link}\n          to={`/${referrer}`}\n          variant=\"outlined\"\n          color=\"default\"\n          fullWidth\n        >\n          {t(`${NAME}.goBack`)}\n        </Button>\n      </Container>\n    </Fade>\n  );\n}\n\nSettings.propTypes = {\n  allowAudio: PropTypes.bool.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default connect((state) => ({ allowAudio: state.allowAudio }))(Settings);\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport Link from '@material-ui/core/Link';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n  section: {\n    marginBottom: theme.spacing(4),\n  },\n  sectionDivider: {\n    marginBottom: theme.spacing(2),\n  },\n  listItem: {\n    textDecoration: 'none',\n    color: theme.palette.text.primary,\n  },\n}));\n\nfunction Credits() {\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  return (\n    <div className=\"Credits\">\n      <Container maxWidth=\"sm\">\n\n        <section className={classes.section}>\n          <Typography variant=\"h4\" component=\"h3\" color=\"textPrimary\" align=\"center\" gutterBottom>\n            {t('Credits.authors')}\n          </Typography>\n          <Divider className={classes.sectionDivider} />\n          <List className={classes.root}>\n            <ListItem className={classes.listItem}>\n              <ListItemAvatar>\n                <Avatar\n                  alt={t('Credits.avatarAlt', { name: 'Nicolas' })}\n                  src=\"\"\n                />\n              </ListItemAvatar>\n              <ListItemText primary=\"Nicolas Rouvière\" />\n            </ListItem>\n          </List>\n        </section>\n\n        <section className={classes.section}>\n          <Typography variant=\"h4\" component=\"h3\" color=\"textPrimary\" align=\"center\" gutterBottom>\n            {t('Credits.development')}\n          </Typography>\n          <Divider className={classes.sectionDivider} />\n          <List className={classes.root}>\n            <ListItem className={classes.listItem}>\n              <ListItemAvatar>\n                <Avatar\n                  alt={t('Credits.avatarAlt', { name: 'Nicolas' })}\n                  src=\"\"\n                />\n              </ListItemAvatar>\n              <ListItemText primary=\"Nicolas Rouvière\" />\n            </ListItem>\n          </List>\n        </section>\n\n        <section className={classes.section}>\n          <Typography variant=\"h4\" component=\"h3\" color=\"textPrimary\" align=\"center\" gutterBottom>\n            {t('Credits.scenario')}\n          </Typography>\n          <Divider className={classes.sectionDivider} />\n          <List className={classes.root}>\n            <ListItem className={classes.listItem}>\n              <ListItemAvatar>\n                <Avatar\n                  alt={t('Credits.avatarAlt', { name: 'Nicolas' })}\n                  src=\"\"\n                />\n              </ListItemAvatar>\n              <ListItemText primary=\"Nicolas Rouvière\" />\n            </ListItem>\n          </List>\n        </section>\n\n        <section className={classes.section}>\n          <Typography variant=\"h4\" component=\"h3\" color=\"textPrimary\" align=\"center\" gutterBottom>\n            {t('Credits.graphics')}\n          </Typography>\n          <Divider className={classes.sectionDivider} />\n          <List className={classes.root}>\n            <ListItem className={classes.listItem}>\n              <ListItemAvatar>\n                <Avatar\n                  alt={t('Credits.avatarAlt', { name: 'Nobody' })}\n                  src=\"\"\n                />\n              </ListItemAvatar>\n              <ListItemText primary=\"Nobody\" />\n            </ListItem>\n          </List>\n        </section>\n\n        <section className={classes.section}>\n          <Typography variant=\"h4\" component=\"h3\" color=\"textPrimary\" align=\"center\" gutterBottom>\n            {t('Credits.audio')}\n          </Typography>\n          <Divider className={classes.sectionDivider} />\n          <List className={classes.root}>\n            <ListItem\n              className={classes.listItem}\n              button\n              component={Link}\n              href=\"https://www.newgrounds.com/audio/listen/737321\"\n            >\n              <ListItemAvatar>\n                <Avatar\n                  alt={t('Credits.avatarAlt', { name: 'Nukkie' })}\n                  src=\"https://uimg.ngfiles.com/icons/6189/6189823_large.jpg?f1502550588\"\n                />\n              </ListItemAvatar>\n              <ListItemText primary=\"Nukkie - United\" />\n            </ListItem>\n          </List>\n        </section>\n\n        <section className={classes.section}>\n          <Typography variant=\"h4\" component=\"h3\" color=\"textPrimary\" align=\"center\" gutterBottom>\n            {t('Credits.voices')}\n          </Typography>\n          <Divider className={classes.sectionDivider} />\n          <List className={classes.root}>\n            <ListItem className={classes.listItem}>\n              <ListItemAvatar>\n                <Avatar\n                  alt={t('Credits.avatarAlt', { name: 'Nobody' })}\n                  src=\"\"\n                />\n              </ListItemAvatar>\n              <ListItemText primary=\"Nobody\" />\n            </ListItem>\n          </List>\n        </section>\n\n        <section className={classes.section}>\n          <Typography variant=\"h4\" component=\"h3\" color=\"textPrimary\" align=\"center\" gutterBottom>\n            {t('Credits.testers')}\n          </Typography>\n          <Divider className={classes.sectionDivider} />\n          <List className={classes.root}>\n            <ListItem className={classes.listItem}>\n              <ListItemAvatar>\n                <Avatar\n                  alt={t('Credits.avatarAlt', { name: 'Nobody' })}\n                  src=\"\"\n                />\n              </ListItemAvatar>\n              <ListItemText primary=\"Nobody\" />\n            </ListItem>\n          </List>\n        </section>\n\n      </Container>\n    </div>\n  );\n}\n\nexport default Credits;\n","import React, { useCallback, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport last from 'lodash/last';\n\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Fade from '@material-ui/core/Fade';\nimport Container from '@material-ui/core/Container';\nimport Card from '@material-ui/core/Card';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Box from '@material-ui/core/Box';\n\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport RecentActorsIcon from '@material-ui/icons/RecentActors';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\nimport VolumeUpIcon from '@material-ui/icons/VolumeUp';\nimport VolumeOffIcon from '@material-ui/icons/VolumeOff';\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\nimport CodeIcon from '@material-ui/icons/Code';\n\nimport { updateSettings } from 'store/settings';\n\nimport ProjectName from 'components/ProjectName';\nimport Language from 'components/Settings/Inputs/Language';\nimport AllowAudio from '../AllowAudio';\n\nexport const NAME = 'TitleScreen';\n\nconst WEB = true; // Change if your are using this in an application (use env)\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    width: '100%',\n    minHeight: `calc(100vh - ${theme.spacing(4) * 2}px)`,\n  },\n  card: {\n    marginTop: theme.spacing(3),\n  },\n  action: {\n    marginTop: theme.spacing(1),\n    marginLeft: theme.spacing(1),\n  },\n  language: {\n    marginTop: theme.spacing(2),\n    maxWidth: '160px',\n    overflow: 'hidden',\n    [theme.breakpoints.up('sm')]: {\n      maxWidth: '320px',\n    },\n  },\n  playIcon: {\n    backgroundColor: theme.palette.primary.main,\n  },\n  flexGrow: {\n    flexGrow: 1,\n  },\n  allowAudio: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nfunction TitleScreen({ allowAudio, currentLocation, dispatch, settings }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up('sm'));\n\n  const { t } = useTranslation('UI');\n\n  const newGame = useMemo(() => currentLocation === 0, [currentLocation]);\n\n  const muteIcon = useMemo(() => (\n    settings.audio ? <VolumeUpIcon /> : <VolumeOffIcon />\n  ), [settings.audio]);\n\n  const darkModeIcon = useMemo(() => (\n    settings.darkMode ? <Brightness4Icon /> : <Brightness7Icon />),\n  [settings.darkMode]);\n\n  const playLinkText = useMemo(() => (\n    newGame ? t(`${NAME}.play`) : t(`${NAME}.keepPlaying`)\n  ), [newGame, t]);\n\n  const handleUpdateSettings = useCallback((setting, oldValue) => () => {\n    dispatch(updateSettings({ [setting]: !oldValue }));\n  }, [dispatch]);\n\n  return (\n    <Fade in className={classes.root}>\n      <div className=\"TitleScreen\">\n        <Container maxWidth=\"sm\">\n          <ProjectName\n            component=\"h1\"\n            variant=\"h3\"\n            color=\"textPrimary\"\n            align=\"center\"\n          />\n          <Typography\n            variant=\"h6\"\n            color=\"textSecondary\"\n            align=\"center\"\n          >\n            {t(`${NAME}.subheader`)}\n          </Typography>\n          <AllowAudio className={classes.allowAudio} />\n          <Card className={classes.card}>\n            <List component=\"nav\">\n              <ListItem button component={Link} to=\"/play\">\n                <ListItemAvatar>\n                  <Avatar className={classes.playIcon}>\n                    <PlayArrowIcon />\n                  </Avatar>\n                </ListItemAvatar>\n                <ListItemText primary={playLinkText} />\n              </ListItem>\n              <ListItem button component={Link} to=\"/settings\">\n                <ListItemAvatar>\n                  <Avatar>\n                    <SettingsIcon />\n                  </Avatar>\n                </ListItemAvatar>\n                <ListItemText primary={t(`${NAME}.settings`)} />\n              </ListItem>\n              <ListItem button component={Link} to=\"/credits\">\n                <ListItemAvatar>\n                  <Avatar>\n                    <RecentActorsIcon />\n                  </Avatar>\n                </ListItemAvatar>\n                <ListItemText primary={t(`${NAME}.credits`)} />\n              </ListItem>\n              {!WEB && (\n                <ListItem button>\n                  <ListItemAvatar>\n                    <Avatar>\n                      <PowerSettingsNewIcon />\n                    </Avatar>\n                  </ListItemAvatar>\n                  <ListItemText primary={t(`${NAME}.quit`)} />\n                </ListItem>\n              )}\n            </List>\n          </Card>\n          <Box display=\"flex\">\n            <Language className={classes.language} size=\"small\" variant=\"outlined\" color=\"default\" />\n            <span className={classes.flexGrow} />\n            {matches && (\n              <IconButton\n                className={classes.action}\n                component=\"a\"\n                href=\"https://github.com/WaSa42/land-of-nightmares\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                aria-label={t(`${NAME}.sources`)}\n              >\n                <CodeIcon />\n              </IconButton>\n            )}\n            <IconButton\n              className={classes.action}\n              aria-label={t(`${NAME}.darkMode`)}\n              onClick={handleUpdateSettings('darkMode', settings.darkMode)}\n              onKeyPress={handleUpdateSettings('darkMode', settings.darkMode)}\n            >\n              {darkModeIcon}\n            </IconButton>\n            {allowAudio && (\n              <IconButton\n                className={classes.action}\n                aria-label={t(`${NAME}.mute`)}\n                onClick={handleUpdateSettings('audio', settings.audio)}\n                onKeyPress={handleUpdateSettings('audio', settings.audio)}\n              >\n                {muteIcon}\n              </IconButton>\n            )}\n          </Box>\n        </Container>\n      </div>\n    </Fade>\n  );\n}\n\nTitleScreen.propTypes = {\n  allowAudio: PropTypes.bool.isRequired,\n  currentLocation: PropTypes.number.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  settings: PropTypes.shape({\n    audio: PropTypes.bool.isRequired,\n    darkMode: PropTypes.bool.isRequired,\n  }).isRequired,\n};\n\nexport default connect((state) => ({\n  allowAudio: state.allowAudio,\n  settings: state.settings,\n  currentLocation: last(state.history).to,\n}))(TitleScreen);\n","import { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nexport default function ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport { useTranslation } from 'react-i18next';\nimport { useSnackbar } from 'notistack';\nimport usePizzicato from 'hooks/usePizzicato';\nimport usePizzicatoPlay from 'hooks/usePizzicatoPlay';\nimport useVolume from 'hooks/useVolume';\n\nimport Play from 'components/Play';\nimport Settings from 'components/Settings';\nimport Credits from 'components/Credits';\nimport TitleScreen from 'components/TitleScreen';\nimport ScrollToTop from 'components/ScrollToTop';\n\nimport musicPath from './United-Nukkie.mp3';\n\nconst musicInfo = {\n  author: 'Nukie',\n  title: 'United',\n};\n\nfunction App({ settings, allowAudio }) {\n  const [mainMusic, isMainMusicLoaded] = usePizzicato({\n    loop: true,\n    path: musicPath,\n    attack: 0.9,\n    release: 0.9,\n  });\n  useVolume(mainMusic, { audio: settings.audio, volume: settings.musicVolume });\n  const [isPlaying] = usePizzicatoPlay(mainMusic, allowAudio, isMainMusicLoaded, true);\n\n  const { t } = useTranslation('UI');\n  const { enqueueSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    if (isPlaying) {\n      enqueueSnackbar(t(`App.nowPlaying`, { name: t(`App.mainMusic`, musicInfo) }), { variant: 'info' });\n    }\n  }, [enqueueSnackbar, isPlaying, mainMusic, t]);\n\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/play\">\n          <Play mainMusic={mainMusic} />\n        </Route>\n        <Route path=\"/settings\">\n          <ScrollToTop />\n          <Settings />\n        </Route>\n        <Route path=\"/credits\">\n          <Credits />\n        </Route>\n        <Route path=\"/\">\n          <ScrollToTop />\n          <TitleScreen />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nApp.propTypes = {\n  allowAudio: PropTypes.bool.isRequired,\n  settings: PropTypes.shape({\n    audio: PropTypes.bool.isRequired,\n    darkMode: PropTypes.bool.isRequired,\n    musicVolume: PropTypes.number.isRequired,\n  }).isRequired,\n};\n\nexport default connect((state) => ({\n  allowAudio: state.allowAudio,\n  settings: state.settings,\n}))(App);\n","import deepPurple from '@material-ui/core/colors/deepPurple';\nimport red from '@material-ui/core/colors/red';\nimport orange from '@material-ui/core/colors/orange';\nimport teal from '@material-ui/core/colors/teal';\nimport cyan from '@material-ui/core/colors/cyan';\nimport deepOrange from '@material-ui/core/colors/deepOrange';\nimport lightGreen from '@material-ui/core/colors/lightGreen';\n\nconst light = {\n  palette: {\n    type: 'light',\n    primary: deepPurple,\n    secondary: teal,\n    success: lightGreen,\n    error: red,\n    warning: orange,\n  },\n};\n\nconst dark = {\n  palette: {\n    type: 'dark',\n    primary: { main: deepPurple[200] },\n    secondary: teal,\n    success: { main: lightGreen[200] },\n    info: { main: cyan[200] },\n    error: { main: red[200] },\n    warning: { main: deepOrange[200] },\n  },\n};\n\nexport default { light, dark };\n","import React, { useMemo } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport isEmpty from 'lodash/isEmpty';\n\nimport { SnackbarProvider } from 'notistack';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { createMuiTheme, makeStyles, ThemeProvider } from '@material-ui/core/styles';\n\nimport themeOptions from './theme';\n\nconst useStyles = makeStyles({\n  '@global': {\n    body: {\n      margin: 0,\n    },\n  },\n  root: ({ theme, backgroundImage }) => ({\n    padding: theme.spacing(4, 0),\n    width: '100%',\n    minHeight: `calc(100vh - ${theme.spacing(4) * 2}px)`,\n    background: !isEmpty(backgroundImage) ? `url(\"${backgroundImage}\")` : theme.palette.background.default,\n    backgroundSize: 'cover',\n    backgroundAttachment: 'fixed',\n    backgroundPosition: 'center',\n  }),\n});\n\nconst useSnackBarStyles = makeStyles({\n  variantInfo: ({ theme }) => ({\n    backgroundColor: theme.palette.info.main,\n  }),\n  variantSuccess: ({ theme }) => ({\n    backgroundColor: theme.palette.success.main,\n  }),\n  variantError: ({ theme }) => ({\n    backgroundColor: theme.palette.error.main,\n  }),\n  variantWarning: ({ theme }) => ({\n    backgroundColor: theme.palette.warning.main,\n  }),\n});\n\nfunction Layout({ backgroundImage, children, dark }) {\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n\n  const mode = useMemo(() => {\n    let darkMode = prefersDarkMode;\n    if (dark !== null) { darkMode = dark; }\n\n    return darkMode ? 'dark' : 'light';\n  }, [dark, prefersDarkMode]);\n\n  const theme = useMemo(() => createMuiTheme(themeOptions[mode]), [mode]);\n  const classes = useStyles({ theme, backgroundImage });\n  const snackBarClasses = useSnackBarStyles({ theme });\n\n  return (\n    <ThemeProvider theme={theme}>\n      <SnackbarProvider\n        maxSnack={6}\n        anchorOrigin={{ horizontal: 'right', vertical: 'top' }}\n        classes={snackBarClasses}\n      >\n        <div className={classes.root}>\n          {children}\n        </div>\n      </SnackbarProvider>\n    </ThemeProvider>\n  );\n}\n\nLayout.propTypes = {\n  /**\n   * A node of your content.\n   */\n  backgroundImage: PropTypes.node,\n  /**\n   * A node of your content.\n   */\n  children: PropTypes.node.isRequired,\n  /**\n   * If set to true or false, the mod will be forced to dark/light.\n   * If undefined, the mod will be set by default\n   * according to the browser query setting: `prefers-color-scheme`\n   */\n  dark: PropTypes.bool,\n};\n\nLayout.defaultProps = {\n  backgroundImage: '',\n  dark: null,\n};\n\nexport default connect((state) => ({\n  ...state.layout,\n  dark: state.settings.darkMode,\n}))(Layout);\n","import createReducer from '../createReducer';\n\n// ACTIONS\nexport const UPDATE_LAYOUT = 'UPDATE_LAYOUT';\nexport const updateLayout = (layout) => ({ type: UPDATE_LAYOUT, layout });\n\n// REDUCER\nexport default createReducer({ backgroundImage: '' }, {\n  [UPDATE_LAYOUT]: (state, { layout }) => ({ ...state, ...layout }),\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { applyMiddleware, compose, createStore, combineReducers } from 'redux';\nimport { Provider } from 'react-redux';\n\nimport { persistStore, persistReducer } from 'redux-persist';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport storage from 'redux-persist/lib/storage';\n\nimport logger from 'redux-logger';\nimport thunk from 'redux-thunk';\n\nimport history from '@react-story-rich/core/reducers/history';\n\nimport allowAudio from 'store/allowAudio';\nimport layout from 'store/layout';\nimport settings from 'store/settings';\n\nconst middleWares = [thunk];\nif (process.env.NODE_ENV === 'development') { middleWares.push(logger); }\n\nconst reducers = combineReducers({\n  allowAudio,\n  history,\n  layout,\n  settings,\n});\nconst persistedReducers = persistReducer({\n  key: 'root',\n  storage,\n  blacklist: ['allowAudio', 'layout'], // layout will not be persisted\n}, reducers);\n\nexport const store = createStore(persistedReducers, compose(applyMiddleware(...middleWares)));\nexport const persistor = persistStore(store);\n\nconst Store = ({ children }) => (\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      {children}\n    </PersistGate>\n  </Provider>\n);\n\nStore.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Store;\n","import translation_en from './en/translation'\nimport UI_en from './en/UI'\n\nimport translation_fr from './fr/translation'\nimport UI_fr from './fr/UI'\n\nexport default {\n  en: {\n    translation: translation_en,\n    UI: UI_en,\n  },\n  fr: {\n    translation: translation_fr,\n    UI: UI_fr,\n  },\n}\n","import React, { Suspense } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport * as serviceWorker from 'serviceWorker';\n\nimport i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport App from 'App';\nimport Layout from 'components/Layout';\nimport Store from 'store';\n\nimport 'index.css';\n\nimport resources from 'locales/resources';\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources,\n\n    debug: process.env.NODE_ENV !== 'production',\n    defaultNS: 'UI',\n    whitelist: ['fr', 'en'],\n    fallbackLng: 'en',\n\n    interpolation: {\n      escapeValue: false, // not needed for react!!\n    },\n\n    // react i18next special options (optional)\n    // override if needed - omit if ok with defaults\n    react: {\n      // bindI18n: 'languageChanged',\n      // bindI18nStore: '',\n      // transEmptyNodeValue: '',\n      // transSupportBasicHtmlNodes: true,\n      // transKeepBasicHtmlNodesFor: ['br', 'strong', 'i'],\n      // useSuspense: true,\n    },\n  });\n\n\nReactDOM.render(\n  <Suspense fallback={<Backdrop open><CircularProgress color=\"inherit\" /></Backdrop>}>\n    <Store>\n      <Layout>\n        <App />\n      </Layout>\n    </Store>\n  </Suspense>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}