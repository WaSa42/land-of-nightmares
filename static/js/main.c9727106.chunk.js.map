{"version":3,"sources":["app.mp3","serviceWorker.js","hooks/usePizzicato/index.js","hooks/usePizzicatoAutoPlay/index.js","hooks/useVolume/index.js","components/Element/Default/index.js","components/ProjectName/index.js","store/createReducer.js","store/settings/index.js","components/Settings/Inputs/Audio/index.js","components/Settings/Inputs/DarkMode/index.js","components/Settings/Inputs/Hints/index.js","components/Settings/Inputs/TableTopMode/index.js","components/Drawer/index.js","components/Navigation/index.js","components/ScrollToBottom/index.js","components/Element/Button/index.js","tree/index.js","tree/Intro/index.js","components/Play/index.js","store/allowAudio/index.js","components/AllowAudio/index.js","components/Settings/Inputs/Language/index.js","components/Settings/MusicVolume/index.js","components/Settings/Inputs/SoundVolume/index.js","components/Settings/DialogVolume/index.js","components/Settings/index.js","components/Credits/index.js","components/TitleScreen/index.js","components/ScrollToTop/index.js","App.js","components/Layout/theme.js","components/Layout/index.js","store/layout/index.js","store/index.js","locales/resources.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","initialState","isLoaded","isPlaying","isPaused","isStopped","usePizzicato","options","onLoaded","source","useState","state","setState","Pizzicato","Sound","prevState","isFunction","sound","useEffect","stop","on","usePizzicatoAutoPlay","allowAudio","pizzicato","play","useVolume","audio","volume","useStyles","makeStyles","theme","root","marginBottom","spacing","cardContent","padding","cardActions","flexWrap","justifyContent","hint","marginTop","DefaultElement","forwardRef","props","ref","classes","actions","children","className","injected","media","onEnable","onTap","onTimeout","readOnly","settings","text","typographyProps","timeout","passThroughProps","elementRef","useRef","useTap","handleTap","handleKeyPress","useActions","hasActions","Actions","hasProgress","useProgress","useImperativeHandle","focus","current","useEnabled","useFocus","useTimeout","disabled","useMemo","enabled","Card","clsx","CardActionArea","onClick","onKeyPress","CardMedia","CardContent","Typography","align","hints","isEmpty","Alert","variant","severity","CardActions","disableSpacing","defaultProps","undefined","noop","connect","fontFamily","ProjectName","t","useTranslation","createReducer","handlers","action","hasOwnProperty","type","updateSettings","darkMode","tableTopMode","dialogVolume","musicVolume","soundVolume","NAME","switch","marginRight","Audio","dispatch","displayHelperText","name","value","handleChange","useCallback","e","target","checked","FormGroup","FormControlLabel","control","Switch","onChange","label","FormHelperText","DarkMode","Hints","TableTopMode","toolbar","display","alignItems","mixins","list","width","iconButton","marginLeft","Drawer","open","toggle","rest","SwipeableDrawer","onClose","onOpen","role","IconButton","Divider","List","ListItem","button","component","Link","to","ListItemIcon","ListItemText","primary","opacity","Navigation","icons","onMenuClick","paths","rootPath","useTheme","matches","useMediaQuery","breakpoints","up","useLocation","getLabel","key","findIndex","path","matchPath","pathname","BottomNavigation","showLabels","map","Icon","BottomNavigationAction","icon","characters","PeopleIcon","inventory","InboxIcon","journal","BookIcon","position","zIndex","top","history","targetRef","scroll","useScrollTrigger","disableHysteresis","scrollDown","scrollUp","scrollToBottom","behavior","scrollTo","offsetTop","offsetHeight","Slide","appear","direction","in","Box","Container","maxWidth","Fab","color","aria-label","fontSpacings","inherit","small","medium","large","xl","fontSize","ButtonElement","Button","useFont","fullWidth","goForward","body","backgroundColor","palette","background","default","appBar","bottom","navigation","mapStateToProps","drawerState","setDrawerState","toggleDrawer","event","Tree","tree","maxSnack","Story","nodeComponent","AppBar","elevation","isAllowed","handleAllowAudio","size","Language","i18n","anchorEl","setAnchorEl","handleClose","language","changeLanguage","aria-controls","aria-haspopup","currentTarget","startIcon","endIcon","anchorOrigin","vertical","horizontal","transformOrigin","MenuItem","input","MusicVolume","handleSliderChange","handleInputChange","Number","FormControl","id","gutterBottom","Grid","container","item","xs","Slider","aria-labelledby","OutlinedInput","margin","onBlur","labelWidth","inputProps","step","min","max","SoundVolume","DialogVolume","section","listItem","paddingBottom","alert","enqueueSnackbar","useSnackbar","referrer","URLSearchParams","search","get","handleResetHistory","resetHistory","preventDuplicate","Fade","CardHeader","title","subheader","disablePadding","divider","Credits","WEB","flexDirection","minHeight","card","overflow","playIcon","main","flexGrow","currentLocation","last","newGame","muteIcon","darkModeIcon","playLinkText","handleUpdateSettings","setting","oldValue","ListItemAvatar","Avatar","href","rel","ScrollToTop","musicName","loop","musicPath","pizzicatoState","music","light","deepPurple","secondary","teal","dark","backgroundImage","backgroundSize","backgroundAttachment","backgroundPosition","Layout","prefersDarkMode","mode","createMuiTheme","themeOptions","ThemeProvider","layout","middleWares","thunk","reducers","combineReducers","persistedReducers","persistReducer","storage","blacklist","store","createStore","compose","applyMiddleware","persistor","persistStore","Store","loading","en","translation","UI","fr","use","LanguageDetector","initReactI18next","init","resources","debug","process","defaultNS","whitelist","fallbackLng","interpolation","escapeValue","react","ReactDOM","render","fallback","Backdrop","CircularProgress","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.c9727106.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/app.77594075.mp3\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { useEffect, useState } from 'react';\nimport isFunction from 'lodash/isFunction';\nimport Pizzicato from 'pizzicato';\n\nconst initialState = {\n  isLoaded: false,\n  isPlaying: false,\n  isPaused: false,\n  isStopped: false,\n};\n\nconst usePizzicato = (options, onLoaded, source = 'file') => {\n  const [state, setState] = useState(initialState);\n  const [sound] = useState(() => (\n    new Pizzicato.Sound({ source, options }, () => {\n      setState((prevState) => ({ ...prevState, isLoaded: true }));\n      if (isFunction(onLoaded)) { onLoaded(sound); }\n    })\n  ));\n\n  useEffect(() => () => sound.stop(), [sound]);\n\n  sound.on('play', () => setState((prevState) => ({\n    ...prevState,\n    isPlaying: true,\n    isPaused: false,\n    isStopped: false,\n  })));\n\n  sound.on('pause', () => setState((prevState) => ({\n    ...prevState,\n    isPlaying: false,\n    isPaused: true,\n    isStopped: false,\n  })));\n\n  sound.on('stop', () => setState((prevState) => ({\n    ...prevState,\n    isPlaying: false,\n    isPaused: false,\n    isStopped: true,\n  })));\n\n  return [sound, state];\n};\n\nexport default usePizzicato;\n","import { useEffect } from 'react';\n\nconst usePizzicatoAutoPlay = (allowAudio, pizzicato, { isLoaded, isPlaying }) => useEffect(() => {\n  if (allowAudio && isLoaded && !isPlaying) {\n    pizzicato.play();\n  }\n}, [allowAudio, isLoaded, isPlaying, pizzicato]);\n\nexport default usePizzicatoAutoPlay;\n","import { useEffect } from 'react';\n\nconst useVolume = (sound, { audio, volume }) => useEffect(() => {\n  // Pizzicato works with mutations\n  // eslint-disable-next-line no-param-reassign\n  sound.volume = !audio ? 0 : volume / 100;\n}, [sound, audio, volume]);\n\nexport default useVolume;\n","import React, { forwardRef, useImperativeHandle, useMemo, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport clsx from 'clsx';\nimport noop from 'lodash/noop';\nimport isEmpty from 'lodash/isEmpty';\n\nimport useEnabled from '@react-story-rich/core/hooks/useEnabled';\nimport useFocus from '@react-story-rich/core/hooks/useFocus';\nimport useTap from '@react-story-rich/core/hooks/useTap';\nimport useTimeout from '@react-story-rich/core/hooks/useTimeout';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Alert from '@material-ui/lab/Alert';\n\nimport useActions from '@react-story-rich/ui/hooks/useActions';\nimport useProgress from '@react-story-rich/ui/hooks/useProgress';\n\nimport Progress from '@react-story-rich/ui/components/Progress';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginBottom: theme.spacing(2),\n  },\n  cardContent: {\n    '&:last-child': {\n      padding: theme.spacing(2),\n    },\n  },\n  cardActions: {\n    flexWrap: 'wrap',\n    justifyContent: 'space-evenly',\n  },\n  hint: {\n    marginTop: theme.spacing(1),\n  },\n}));\n\nconst DefaultElement = forwardRef((props, ref) => {\n  const classes = useStyles();\n\n  const {\n    actions,\n    children,\n    className,\n    hint,\n    injected,\n    media,\n    onEnable,\n    onTap,\n    onTimeout,\n    readOnly,\n    settings,\n    text,\n    typographyProps,\n    timeout,\n    ...passThroughProps\n  } = props;\n\n  const elementRef = useRef(null);\n  const [handleTap, handleKeyPress] = useTap(onTap, readOnly, injected);\n  const [hasActions, Actions] = useActions(actions, injected);\n  const hasProgress = useProgress(onTimeout, timeout, injected, hasActions);\n\n  useImperativeHandle(ref, () => ({ focus: elementRef.current.focus }));\n\n  useEnabled(onEnable, injected);\n  useFocus(elementRef, injected);\n  useTimeout(onTimeout, timeout, injected);\n\n  const disabled = useMemo(() => (\n    !injected.enabled\n    || readOnly\n    || hasActions\n  ), [hasActions, injected.enabled, readOnly]);\n\n  return (\n    <Card className={clsx(classes.root, className)} {...passThroughProps}>\n      <CardActionArea\n        disabled={disabled}\n        onClick={handleTap}\n        onKeyPress={handleKeyPress}\n        readOnly={readOnly}\n        ref={elementRef}\n      >\n        {media && <CardMedia {...media} />}\n        <CardContent className={classes.cardContent}>\n          {text ? <Typography align=\"center\" {...typographyProps}>{children}</Typography> : children}\n          {(settings.hints && !isEmpty(hint)) ? (\n            <Alert variant=\"outlined\" severity=\"info\" className={classes.hint}>{hint}</Alert>\n          ) : null}\n        </CardContent>\n      </CardActionArea>\n      {hasActions && (\n        <CardActions\n          className={classes.cardActions}\n          disableSpacing\n        >\n          {Actions}\n        </CardActions>\n      )}\n      {hasProgress && (\n        <Progress\n          timeout={timeout}\n          onTimeout={onTimeout}\n          enabled={injected.enabled}\n        />\n      )}\n    </Card>\n  );\n});\n\nDefaultElement.propTypes = {\n  /**\n   * Array of Material UI Button props object\n   * @see {@link https://material-ui.com/api/button/#button-api | MUI Button API}\n   */\n  actions: PropTypes.arrayOf(PropTypes.object),\n  /**\n   * Your own content displayed in a CardContent component\n   * @see {@link https://material-ui.com/components/cards/#card | MUI Card demo}\n   */\n  children: PropTypes.node.isRequired,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * A helper text\n   */\n  hint: PropTypes.string,\n  /**\n   * A set of props injected by the Story renderer\n   */\n  injected: PropTypes.shape({\n    /**\n     * If set to false, component will not be focused when being enabled.\n     */\n    autoFocus: PropTypes.bool.isRequired,\n    /**\n     * A Flag for indicating if the Element is currently active\n     */\n    enabled: PropTypes.bool.isRequired,\n    /**\n     * The location of the Element in the story tree\n     */\n    key: PropTypes.number.isRequired,\n    /**\n     * A set of navigation methods\n     * @see Navigation Class description\n     */\n    nav: PropTypes.object.isRequired,\n  }),\n  /**\n   * Object of Material UI CardMedia props\n   * @see {@link https://material-ui.com/api/card-media/#cardmedia-api | MUI CardMedia API}\n   */\n  media: PropTypes.object,\n  /**\n   * Callback triggered when Element is enabled by the Story.\n   */\n  onEnable: PropTypes.func,\n  /**\n   * Callback triggered when Element is enabled and is clicked or key pressed.\n   */\n  onTap: PropTypes.func,\n  /**\n   * Callback triggered when Element is enabled and the timeout delay is reached.\n   */\n  onTimeout: PropTypes.func,\n  /**\n   * If set to true, the enabled Element cannot be \"tapped\" but *onTimeout* can still be called.\n   * Useful if you want to wait for an audio to finish before making tapping possible.\n   *\n   * Note that a component with a noop onTap is considered as readOnly: true\n   */\n  readOnly: PropTypes.bool,\n  /**\n   * @ignore\n   */\n  settings: PropTypes.shape({\n    audio: PropTypes.bool.isRequired,\n    darkMode: PropTypes.bool.isRequired,\n    dialogVolume: PropTypes.number.isRequired,\n    hints: PropTypes.bool.isRequired,\n    musicVolume: PropTypes.number.isRequired,\n    soundVolume: PropTypes.number.isRequired,\n    tableTopMode: PropTypes.bool.isRequired,\n  }).isRequired,\n  /**\n   * If true, will render children directly in a Material UI Typography component\n   */\n  text: PropTypes.bool,\n  /**\n   * The delay *onTimeout* will be waiting before being triggered.\n   */\n  timeout: PropTypes.number,\n  /**\n   * Object of Material UI Typography props\n   * @see {@link https://material-ui.com/api/typography/#typography-api | MUI Typography API}\n   */\n  typographyProps: PropTypes.object,\n};\n\nDefaultElement.defaultProps = {\n  actions: [],\n  className: '',\n  hint: '',\n  injected: undefined,\n  media: null,\n  onEnable: noop,\n  onTap: null,\n  onTimeout: noop,\n  readOnly: false,\n  text: false,\n  timeout: 0,\n  typographyProps: {},\n};\n\nexport default connect((state) => ({ settings: state.settings }), {})(DefaultElement);\n","import React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    fontFamily: 'ReBucked',\n  },\n}));\n\nconst NAME = 'ProjectName';\n\nconst ProjectName = ({ className, ...typographyProps }) => {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  return (\n    <Typography\n      className={clsx(classes.root, className)}\n      {...typographyProps}\n    >\n      {t(NAME)}\n    </Typography>\n  );\n};\n\nProjectName.propTypes = {\n  className: PropTypes.string,\n};\n\nProjectName.defaultProps = {\n  className: '',\n};\n\nexport default ProjectName;\n","export default function createReducer(initialState, handlers) {\n  return function reducer(state = initialState, action) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (handlers.hasOwnProperty(action.type)) {\n      return handlers[action.type](state, action);\n    }\n    return state;\n  };\n}\n","import createReducer from '../createReducer';\n\n// ACTIONS\nexport const UPDATE_SETTINGS = 'UPDATE_SETTINGS';\nexport const updateSettings = (settings) => ({ type: UPDATE_SETTINGS, settings });\n\n// REDUCER\nexport default createReducer({\n  audio: false,\n  darkMode: true,\n  hints: true,\n  tableTopMode: false,\n  dialogVolume: 75,\n  musicVolume: 30,\n  soundVolume: 50,\n}, {\n  [UPDATE_SETTINGS]: (state, { settings }) => ({ ...state, ...settings }),\n});\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\n\nimport { updateSettings } from 'store/settings';\n\nconst NAME = 'Settings.Inputs.Audio';\n\nconst useStyles = makeStyles({\n  switch: {\n    marginRight: 10,\n  },\n});\n\nfunction Audio({ dispatch, displayHelperText, name, value }) {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  const handleChange = useCallback((e) => {\n    dispatch(updateSettings({ audio: e.target.checked }));\n  }, [dispatch]);\n\n  return (\n    <FormGroup>\n      <FormControlLabel\n        control={(\n          <Switch\n            name={name}\n            checked={value}\n            onChange={handleChange}\n            className={classes.switch}\n          />\n        )}\n        label={t(`${NAME}.label`)}\n      />\n      {displayHelperText && <FormHelperText>{t(`${NAME}.helperText`)}</FormHelperText>}\n    </FormGroup>\n  );\n}\n\nAudio.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  displayHelperText: PropTypes.bool,\n  name: PropTypes.string,\n  value: PropTypes.bool.isRequired,\n};\n\nAudio.defaultProps = {\n  displayHelperText: false,\n  name: 'audio',\n};\n\nexport default connect((state) => ({ value: state.settings.audio }))(Audio);\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\n\nimport { updateSettings } from 'store/settings';\n\nconst NAME = 'Settings.Inputs.DarkMode';\n\nconst useStyles = makeStyles({\n  switch: {\n    marginRight: 10,\n  },\n});\n\nfunction DarkMode({ dispatch, displayHelperText, name, value }) {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  const handleChange = useCallback((e) => {\n    dispatch(updateSettings({ darkMode: e.target.checked }));\n  }, [dispatch]);\n\n  return (\n    <FormGroup>\n      <FormControlLabel\n        control={(\n          <Switch\n            name={name}\n            checked={value}\n            onChange={handleChange}\n            className={classes.switch}\n          />\n        )}\n        label={t(`${NAME}.label`)}\n      />\n      {displayHelperText && <FormHelperText>{t(`${NAME}.helperText`)}</FormHelperText>}\n    </FormGroup>\n  );\n}\n\nDarkMode.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  displayHelperText: PropTypes.bool,\n  name: PropTypes.string,\n  value: PropTypes.bool.isRequired,\n};\n\nDarkMode.defaultProps = {\n  displayHelperText: false,\n  name: 'darkMode',\n};\n\nexport default connect((state) => ({ value: state.settings.darkMode }))(DarkMode);\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\n\nimport { updateSettings } from 'store/settings';\n\nconst NAME = 'Settings.Inputs.Hints';\n\nconst useStyles = makeStyles({\n  switch: {\n    marginRight: 10,\n  },\n});\n\nfunction Hints({ dispatch, displayHelperText, name, value }) {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  const handleChange = useCallback((e) => {\n    dispatch(updateSettings({ hints: e.target.checked }));\n  }, [dispatch]);\n\n  return (\n    <FormGroup>\n      <FormControlLabel\n        control={(\n          <Switch\n            name={name}\n            checked={value}\n            onChange={handleChange}\n            className={classes.switch}\n          />\n        )}\n        label={t(`${NAME}.label`)}\n      />\n      {displayHelperText && <FormHelperText>{t(`${NAME}.helperText`)}</FormHelperText>}\n    </FormGroup>\n  );\n}\n\nHints.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  displayHelperText: PropTypes.bool,\n  name: PropTypes.string,\n  value: PropTypes.bool.isRequired,\n};\n\nHints.defaultProps = {\n  displayHelperText: false,\n  name: 'hints',\n};\n\nexport default connect((state) => ({ value: state.settings.hints }))(Hints);\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\n\nimport { updateSettings } from 'store/settings';\n\nconst NAME = 'Settings.Inputs.TableTopMode';\n\nconst useStyles = makeStyles({\n  switch: {\n    marginRight: 10,\n  },\n});\n\nfunction TableTopMode({ dispatch, displayHelperText, name, value }) {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  const handleChange = useCallback((e) => {\n    dispatch(updateSettings({ tableTopMode: e.target.checked }));\n  }, [dispatch]);\n\n  return (\n    <FormGroup>\n      <FormControlLabel\n        control={(\n          <Switch\n            name={name}\n            checked={value}\n            onChange={handleChange}\n            className={classes.switch}\n          />\n        )}\n        label={t(`${NAME}.label`)}\n      />\n      {displayHelperText && <FormHelperText>{t(`${NAME}.helperText`)}</FormHelperText>}\n    </FormGroup>\n  );\n}\n\nTableTopMode.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  displayHelperText: PropTypes.bool,\n  name: PropTypes.string,\n  value: PropTypes.bool.isRequired,\n};\n\nTableTopMode.defaultProps = {\n  displayHelperText: false,\n  name: 'tableTopMode',\n};\n\nexport default connect((state) => ({ value: state.settings.tableTopMode }))(TableTopMode);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport HomeIcon from '@material-ui/icons/Home';\nimport SettingsIcon from '@material-ui/icons/Settings';\n\nimport ProjectName from 'components/ProjectName';\nimport Audio from 'components/Settings/Inputs/Audio';\nimport DarkMode from 'components/Settings/Inputs/DarkMode';\nimport Hints from 'components/Settings/Inputs/Hints';\nimport TableTopMode from 'components/Settings/Inputs/TableTopMode';\n\nconst useStyles = makeStyles((theme) => ({\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar,\n  },\n  list: {\n    width: 'auto',\n  },\n  iconButton: {\n    marginLeft: theme.spacing(1),\n  },\n}));\n\nconst NAME = 'Drawer';\n\nfunction Drawer({ open, toggle, ...rest }) {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  return (\n    <SwipeableDrawer\n      open={open}\n      onClose={toggle(false)}\n      onOpen={toggle(true)}\n      {...rest}\n    >\n      <div className={classes.list} role=\"presentation\">\n        <div className={classes.toolbar}>\n          <ProjectName />\n          <IconButton onClick={toggle(false)} className={classes.iconButton}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <ListItem button component={Link} to=\"/\">\n            <ListItemIcon><HomeIcon /></ListItemIcon>\n            <ListItemText primary={t(`${NAME}.titleScreen`)} />\n          </ListItem>\n          <ListItem button component={Link} to=\"/settings?referrer=play\">\n            <ListItemIcon><SettingsIcon /></ListItemIcon>\n            <ListItemText primary={t(`${NAME}.settings`)} />\n          </ListItem>\n        </List>\n        <Divider />\n        <List>\n          <ListItem><Audio /></ListItem>\n          <ListItem><DarkMode /></ListItem>\n          <ListItem><Hints /></ListItem>\n          <ListItem><TableTopMode /></ListItem>\n        </List>\n      </div>\n    </SwipeableDrawer>\n  );\n}\n\nDrawer.propTypes = {\n  open: PropTypes.bool.isRequired,\n  toggle: PropTypes.func.isRequired,\n};\n\nexport default Drawer;\n","import React, { useCallback, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation, matchPath } from 'react-router-dom';\n\nimport clsx from 'clsx';\nimport findIndex from 'lodash/findIndex';\n\nimport { useTranslation } from 'react-i18next';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\n\nimport PeopleIcon from '@material-ui/icons/People';\nimport InboxIcon from '@material-ui/icons/Inbox';\nimport BookIcon from '@material-ui/icons/Book';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nconst NAME = 'Navigation';\n\nconst useStyles = makeStyles(() => ({\n  disabled: {\n    opacity: '0.2',\n  },\n}));\n\nfunction Navigation({ icons, onMenuClick, paths, rootPath, ...rest }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up('sm'));\n\n  const { t } = useTranslation('UI');\n\n  const location = useLocation();\n\n  const getLabel = useCallback((key) => t(`${NAME}.${key}`), [t]);\n\n  const value = useMemo(() => findIndex(paths, (path) => !!matchPath(location.pathname, {\n    path: `${rootPath}/${path}`,\n  })), [location.pathname, paths, rootPath]);\n\n  return (\n    <>\n      <BottomNavigation showLabels value={value} {...rest}>\n        {paths.map((path) => {\n          const label = getLabel(path);\n          const Icon = icons[path];\n          const disabled = path !== 'journal'; // For the demo\n\n          return (\n            <BottomNavigationAction\n              className={clsx({ [classes.disabled]: disabled })}\n              disabled={disabled}\n              component={Link}\n              key={`${NAME}.${path}`}\n              label={label}\n              icon={<Icon />}\n              to={`${rootPath}/${path}`}\n            />\n          );\n        })}\n        {(onMenuClick && matches) ? (\n          <BottomNavigationAction\n            label={t(`${NAME}.menu`)}\n            icon={<MenuIcon />}\n            onClick={onMenuClick}\n          />\n        ) : null}\n      </BottomNavigation>\n    </>\n  );\n}\n\nNavigation.propTypes = {\n  icons: PropTypes.objectOf(PropTypes.object),\n  onMenuClick: PropTypes.func,\n  paths: PropTypes.arrayOf(PropTypes.string),\n  rootPath: PropTypes.string,\n};\n\nNavigation.defaultProps = {\n  icons: { characters: PeopleIcon, inventory: InboxIcon, journal: BookIcon },\n  onMenuClick: null,\n  paths: ['characters', 'inventory', 'journal'],\n  rootPath: '/',\n};\n\nexport default Navigation;\n","import React, { useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\n\nimport Box from '@material-ui/core/Box';\nimport Container from '@material-ui/core/Container';\nimport Fab from '@material-ui/core/Fab';\nimport Slide from '@material-ui/core/Slide';\n\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\n\nconst NAME = 'ScrollToBottom';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'fixed',\n    width: '100vw',\n    zIndex: 1,\n    top: theme.spacing(2),\n  },\n}));\n\nfunction ScrollToBottom({ targetRef, history }) {\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  const scroll = useScrollTrigger({ disableHysteresis: true });\n  const scrollDown = useScrollTrigger();\n  const scrollUp = scroll && !scrollDown;\n\n  const scrollToBottom = useCallback((behavior) => {\n    window.scrollTo({\n      top: targetRef.current.offsetTop + targetRef.current.offsetHeight,\n      behavior,\n    });\n  }, [targetRef]);\n\n  useEffect(scrollToBottom, [history]);\n\n  return (\n    <Slide appear={false} direction=\"down\" in={scrollUp}>\n      <Box className={classes.root}>\n        <Container maxWidth=\"sm\">\n          <Box display=\"flex\" justifyContent=\"center\">\n            <Fab\n              color=\"secondary\"\n              aria-label={t(`${NAME}.goDown`)}\n              onClick={() => scrollToBottom('smooth')}\n            >\n              <KeyboardArrowDownIcon />\n            </Fab>\n          </Box>\n        </Container>\n      </Box>\n    </Slide>\n  );\n}\n\nScrollToBottom.propTypes = {\n  history: PropTypes.array.isRequired,\n  targetRef: PropTypes.PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) }),\n  ]).isRequired,\n};\n\nexport default connect((state) => ({ history: state.history }))(ScrollToBottom);\n","import React, { forwardRef, useImperativeHandle, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport clsx from 'clsx';\nimport isEmpty from 'lodash/isEmpty';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nimport useTap from '@react-story-rich/core/hooks/useTap';\nimport useFocus from '@react-story-rich/core/hooks/useFocus';\n\nconst fontSpacings = {\n  inherit: undefined,\n  small: 2,\n  medium: 3,\n  large: 4,\n  xl: 5,\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: ({ fontFamily, fontSize }) => ({\n    marginBottom: theme.spacing(2),\n    fontSize: theme.spacing(fontSpacings[fontSize]),\n    '&.useFont': { fontFamily },\n  }),\n}));\n\nconst ButtonElement = forwardRef(({\n  children,\n  className,\n  fontFamily,\n  fontSize,\n  onTap,\n  readOnly,\n  injected,\n  ...passThroughProps\n}, ref) => {\n  const classes = useStyles({ fontFamily, fontSize });\n\n  const elementRef = useRef(null);\n  const [handleTap, handleKeyPress] = useTap(onTap, readOnly, injected);\n\n  useImperativeHandle(ref, () => ({ focus: elementRef.current.focus }));\n\n  useFocus(elementRef, injected);\n\n  return (\n    <Button\n      className={clsx(classes.root, className, { useFont: !isEmpty(fontFamily) })}\n      fullWidth\n      onClick={handleTap}\n      onKeyPress={handleKeyPress}\n      ref={elementRef}\n      variant=\"outlined\"\n      disabled={!injected.enabled}\n      {...passThroughProps}\n    >\n      {children}\n    </Button>\n  );\n});\n\nButtonElement.propTypes = {\n  /**\n   * Your own content displayed in a CardContent component\n   * @see {@link https://material-ui.com/components/cards/#card | MUI Card demo}\n   */\n  children: PropTypes.node.isRequired,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * A special font family to use\n   */\n  fontFamily: PropTypes.string,\n  /**\n   * The size of the font\n   */\n  fontSize: PropTypes.oneOf(['inherit', 'small', 'medium', 'large', 'xl']),\n  /**\n   * A set of props injected by the Story renderer\n   */\n  injected: PropTypes.shape({\n    /**\n     * If set to false, component will not be focused when being enabled.\n     */\n    autoFocus: PropTypes.bool.isRequired,\n    /**\n     * A Flag for indicating if the Element is currently active\n     */\n    enabled: PropTypes.bool.isRequired,\n    /**\n     * The location of the Element in the story tree\n     */\n    key: PropTypes.number.isRequired,\n    /**\n     * A set of navigation methods\n     * @see Navigation Class description\n     */\n    nav: PropTypes.object.isRequired,\n  }),\n  /**\n   * Callback triggered when Element is enabled and is clicked or key pressed.\n   */\n  onTap: PropTypes.func,\n  /**\n   * If set to true, the enabled Element cannot be \"tapped\" but *onTimeout* can still be called.\n   * Useful if you want to wait for an audio to finish before making tapping possible.\n   *\n   * Note that a component with a noop onTap is considered as readOnly: true\n   */\n  readOnly: PropTypes.bool,\n};\n\nButtonElement.defaultProps = {\n  className: '',\n  fontFamily: 'inherit',\n  fontSize: 'inherit',\n  injected: undefined,\n  onTap: null,\n  readOnly: false,\n};\n\nexport default ButtonElement;\n","import Intro from './Intro';\n\nexport default [Intro];\n","import ButtonElement from 'components/Element/Button';\n\nconst Intro = ['Intro', [\n  `Aussi grande soit-elle, chaque civilisation est vouée à disparaître\n  et les ruines laissées par nos ancêtres cohabitent avec les monuments de notre ère.\n  Mais dans ce vieux monde abîmé par le poids de la guerre fleuri l'audace des Hommes.\n  Ils forgent le progrès, et laissent une marque parmi leurs pairs.`,\n\n  `Cette aura qui vous entoure me parle,\n  elle me montre le destin qui vous accompagne, vous et votre audace.\n  Que dis-je ? Les destins ! Du plus court au plus long et du plus sombre au plus sacré...`,\n\n  `Saurez-vous saisir les opportunités tout en préservant votre nature ?\n  Parviendrez-vous à protéger les personnes qui vous sont chères ?\n  Assumerez-vous les choix que vous allez prendre ?`,\n\n  `Prenez-les sagement, naturellement, égoîstement ou peu importe,\n   car rien n'est aussi simple qu'il n'en ait l'air\n   et les conséquences de vos actions répondront à leur propre mystère.`,\n\n  {\n    component: ButtonElement,\n    children: 'Land of Nightmares',\n    fontFamily: 'Rebucked',\n    fontSize: 'xl',\n    color: 'primary',\n    onTap: ({ goForward }) => goForward(),\n  },\n\n  `Terminons les récits du passé, les Hommes et leur empire,\n  les rêves des explorateurs qui jadis visitèrent ce lieu sans revenir.`,\n\n  `Ce vieux temple que vous savez au fond d'une jungle, dense et magique est votre prison depuis une éternité.\n  Vous y demeurez actuellement inerte, sommeillant au coeur de la pierre et au pied d'un monde austère.`,\n\n  {\n    children: `Au coeur de votre tombeau même ! Celui de votre ancienne vie, que vous avez volontairement oublié.\n    Souhaitez vous vraiment vous réveiller ?`,\n    onTimeout: ({ goForward }) => goForward(1),\n    timeout: 20000,\n    actions: [\n      { children: `Se réveiller`, onClick: ({ goForward }) => goForward() },\n      { children: `Rester passive`, onClick: ({ goForward }) => goForward(1) },\n    ],\n  },\n\n  {\n    children: `Vous le souhaitez, mais vous ne controllez rien. C'est au final le hasard qui s'en chargera.`,\n    onTap: ({ goForward }) => goForward(1),\n  },\n\n  `Vous avez raison d'être passive, car même si la pensée vous effraie, vous ne controllez rien.`,\n\n  `Soudain, vous entendez le craquement du granite qui se dérobe devant vous.\n  Une lumière vient alors intensément vous éblouir et vous sortir définitivement de ce long repos.\n  Vous la sentez aussi sur votre coprs, nu, comme si vous n'aviez jamais goûté à la vie.`,\n\n  `L'air vous agresse, il vous fouette,\n  comme s'il se vangeait, lui aussi, de ne jamais avoir pu vous toucher, durant toutes ces années !\n  Ou ces millénaires, qui sait ?`,\n\n\n  {\n    children: `Vous n'avez aucune notion du temps, vos repères sont inexistants, tout est sombre ou néant.\n    Vous êtes étrangère à ce que vous vivez, mais vous le savez dangereux. Par quel hasard êtes vous ...\n    secourue ou attaquée ?`,\n    hint: `Mettre en garde ce qui est venu vous chercher est sans doute la meilleure option,\n    mais vous pourriez aussi essayer de puisez dans votre instinct primaire pour des résultats plus divers.`,\n    actions: [\n      { children: `Mettre en garde`, onClick: ({ goForward }) => goForward() },\n      { children: `Puiser dans l'instinct`, onClick: ({ goForward }) => goForward() },\n    ],\n  },\n\n  {\n    children: `Pas de suite pour l'instant. Merci les amis pour le beta test !`,\n    readOnly: true,\n  },\n]];\n\nexport default Intro;\n","import React, { useCallback, useMemo, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport clsx from 'clsx';\n\nimport { SnackbarProvider } from 'notistack';\n\nimport { Story, Tree } from '@react-story-rich/core';\nimport mapStateToProps from '@react-story-rich/core/reducers/mapStateToProps';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Container from '@material-ui/core//Container';\n\nimport DefaultElement from 'components/Element/Default';\nimport Drawer from 'components/Drawer';\nimport Navigation from 'components/Navigation';\nimport ScrollToBottom from 'components/ScrollToBottom';\n\nimport tree from 'tree';\n\nconst useStyles = makeStyles((theme) => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.background.default,\n    },\n  },\n  root: {\n    marginBottom: 56, // Navigation height\n  },\n  appBar: {\n    top: 'auto',\n    bottom: 0,\n    backgroundColor: theme.palette.background.default,\n  },\n  navigation: {\n    width: '100vw',\n  },\n}));\n\nfunction Play({ dispatch, history }) {\n  const ref = useRef(null);\n  const classes = useStyles();\n\n  const [drawerState, setDrawerState] = useState({ open: false });\n  const toggleDrawer = useCallback((open = !drawerState.open) => (event) => {\n    if (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) { return; }\n    setDrawerState({ open });\n  }, [drawerState.open]);\n\n  const root = useMemo(() => new Tree(tree), []);\n\n  return (\n    <SnackbarProvider maxSnack={3}>\n      <div ref={ref} className={clsx('Game', classes.root)}>\n        <Drawer open={drawerState.open} toggle={toggleDrawer} />\n        <ScrollToBottom targetRef={ref} />\n        <Container maxWidth=\"sm\">\n          <Story\n            dispatch={dispatch}\n            history={history}\n            nodeComponent={DefaultElement}\n            tree={root}\n          />\n        </Container>\n        <AppBar position=\"fixed\" className={classes.appBar} elevation={4}>\n          <Navigation rootPath=\"/play\" className={classes.navigation} onMenuClick={toggleDrawer(true)} />\n        </AppBar>\n      </div>\n    </SnackbarProvider>\n  );\n}\n\nPlay.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  history: PropTypes.array.isRequired,\n};\n\nexport default connect(mapStateToProps)(Play);\n","import createReducer from '../createReducer';\n\n// ACTIONS\nexport const ALLOW_AUDIO = 'ALLOW_AUDIO';\nexport const allowAudio = () => ({ type: ALLOW_AUDIO });\n\n// REDUCER\nexport default createReducer(false, {\n  [ALLOW_AUDIO]: () => true,\n});\n","import React, { useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport { useTranslation } from 'react-i18next';\n\nimport Alert from '@material-ui/lab/Alert';\nimport Button from '@material-ui/core/Button';\n\nimport { allowAudio } from 'store/allowAudio';\nimport { updateSettings } from 'store/settings';\n\nconst AllowAudio = ({ dispatch, isAllowed, ...passThroughProps }) => {\n  const { t } = useTranslation('UI');\n\n  const handleAllowAudio = useCallback(() => {\n    dispatch(updateSettings({ audio: true }));\n    dispatch(allowAudio());\n  }, [dispatch]);\n\n  return !isAllowed ? (\n    <Alert\n      severity=\"info\"\n      variant=\"outlined\"\n      action={(\n        <Button color=\"inherit\" size=\"small\" onClick={handleAllowAudio}>\n          {t('AllowAudio.action')}\n        </Button>\n      )}\n      {...passThroughProps}\n    >\n      {t('AllowAudio.text')}\n    </Alert>\n  ) : null;\n};\n\nAllowAudio.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  isAllowed: PropTypes.bool.isRequired,\n};\n\nexport default connect((state) => ({ isAllowed: state.allowAudio }))(AllowAudio);\n","import React, { useCallback, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport clsx from 'clsx';\n\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport TranslateIcon from '@material-ui/icons/Translate';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport { useMediaQuery } from '@material-ui/core';\n\nconst NAME = 'Settings.Inputs.Language';\n\nconst useStyles = makeStyles({\n  fullWidth: {\n    width: '100%',\n  },\n  button: {\n    justifyContent: 'space-between',\n  },\n});\n\nfunction Language({ className, displayHelperText, fullWidth, ...rest }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up('sm'));\n\n  const { t, i18n } = useTranslation('UI');\n\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleChange = useCallback((language) => () => {\n    i18n.changeLanguage(language);\n    handleClose();\n  }, [i18n]);\n\n  return (\n    <FormGroup className={clsx({ [classes.fullWidth]: fullWidth })}>\n      <Button\n        className={clsx(classes.button, className)}\n        variant=\"contained\"\n        color=\"primary\"\n        aria-controls=\"language-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n        startIcon={matches && <TranslateIcon />}\n        endIcon={<ArrowDropDownIcon />}\n        {...rest}\n      >\n        {t(`${NAME}.${i18n.language}`)}\n      </Button>\n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n      >\n        <MenuItem value=\"fr\" onClick={handleChange('fr')}>{t(`${NAME}.fr`)}</MenuItem>\n        <MenuItem value=\"en\" onClick={handleChange('en')}>{t(`${NAME}.en`)}</MenuItem>\n      </Menu>\n      {displayHelperText && <FormHelperText>{t(`${NAME}.helperText`)}</FormHelperText>}\n    </FormGroup>\n  );\n}\n\nLanguage.propTypes = {\n  className: PropTypes.string,\n  displayHelperText: PropTypes.bool,\n  fullWidth: PropTypes.bool,\n};\n\nLanguage.defaultProps = {\n  className: '',\n  displayHelperText: false,\n  fullWidth: false,\n};\n\nexport default Language;\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport Slider from '@material-ui/core/Slider';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport Typography from '@material-ui/core/Typography';\n\nimport VolumeUpIcon from '@material-ui/icons/VolumeUp';\n\nimport { updateSettings } from 'store/settings';\n\nconst NAME = 'Settings.Inputs.MusicVolume';\n\nconst useStyles = makeStyles({\n  input: {\n    width: 75,\n  },\n});\n\nfunction MusicVolume({ dispatch, name, value }) {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  const handleSliderChange = useCallback((e, musicVolume) => {\n    dispatch(updateSettings({ musicVolume }));\n  }, [dispatch]);\n\n  const handleInputChange = useCallback((e) => {\n    let musicVolume = e.target.value === '' ? '' : Number(e.target.value);\n    if (musicVolume < 0) { musicVolume = 0; } else if (musicVolume > 100) { musicVolume = 100; }\n\n    dispatch(updateSettings({ musicVolume }));\n  }, [dispatch]);\n\n  return (\n    <FormControl fullWidth>\n      <Typography id={name} variant=\"body2\" gutterBottom>{t(`${NAME}.label`)}</Typography>\n      <Grid container spacing={2} alignItems=\"center\">\n        <Grid item>\n          <VolumeUpIcon />\n        </Grid>\n        <Grid item xs>\n          <Slider\n            value={value}\n            onChange={handleSliderChange}\n            aria-labelledby={name}\n          />\n        </Grid>\n        <Grid item>\n          <OutlinedInput\n            className={classes.input}\n            value={value}\n            margin=\"dense\"\n            onChange={handleInputChange}\n            onBlur={handleInputChange}\n            labelWidth={0}\n            inputProps={{\n              step: 5,\n              min: 0,\n              max: 100,\n              type: 'number',\n            }}\n          />\n        </Grid>\n      </Grid>\n    </FormControl>\n  );\n}\n\nMusicVolume.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  name: PropTypes.string,\n  value: PropTypes.number.isRequired,\n};\n\nMusicVolume.defaultProps = {\n  name: 'musicVolume',\n};\n\nexport default connect((state) => ({ value: state.settings.musicVolume }))(MusicVolume);\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport Slider from '@material-ui/core/Slider';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport Typography from '@material-ui/core/Typography';\n\nimport VolumeUpIcon from '@material-ui/icons/VolumeUp';\n\nimport { updateSettings } from 'store/settings';\n\nconst NAME = 'Settings.Inputs.SoundVolume';\n\nconst useStyles = makeStyles({\n  input: {\n    width: 75,\n  },\n});\n\nfunction SoundVolume({ dispatch, name, value }) {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  const handleSliderChange = useCallback((e, soundVolume) => {\n    dispatch(updateSettings({ soundVolume }));\n  }, [dispatch]);\n\n  const handleInputChange = useCallback((e) => {\n    let soundVolume = e.target.value === '' ? '' : Number(e.target.value);\n    if (soundVolume < 0) { soundVolume = 0; } else if (soundVolume > 100) { soundVolume = 100; }\n\n    dispatch(updateSettings({ soundVolume }));\n  }, [dispatch]);\n\n  return (\n    <FormControl fullWidth>\n      <Typography id={name} variant=\"body2\" gutterBottom>{t(`${NAME}.label`)}</Typography>\n      <Grid container spacing={2} alignItems=\"center\">\n        <Grid item>\n          <VolumeUpIcon />\n        </Grid>\n        <Grid item xs>\n          <Slider\n            value={value}\n            onChange={handleSliderChange}\n            aria-labelledby={name}\n          />\n        </Grid>\n        <Grid item>\n          <OutlinedInput\n            className={classes.input}\n            value={value}\n            margin=\"dense\"\n            onChange={handleInputChange}\n            onBlur={handleInputChange}\n            labelWidth={0}\n            inputProps={{\n              step: 5,\n              min: 0,\n              max: 100,\n              type: 'number',\n            }}\n          />\n        </Grid>\n      </Grid>\n    </FormControl>\n  );\n}\n\nSoundVolume.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  name: PropTypes.string,\n  value: PropTypes.number.isRequired,\n};\n\nSoundVolume.defaultProps = {\n  name: 'soundVolume',\n};\n\nexport default connect((state) => ({ value: state.settings.soundVolume }))(SoundVolume);\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport Slider from '@material-ui/core/Slider';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport Typography from '@material-ui/core/Typography';\n\nimport VolumeUpIcon from '@material-ui/icons/VolumeUp';\n\nimport { updateSettings } from 'store/settings';\n\nconst NAME = 'Settings.Inputs.DialogVolume';\n\nconst useStyles = makeStyles({\n  input: {\n    width: 75,\n  },\n});\n\nfunction DialogVolume({ dispatch, name, value }) {\n  const classes = useStyles();\n  const { t } = useTranslation('UI');\n\n  const handleSliderChange = useCallback((e, dialogVolume) => {\n    dispatch(updateSettings({ dialogVolume }));\n  }, [dispatch]);\n\n  const handleInputChange = useCallback((e) => {\n    let dialogVolume = e.target.value === '' ? '' : Number(e.target.value);\n    if (dialogVolume < 0) { dialogVolume = 0; } else if (dialogVolume > 100) { dialogVolume = 100; }\n\n    dispatch(updateSettings({ dialogVolume }));\n  }, [dispatch]);\n\n  return (\n    <FormControl fullWidth>\n      <Typography id={name} variant=\"body2\" gutterBottom>{t(`${NAME}.label`)}</Typography>\n      <Grid container spacing={2} alignItems=\"center\">\n        <Grid item>\n          <VolumeUpIcon />\n        </Grid>\n        <Grid item xs>\n          <Slider\n            value={value}\n            onChange={handleSliderChange}\n            aria-labelledby={name}\n          />\n        </Grid>\n        <Grid item>\n          <OutlinedInput\n            className={classes.input}\n            value={value}\n            margin=\"dense\"\n            onChange={handleInputChange}\n            onBlur={handleInputChange}\n            labelWidth={0}\n            inputProps={{\n              step: 5,\n              min: 0,\n              max: 100,\n              type: 'number',\n            }}\n          />\n        </Grid>\n      </Grid>\n    </FormControl>\n  );\n}\n\nDialogVolume.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  name: PropTypes.string,\n  value: PropTypes.number.isRequired,\n};\n\nDialogVolume.defaultProps = {\n  name: 'dialogVolume',\n};\n\nexport default connect((state) => ({ value: state.settings.dialogVolume }))(DialogVolume);\n","import React, { useCallback, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useSnackbar } from 'notistack';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Alert from '@material-ui/lab/Alert';\nimport Fade from '@material-ui/core/Fade';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Button from '@material-ui/core/Button';\n\nimport AllowAudio from 'components/AllowAudio';\n\nimport { resetHistory } from '@react-story-rich/core/reducers/history';\n\nimport Language from './Inputs/Language';\nimport Audio from './Inputs/Audio';\nimport DarkMode from './Inputs/DarkMode';\nimport Hints from './Inputs/Hints';\nimport TableTopMode from './Inputs/TableTopMode';\nimport MusicVolume from './MusicVolume';\nimport SoundVolume from './Inputs/SoundVolume';\nimport DialogVolume from './DialogVolume';\n\nconst useStyles = makeStyles((theme) => ({\n  section: {\n    marginTop: theme.spacing(3),\n  },\n  listItem: {\n    paddingBottom: theme.spacing(3),\n  },\n  alert: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nconst NAME = 'Settings';\nfunction Settings({ allowAudio, dispatch }) {\n  const classes = useStyles();\n  const location = useLocation();\n  const { t } = useTranslation('UI');\n  const { enqueueSnackbar } = useSnackbar();\n\n  const referrer = useMemo(\n    () => new URLSearchParams(location.search).get('referrer') || '',\n    [location.search],\n  );\n\n  const handleResetHistory = useCallback(() => {\n    dispatch(resetHistory());\n    enqueueSnackbar(t(`${NAME}.inGame.resetHistory.success`), { variant: 'warning', preventDuplicate: true });\n  }, [dispatch, enqueueSnackbar, t]);\n\n  return (\n    <Fade in className=\"Settings\">\n      <Container maxWidth=\"sm\">\n        <Typography\n          component=\"h1\"\n          variant=\"h3\"\n          color=\"textPrimary\"\n          align=\"center\"\n        >\n          {t(`${NAME}.title`)}\n        </Typography>\n        <Typography\n          variant=\"h6\"\n          color=\"textSecondary\"\n          align=\"center\"\n          gutterBottom\n        >\n          {t(`${NAME}.subheader`)}\n        </Typography>\n        <Card className={classes.section}>\n          <CardHeader title={t(`${NAME}.text.title`)} subheader={t(`${NAME}.text.subheader`)} />\n          <List disablePadding>\n            <ListItem className={classes.listItem} divider>\n              <Language displayHelperText fullWidth />\n            </ListItem>\n            <ListItem className={classes.listItem} divider><DarkMode displayHelperText /></ListItem>\n          </List>\n        </Card>\n        <Card className={classes.section}>\n          <CardHeader title={t(`${NAME}.volume.title`)} subheader={t(`${NAME}.volume.subheader`)} />\n          <List disablePadding>\n            <ListItem divider><MusicVolume /></ListItem>\n            <ListItem divider><SoundVolume /></ListItem>\n            <ListItem divider><DialogVolume /></ListItem>\n            {allowAudio ? (\n              <ListItem className={classes.listItem} divider><Audio displayHelperText /></ListItem>\n            ) : (\n              <ListItem className={classes.listItem} divider>\n                <AllowAudio className={classes.alert} />\n              </ListItem>\n            )}\n          </List>\n        </Card>\n        <Card className={classes.section}>\n          <CardHeader title={t(`${NAME}.inGame.title`)} subheader={t(`${NAME}.inGame.subheader`)} />\n          <List disablePadding>\n            <ListItem className={classes.listItem} divider><Hints displayHelperText /></ListItem>\n            <ListItem className={classes.listItem} divider>\n              <TableTopMode displayHelperText />\n            </ListItem>\n            <ListItem className={classes.listItem}>\n              <Alert\n                className={classes.alert}\n                severity=\"warning\"\n                variant=\"outlined\"\n                action={(\n                  <Button color=\"inherit\" size=\"small\" onClick={handleResetHistory}>\n                    {t(`${NAME}.inGame.resetHistory.action`)}\n                  </Button>\n                )}\n              >\n                {t(`${NAME}.inGame.resetHistory.text`)}\n              </Alert>\n            </ListItem>\n          </List>\n        </Card>\n        <Button\n          className={classes.section}\n          component={Link}\n          to={`/${referrer}`}\n          variant=\"outlined\"\n          color=\"default\"\n          fullWidth\n        >\n          {t(`${NAME}.goBack`)}\n        </Button>\n      </Container>\n    </Fade>\n  );\n}\n\nSettings.propTypes = {\n  allowAudio: PropTypes.bool.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default connect((state) => ({ allowAudio: state.allowAudio }))(Settings);\n","import React from 'react';\nimport Container from '@material-ui/core//Container';\nimport Typography from '@material-ui/core//Typography';\n\nfunction Credits() {\n  return (\n    <div className=\"Credits\">\n      <Container>\n        <Typography>\n          Audio\n        </Typography>\n        <Typography>\n          Title Screen: Freedom (Epic Fantasy) by lukiaffe https://www.newgrounds.com/audio/listen/785154\n        </Typography>\n      </Container>\n    </div>\n  );\n}\n\nexport default Credits;\n","import React, { useCallback, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport last from 'lodash/last';\n\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Fade from '@material-ui/core/Fade';\nimport Container from '@material-ui/core/Container';\nimport Card from '@material-ui/core/Card';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Box from '@material-ui/core/Box';\n\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport RecentActorsIcon from '@material-ui/icons/RecentActors';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\nimport VolumeUpIcon from '@material-ui/icons/VolumeUp';\nimport VolumeOffIcon from '@material-ui/icons/VolumeOff';\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\nimport CodeIcon from '@material-ui/icons/Code';\n\nimport { updateSettings } from 'store/settings';\n\nimport ProjectName from 'components/ProjectName';\nimport Language from 'components/Settings/Inputs/Language';\nimport AllowAudio from '../AllowAudio';\n\nexport const NAME = 'TitleScreen';\n\nconst WEB = true; // Change if your are using this in an application (use env)\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    width: '100%',\n    minHeight: `calc(100vh - ${theme.spacing(4) * 2}px)`,\n  },\n  card: {\n    marginTop: theme.spacing(3),\n  },\n  action: {\n    marginTop: theme.spacing(1),\n    marginLeft: theme.spacing(1),\n  },\n  language: {\n    marginTop: theme.spacing(2),\n    maxWidth: '160px',\n    overflow: 'hidden',\n    [theme.breakpoints.up('sm')]: {\n      maxWidth: '320px',\n    },\n  },\n  playIcon: {\n    backgroundColor: theme.palette.primary.main,\n  },\n  flexGrow: {\n    flexGrow: 1,\n  },\n  allowAudio: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nfunction TitleScreen({ allowAudio, currentLocation, dispatch, settings }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up('sm'));\n\n  const { t } = useTranslation('UI');\n\n  const newGame = useMemo(() => currentLocation === 0, [currentLocation]);\n\n  const muteIcon = useMemo(() => (\n    settings.audio ? <VolumeUpIcon /> : <VolumeOffIcon />\n  ), [settings.audio]);\n\n  const darkModeIcon = useMemo(() => (\n    settings.darkMode ? <Brightness4Icon /> : <Brightness7Icon />),\n  [settings.darkMode]);\n\n  const playLinkText = useMemo(() => (\n    newGame ? t(`${NAME}.play`) : t(`${NAME}.keepPlaying`)\n  ), [newGame, t]);\n\n  const handleUpdateSettings = useCallback((setting, oldValue) => () => {\n    dispatch(updateSettings({ [setting]: !oldValue }));\n  }, [dispatch]);\n\n  return (\n    <Fade in className={classes.root}>\n      <div className=\"TitleScreen\">\n        <Container maxWidth=\"sm\">\n          <ProjectName\n            component=\"h1\"\n            variant=\"h3\"\n            color=\"textPrimary\"\n            align=\"center\"\n          />\n          <Typography\n            variant=\"h6\"\n            color=\"textSecondary\"\n            align=\"center\"\n          >\n            {t(`${NAME}.subheader`)}\n          </Typography>\n          <AllowAudio className={classes.allowAudio} />\n          <Card className={classes.card}>\n            <List component=\"nav\">\n              <ListItem button component={Link} to=\"/play\">\n                <ListItemAvatar>\n                  <Avatar className={classes.playIcon}>\n                    <PlayArrowIcon />\n                  </Avatar>\n                </ListItemAvatar>\n                <ListItemText primary={playLinkText} />\n              </ListItem>\n              <ListItem button component={Link} to=\"/settings\">\n                <ListItemAvatar>\n                  <Avatar>\n                    <SettingsIcon />\n                  </Avatar>\n                </ListItemAvatar>\n                <ListItemText primary={t(`${NAME}.settings`)} />\n              </ListItem>\n              <ListItem button component={Link} to=\"/credits\">\n                <ListItemAvatar>\n                  <Avatar>\n                    <RecentActorsIcon />\n                  </Avatar>\n                </ListItemAvatar>\n                <ListItemText primary={t(`${NAME}.credits`)} />\n              </ListItem>\n              {!WEB && (\n                <ListItem button>\n                  <ListItemAvatar>\n                    <Avatar>\n                      <PowerSettingsNewIcon />\n                    </Avatar>\n                  </ListItemAvatar>\n                  <ListItemText primary={t(`${NAME}.quit`)} />\n                </ListItem>\n              )}\n            </List>\n          </Card>\n          <Box display=\"flex\">\n            <Language className={classes.language} size=\"small\" variant=\"outlined\" color=\"default\" />\n            <span className={classes.flexGrow} />\n            {matches && (\n              <IconButton\n                className={classes.action}\n                component=\"a\"\n                href=\"https://github.com/WaSa42/land-of-nightmares\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                aria-label={t(`${NAME}.sources`)}\n              >\n                <CodeIcon />\n              </IconButton>\n            )}\n            <IconButton\n              className={classes.action}\n              aria-label={t(`${NAME}.darkMode`)}\n              onClick={handleUpdateSettings('darkMode', settings.darkMode)}\n              onKeyPress={handleUpdateSettings('darkMode', settings.darkMode)}\n            >\n              {darkModeIcon}\n            </IconButton>\n            {allowAudio && (\n              <IconButton\n                className={classes.action}\n                aria-label={t(`${NAME}.mute`)}\n                onClick={handleUpdateSettings('audio', settings.audio)}\n                onKeyPress={handleUpdateSettings('audio', settings.audio)}\n              >\n                {muteIcon}\n              </IconButton>\n            )}\n          </Box>\n        </Container>\n      </div>\n    </Fade>\n  );\n}\n\nTitleScreen.propTypes = {\n  allowAudio: PropTypes.bool.isRequired,\n  currentLocation: PropTypes.number.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  settings: PropTypes.shape({\n    audio: PropTypes.bool.isRequired,\n    darkMode: PropTypes.bool.isRequired,\n  }).isRequired,\n};\n\nexport default connect((state) => ({\n  allowAudio: state.allowAudio,\n  settings: state.settings,\n  currentLocation: last(state.history).to,\n}))(TitleScreen);\n","import { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nexport default function ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport { useTranslation } from 'react-i18next';\nimport { useSnackbar } from 'notistack';\nimport usePizzicato from 'hooks/usePizzicato';\nimport usePizzicatoAutoPlay from 'hooks/usePizzicatoAutoPlay';\nimport useVolume from 'hooks/useVolume';\n\nimport Play from 'components/Play';\nimport Settings from 'components/Settings';\nimport Credits from 'components/Credits';\nimport TitleScreen from 'components/TitleScreen';\nimport ScrollToTop from 'components/ScrollToTop';\n\nimport musicPath from './app.mp3';\n\nconst musicName = 'Freedom (Epic Fantasy) by lukiaffe';\n\nfunction App({ settings, allowAudio }) {\n  const [pizzicato, pizzicatoState] = usePizzicato({ loop: true, path: musicPath });\n  useVolume(pizzicato, { audio: settings.audio, volume: settings.musicVolume });\n  usePizzicatoAutoPlay(allowAudio, pizzicato, pizzicatoState);\n\n  const { t } = useTranslation('UI');\n  const { enqueueSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    if (pizzicatoState.isPlaying) {\n      enqueueSnackbar(t(`App.nowPlaying`, { name: musicName }));\n    }\n  }, [enqueueSnackbar, pizzicatoState.isPlaying, t]);\n\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/play\">\n          <Play music={pizzicato} />\n        </Route>\n        <Route path=\"/settings\">\n          <ScrollToTop />\n          <Settings />\n        </Route>\n        <Route path=\"/credits\">\n          <Credits />\n        </Route>\n        <Route path=\"/\">\n          <ScrollToTop />\n          <TitleScreen />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nApp.propTypes = {\n  allowAudio: PropTypes.bool.isRequired,\n  settings: PropTypes.shape({\n    audio: PropTypes.bool.isRequired,\n    darkMode: PropTypes.bool.isRequired,\n    musicVolume: PropTypes.number.isRequired,\n  }).isRequired,\n};\n\nexport default connect((state) => ({\n  allowAudio: state.allowAudio,\n  settings: state.settings,\n}))(App);\n","import deepPurple from '@material-ui/core/colors/deepPurple';\nimport teal from '@material-ui/core/colors/teal';\n\nconst light = {\n  palette: {\n    type: 'light',\n    primary: deepPurple,\n    secondary: teal,\n  },\n};\n\nconst dark = {\n  palette: {\n    type: 'dark',\n    primary: {\n      main: deepPurple[200],\n    },\n    secondary: teal,\n  },\n};\n\nexport default { light, dark };\n","import React, { useMemo } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport isEmpty from 'lodash/isEmpty';\n\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { createMuiTheme, makeStyles, ThemeProvider } from '@material-ui/core/styles';\n\nimport themeOptions from './theme';\n\nconst useStyles = makeStyles({\n  '@global': {\n    body: {\n      margin: 0,\n    },\n  },\n  root: ({ theme, backgroundImage }) => ({\n    padding: theme.spacing(4, 0),\n    width: '100%',\n    minHeight: `calc(100vh - ${theme.spacing(4) * 2}px)`,\n    background: !isEmpty(backgroundImage) ? `url(\"${backgroundImage}\")` : theme.palette.background.default,\n    backgroundSize: 'cover',\n    backgroundAttachment: 'fixed',\n    backgroundPosition: 'center',\n  }),\n});\n\nfunction Layout({ backgroundImage, children, dark }) {\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n\n  const mode = useMemo(() => {\n    let darkMode = prefersDarkMode;\n    if (dark !== null) { darkMode = dark; }\n\n    return darkMode ? 'dark' : 'light';\n  }, [dark, prefersDarkMode]);\n\n  const theme = useMemo(() => createMuiTheme(themeOptions[mode]), [mode]);\n  const classes = useStyles({ theme, backgroundImage });\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div className={classes.root}>\n        {children}\n      </div>\n    </ThemeProvider>\n  );\n}\n\nLayout.propTypes = {\n  /**\n   * A node of your content.\n   */\n  backgroundImage: PropTypes.node,\n  /**\n   * A node of your content.\n   */\n  children: PropTypes.node.isRequired,\n  /**\n   * If set to true or false, the mod will be forced to dark/light.\n   * If undefined, the mod will be set by default\n   * according to the browser query setting: `prefers-color-scheme`\n   */\n  dark: PropTypes.bool,\n};\n\nLayout.defaultProps = {\n  backgroundImage: '',\n  dark: null,\n};\n\nexport default connect((state) => ({\n  ...state.layout,\n  dark: state.settings.darkMode,\n}))(Layout);\n","import createReducer from '../createReducer';\n\n// ACTIONS\nexport const UPDATE_LAYOUT = 'UPDATE_LAYOUT';\nexport const updateLayout = (layout) => ({ type: UPDATE_LAYOUT, layout });\n\n// REDUCER\nexport default createReducer({ backgroundImage: '' }, {\n  [UPDATE_LAYOUT]: (state, { layout }) => ({ ...state, ...layout }),\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { applyMiddleware, compose, createStore, combineReducers } from 'redux';\nimport { Provider } from 'react-redux';\n\nimport { persistStore, persistReducer } from 'redux-persist';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport storage from 'redux-persist/lib/storage';\n\nimport logger from 'redux-logger';\nimport thunk from 'redux-thunk';\n\nimport history from '@react-story-rich/core/reducers/history';\n\nimport allowAudio from 'store/allowAudio';\nimport layout from 'store/layout';\nimport settings from 'store/settings';\n\nconst middleWares = [thunk];\nif (process.env.NODE_ENV === 'development') { middleWares.push(logger); }\n\nconst reducers = combineReducers({\n  allowAudio,\n  history,\n  layout,\n  settings,\n});\nconst persistedReducers = persistReducer({\n  key: 'root',\n  storage,\n  blacklist: ['allowAudio', 'layout'], // layout will not be persisted\n}, reducers);\n\nexport const store = createStore(persistedReducers, compose(applyMiddleware(...middleWares)));\nexport const persistor = persistStore(store);\n\nconst Store = ({ children }) => (\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      {children}\n    </PersistGate>\n  </Provider>\n);\n\nStore.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Store;\n","import translation_en from './en/translation'\nimport UI_en from './en/UI'\n\nimport translation_fr from './fr/translation'\nimport UI_fr from './fr/UI'\n\nexport default {\n  en: {\n    translation: translation_en,\n    UI: UI_en,\n  },\n  fr: {\n    translation: translation_fr,\n    UI: UI_fr,\n  },\n}\n","import React, { Suspense } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport * as serviceWorker from 'serviceWorker';\n\nimport i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport { SnackbarProvider } from 'notistack';\n\nimport App from 'App';\nimport Layout from 'components/Layout';\nimport Store from 'store';\n\nimport 'index.css';\n\nimport resources from 'locales/resources';\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources,\n\n    debug: process.env.NODE_ENV !== 'production',\n    defaultNS: 'UI',\n    whitelist: ['fr', 'en'],\n    fallbackLng: 'en',\n\n    interpolation: {\n      escapeValue: false, // not needed for react!!\n    },\n\n    // react i18next special options (optional)\n    // override if needed - omit if ok with defaults\n    react: {\n      // bindI18n: 'languageChanged',\n      // bindI18nStore: '',\n      // transEmptyNodeValue: '',\n      // transSupportBasicHtmlNodes: true,\n      // transKeepBasicHtmlNodesFor: ['br', 'strong', 'i'],\n      // useSuspense: true,\n    },\n  });\n\nReactDOM.render(\n  <Suspense fallback={<Backdrop open><CircularProgress color=\"inherit\" /></Backdrop>}>\n    <Store>\n      <Layout>\n        <SnackbarProvider maxSnack={6} anchorOrigin={{ horizontal: 'right', vertical: 'top' }}>\n          <App />\n        </SnackbarProvider>\n      </Layout>\n    </Store>\n  </Suspense>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}